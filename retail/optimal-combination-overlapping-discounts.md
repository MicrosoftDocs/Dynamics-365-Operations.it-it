---
title: Determine the optimal combination of overlapping discounts
description: "Quando gli sconti si sovrappongono, è necessario determinare la combinazione di sconti di sovrapposizione che produrranno il totale della transazione o inferiore a quello massimo sconto totale. Quando l&quot;importo dello sconto dipende dal prezzo dei prodotti acquistati, ad esempio &quot;l&quot;azienda comune 1, 1 tolga la percentuale&quot; X (BOGO) vengono ridotti al dettaglio, il processo in seguito all&quot;ottimizzazione combinatoria."
author: kfend
manager: AnnBe
ms.date: 04/04/2017
ms.topic: article
ms.prod: 
ms.service: Dynamics365Operations
ms.technology: 
audience: Application User, IT Pro
ms.reviewer: kfend
ms.search.scope: AX 7.0.0, Operations, Core
ms.custom: 89643
ms.assetid: 09843c9a-3e19-4e4a-a8ce-80650f2095f9
ms.search.region: global
ms.search.industry: Retail
ms.author: kfend
ms.search.validFrom: 2016-05-31
ms.dyn365.ops.version: AX 7.0.1
translationtype: Human Translation
ms.sourcegitcommit: 0c6a7bdc4ba82dd57ab3e395e6dfb0ae4de31fc4
ms.openlocfilehash: 31e5104045ed5b8fbfa3677a7f5702d551de4231
ms.lasthandoff: 03/31/2017


---

# <a name="determine-the-optimal-combination-of-overlapping-discounts"></a>Determine the optimal combination of overlapping discounts

Quando gli sconti si sovrappongono, è necessario determinare la combinazione di sconti di sovrapposizione che produrranno il totale della transazione o inferiore a quello massimo sconto totale. Quando l'importo dello sconto dipende dal prezzo dei prodotti acquistati, ad esempio "l'azienda comune 1, 1 tolga la percentuale" X (BOGO) vengono ridotti al dettaglio, il processo in seguito all'ottimizzazione combinatoria.

L'articolo viene applicata a Microsoft Dynamics AX 2012 R3 con il 3105973 KB (rilasciato il 2 novembre 2015) o successiva e versione del febbraio 2016 di Microsoft Dynamics AX. Per determinare gli sconti di sovrapposizione di combinazione per applicarci maniera e per continuare a immettere le funzionalità di sconto ricca disponibile in Microsoft Dynamics AX for Retail, abbiamo introdotto un metodo per l'applicazione degli sconti di sovrapposizione. Chiamiamo il nuovo metodo ** classificazione di valore marginale **. Classificazione del valore marginale viene utilizzata quando il tempo necessario per valutare le possibili combinazioni di sconti di sovrapposizione supera una soglia configurabile ** parametri di articoli al dettaglio ** alla pagina in Dynamics AX. Nel metodo di classificazione di valore marginale, un valore viene calcolato per ciascuno sconto di sovrapposizione utilizzando il valore dello sconto sui prodotti comuni. Gli sconti sovrapposti vengono applicati dal livello più alto valore correlato al valore inferiore correlato. Per informazioni dettagliate sul nuovo metodo, vedere "la sezione di valore marginale", più avanti in questo articolo. Classificazione del valore marginale non viene utilizzata quando gli importi di sconto per un prodotto non saranno interessati da un altro prodotto nella transazione. Ad esempio, questo metodo non viene utilizzato per sconto più semplici, o per uno sconto semplice e un singolo sconto alla quantità di prodotto.

## <a name="discount-examples"></a>Esempi di sconto
In Dynamics AX, è possibile creare un numero illimitato di sconti al dettaglio in più comune dei prodotti. Tuttavia, poiché non esiste un limite, i problemi relativi alle prestazioni possono verificarsi quando si tenta di calcolare gli sconti da utilizzare nei prodotti. Negli esempi riportati più dettagliata questo problema. Nell'esempio 1, cominciamo con due prodotti e due sconti di sovrapposizione. Quindi, nell'esempio 2, mostriamo l'uscita verrà evolve di più prodotti aggiunti.

### <a name="example-1-two-products-and-two-discounts"></a>Esempio 1: Due prodotti e due sconti

In questo esempio, due prodotti richiesti per ottenere per ciascuno sconto e sconti non possono essere combinati. Gli sconti in questo esempio vengono ** migliore prezzo ** sconti. Entrambi i prodotti sono idonei a entrambi gli sconti. Di seguito vengono riportati i due sconti. [sconto di sovrapposizione 01 combinati![(]. /media/overlapping-discount-combo-01.jpg)](. /media/overlapping-discount-combo-01.jpg) Per tutti i due prodotti, il miglioramento dei due sconti dipende dai prezzi dei prodotti due. Se il prezzo di entrambi i prodotti sono uguali o quasi uguale a, lo sconto 1 è preferibile. Se il prezzo di un prodotto è inoltre inferiore al prezzo di un altro prodotto, lo sconto 2 è preferibile. Ecco la regola matematica per la valutazione dei due sconti completa: [sconto di sovrapposizione 02 combinati![(]. /media/overlapping-discount-combo-02.jpg)](. Nota di /media/overlapping-discount-combo-02.jpg) che quando il prezzo del prodotto 1 equivale a due terze parti del prezzo del prodotto 2, i due sconti sono uguali. In questo esempio, una data di validità percentuale di sconto relativi allo sconto riga 1 della percentuale (alcune modifiche ai prezzi dei prodotti in due distanti) a 25 (quando i prodotti due con lo stesso prezzo). La validità percentuale di sconto relativi allo sconto 2 è fissa. È sempre 20. Poiché effettiva percentuale di sconto relativi allo sconto 1 dispone di un intervallo che può essere superiore o inferiore allo sconto 2, il migliore sconto dipende dai prezzi dei due prodotti che devono essere scontati. In questo esempio, il calcolo viene completato rapidamente, poiché solo due sconti vengono applicati a solo due prodotti. Sono disponibili solo due possibili combinazioni: un'applicazione dell'applicazione di sconti 1 o uno sconto. 2. Non sono presenti le permutazioni da calcolare. Il valore di ogni sconto viene calcolato utilizzando entrambi i prodotti e il migliore sconto viene utilizzato.

### <a name="example-2-four-products-and-two-discounts"></a>Esempio 2: Quattro prodotti e due sconti

A questo punto, useremo quattro prodotti e gli stessi due sconti. I quattro i prodotti sono idonei a entrambi gli sconti. Sono disponibili dodici combinazioni possibili. Al termine, due sconti vengono applicate alla transazione in una delle seguenti combinazioni: due applicazioni dello sconto 1, due applicazioni dell'applicazione di sconti, 2 o uno dell'applicazione di sconti 1 e uno sconto. 2. Per illustrare le combinazioni possibili, esamineremo due diversi set di quattro prodotti con prezzi diversi:

-   I quattro i prodotti con lo stesso prezzo, $15.00. In questo caso, la migliore combinazione di sconto viene le due applicazioni dello sconto. 1. Due prodotti verranno prezzo di misura due saranno 50 percento dell'uscita. Il totale scontato per la transazione è $45 (15 + 15 + 7.50 + 7.50), ovvero $15 (25 percento) l'uscita dal totale undiscounted di manodopera. Sconto 2 è solo $12 (20 percento).
-   Due prodotti vengono $20 ciascuno, un prodotto è $15 e un prodotto in euro. In questo caso, la migliore combinazione di sconto riga è un'applicazione dell'applicazione di sconti 2 e uno sconto. 1. Nelle tabelle seguenti vengono illustrati gli sconti.

Per visualizzare le tabelle, utilizzare un prodotto da una riga e un prodotto da una colonna. Ad esempio, nella tabella per lo sconto 1, quando combinate i due $20 prodotti, si ottiene euro uscita. Nella tabella riportata di seguito per lo sconto 2, quando combinate il prodotto $15 e il prodotto euro, verrà visualizzato $4 uscita. [sconto di sovrapposizione 03 combinati![(]. /media/overlapping-discount-combo-03.jpg)](. /media/overlapping-discount-combo-03.jpg) Per primo, il troviamo maggiore sconto che sia disponibile per tutti i prodotti utilizzando due l'eventuale sconto. Le tabelle vengono illustrati due l'importo di sconto per tutte le combinazioni dei due prodotti. Le parti protette le tabelle per qualsiasi casi in cui un prodotto è accoppiato con se stessi, non possiamo ottenere, o stornare un abbinamento a due prodotti che genera lo stesso importo dello sconto e può essere ignorato. Esaminando le tabelle, si noterà che lo sconto 1 per i due $20 articoli è il più grande sconti che sia disponibile per uno sconto su tutte e quattro i prodotti. Questo sconto viene visualizzata in verde la prima tabella). Questo consente solo il prodotto $15 e il prodotto euro. Esaminando le due tabelle di nuovo, si noterà che, per questi due prodotti, sconti sono indicati 1 uno sconto $2.50, mentre lo sconto 2 a uno sconto $4. Di conseguenza, selezioniamo lo sconto. 2. Lo sconto totale viene $14. Per semplificare la discussione più semplice visualizzare, in questo campo sia due tabelle aggiuntive in cui è visualizzata anche percentuale di sconto per tutte le combinazioni possibili su prodotto per lo sconto 1 che lo sconto 2. Nella metà dell'elenco di combinazioni è inclusa, poiché, per questi due sconti, l'ordine in cui i due prodotti vengono resi lo sconto non è rilevante. Più alto di sconto (25 percento) viene visualizzata in verde e termina nello sconto più basso (10 percento) viene visualizzata in rosso. [sconto di sovrapposizione 04 combinati![(]. /media/overlapping-discount-combo-04.jpg)](. /media/overlapping-discount-combo-04.jpg) ** nota: ** Se i prezzi variano e due o più sconti di concorrenza, l'unico per garantire una maggiore combinazione di sconti è di valutare entrambi gli sconti e di confrontarli.

## <a name="total-possible-combinations"></a>Combinazioni possibili totali
In questa sezione viene effettuata esempio la sezione precedente. Aggiungeremo più prodotti e un altro e sconti vediamo definire combinazioni devono essere calcolate e confrontate. Nella seguente tabella è riportato il numero delle possibili combinazioni di sconto in base alla quantità di prodotto aumenta. La tabella seguente sono illustrate l'azione da eseguire quando entrambi sono presenti due sconti di sovrapposizione, come nell'esempio precedente e se sono presenti tre sconti di sovrapposizione. Numero delle possibili combinazioni di sconto che devono essere valutate precedenza supera quanto inoltre possibile utilizzare una macchina può indicare e confrontare rapidamente sufficienti per essere accettabile per le transazioni di vendita al dettaglio. [sconto di sovrapposizione 05 combinati![(]. /media/overlapping-discount-combo-05.jpg)](. /media/overlapping-discount-combo-05.jpg) Quando nuovamente le quantità maggiori o più sconti di sovrapposizione vengono applicati, il numero totale delle possibili combinazioni di sconto viene in milioni rapidamente e il tempo necessario per valutare rapidamente e selezionare la combinazione diventerà migliore notevole. Alcune ottimizzazioni sono state effettuate dal motore di prezzo di vendita al dettaglio per ridurre il numero totale di combinazioni che devono essere valutate. Tuttavia, poiché gli sconti di sovrapposizione dei numeri e le quantità in una transazione non vengono limitati, molte combinazioni sempre dovranno essere valutate ogni volta che viene sovrapponendo gli sconti. Questa situazione è il problema che la modalità di classificazione del valore marginale infrastruttura di accesso.

## <a name="marginal-value-method"></a>Metodo di valore marginale
Per risolvere il rilascio di un numero in modo esponenziale con aumento delle combinazioni che devono essere valutate, di ottimizzazione in cui viene calcolato il valore di prodotto comune di ogni sconto sull'insieme di prodotto a cui due o più sconti applicabili. Sono fatto riferimento al valore come ** valore marginale ** sconti per i prodotti comuni. Valore marginale è la media per l'incremento di prodotto di importo sconto totale quando i prodotti comuni inclusi in ogni sconto. Il valore viene calcolato marginale moltiplicata per l'importo totale dello sconto (DTotal), sottraente l'importo dello sconto per i prodotti comuni DMinus\\ (condivisa) e condivisione la differenza per il numero di prodotti (comuni ProductsShared). [sconto di sovrapposizione 06 combinati![(]. /media/overlapping-discount-combo-06.jpg)](. /media/overlapping-discount-combo-06.jpg) Dopo che il valore marginale di ciascuno sconto in un set di prodotti comune di calcolo, gli sconti applicati a prodotti comuni nell'ordine, esaurientemente, corrisponde al valore marginale al valore marginale inferiore. Per questo metodo, tutte le possibilità rimanenti di sconti non vengono confrontate dopo ogni volta che una singola istanza di uno sconto viene applicata. In alternativa, gli sconti di sovrapposizione vengono confrontati una volta e verranno applicate nell'ordine. Nessun confronto aggiuntivo viene eseguito. È possibile configurare la soglia per passare al metodo di valore marginale ** sconto ** nella scheda ** parametri ** al dettaglio della pagina. L'orario accettabile di calcolare lo sconto totale varie nelle aziende al dettaglio. Tuttavia, questo campo non rientra nell'intervallo di dieci di esecuzione in un momento.


