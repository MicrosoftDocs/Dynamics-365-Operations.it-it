---
title: Configurare origini dati Ricerca per utilizzare parametri specifici dell'applicazione ER
description: In questo argomento viene descritto come configurare origini dati Ricerca nei formati di Creazione di report elettronici (ER) per utilizzare parametri specifici dell'applicazione ER.
author: NickSelin
manager: AnnBe
ms.date: 04/02/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ERSolutionTable, EROperationDesigner, ERLookupDesigner, ERComponentLookupStructureEditing
audience: Application User, Developer, IT Pro
ms.reviewer: kfend
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2019-01-01
ms.dyn365.ops.version: Release 8.1.3
ms.openlocfilehash: 542580c859759c25da84589ec82495eb72bbcbe5
ms.sourcegitcommit: 74f5b04b482b2ae023c728e0df0eb78305493c6a
ms.translationtype: HT
ms.contentlocale: it-IT
ms.lasthandoff: 04/02/2021
ms.locfileid: "5853523"
---
# <a name="configure-lookup-data-sources-to-use-er-application-specific-parameters"></a><span data-ttu-id="a6a2e-103">Configurare origini dati Ricerca per utilizzare parametri specifici dell'applicazione ER</span><span class="sxs-lookup"><span data-stu-id="a6a2e-103">Configure Lookup data sources to use ER application-specific parameters</span></span> 

[!include[banner](../includes/banner.md)]

<span data-ttu-id="a6a2e-104">La funzionalità Parametri specifici dell'applicazione [Creazione di report elettronici (ER)](general-electronic-reporting.md) ti consente di configurare il filtro dati in un formato ER in modo che sia basato su un set di regole astratte.</span><span class="sxs-lookup"><span data-stu-id="a6a2e-104">The [Electronic reporting (ER)](general-electronic-reporting.md) application-specific parameters feature lets you configure data filtering in an ER format so that it's based on a set of abstract rules.</span></span> <span data-ttu-id="a6a2e-105">Questo set di regole può essere configurato per utilizzare l'origine dati di tipo **Ricerca** disponibile in un formato ER.</span><span class="sxs-lookup"><span data-stu-id="a6a2e-105">This set of rules can be configured to use the data source of the **Lookup** type that is available in an ER format.</span></span> <span data-ttu-id="a6a2e-106">Puoi quindi specificare regole reali oltre i designer di componenti ER utilizzando l'interfaccia utente (IU) che viene generata automaticamente in base alle impostazioni dell'origine dati **Ricerca** del formato ER corrispondente e ai dati della persona giuridica corrente.</span><span class="sxs-lookup"><span data-stu-id="a6a2e-106">You can then specify real rules beyond the ER components designers by using the user interface (UI) that is automatically generated based on the settings of the **Lookup** data source of the corresponding ER format and the current legal entity data.</span></span> <span data-ttu-id="a6a2e-107">Alla fine, le regole specificate saranno accessibili tramite l'origine dati **Ricerca** del formato ER quando viene eseguito questo formato ER.</span><span class="sxs-lookup"><span data-stu-id="a6a2e-107">Eventually, the specified rules will be accessed by the ER format's **Lookup** data source when this ER format is executed.</span></span>

> [!NOTE]
> <span data-ttu-id="a6a2e-108">Utilizza le origini dati configurate del formato ER modificabile per specificare quali dati dell'applicazione vengono utilizzati per configurare regole reali.</span><span class="sxs-lookup"><span data-stu-id="a6a2e-108">Use the configured data sources of the editable ER format to specify what application data is used to configure real rules.</span></span>

<span data-ttu-id="a6a2e-109">Usa la [pagina di progettazione Operazioni ER](general-electronic-reporting.md#building-a-format-that-uses-a-data-model-as-a-base) per portare un'origine dati di tipo **Ricerca** nel formato ER.</span><span class="sxs-lookup"><span data-stu-id="a6a2e-109">Use the [ER Operations designer](general-electronic-reporting.md#building-a-format-that-uses-a-data-model-as-a-base) to bring a data source of the **Lookup** type in to your ER format.</span></span> <span data-ttu-id="a6a2e-110">L'origine dati deve essere configurata per descrivere l'aspetto delle regole astratte, incluso quanto segue:</span><span class="sxs-lookup"><span data-stu-id="a6a2e-110">The data source must be configured to describe how your abstract rules look, including the following:</span></span>

   - <span data-ttu-id="a6a2e-111">Il set di parametri di un determinato tipo di dati il cui valore viene fornito per specificare una singola regola.</span><span class="sxs-lookup"><span data-stu-id="a6a2e-111">The parameter set of certain data type whose value is provided to specify a single rule.</span></span>
   - <span data-ttu-id="a6a2e-112">Il tipo di valore di un determinato tipo di dati restituito da una singola regola quando questa regola è considerata la più appropriata.</span><span class="sxs-lookup"><span data-stu-id="a6a2e-112">The value type of certain data type that is returned by a single rule when this rule is considered the most appropriate among others.</span></span>

<span data-ttu-id="a6a2e-113">Puoi configurare i seguenti tipi di origini dati **Ricerca** a seconda del tipo di valore restituito da qualsiasi regola configurata:</span><span class="sxs-lookup"><span data-stu-id="a6a2e-113">You can configure the following types of **Lookup** data sources depending on the type of value that is returned by any configured rule:</span></span>

   - <span data-ttu-id="a6a2e-114">Usa il tipo **Modello dati\Ricerca** quando deve essere restituito un valore di enumerazione modello.</span><span class="sxs-lookup"><span data-stu-id="a6a2e-114">Use the **Data model\Lookup** type when a model enumeration value must be returned.</span></span>
   - <span data-ttu-id="a6a2e-115">Usa il tipo **Dynamics 365 Operations\Ricerca** quando un valore di enumerazione dell'applicazione o un valore [tipo di dati esteso](../extensibility/extensible-edts.md) dell'applicazione deve essere restituito.</span><span class="sxs-lookup"><span data-stu-id="a6a2e-115">Use the **Dynamics 365 Operations\Lookup** type when an application enumeration value or an application [extended data type](../extensibility/extensible-edts.md) value must be returned.</span></span>
   - <span data-ttu-id="a6a2e-116">Usa il tipo **Enumerazione formato\Ricerca** quando deve essere restituito un valore di enumerazione formato.</span><span class="sxs-lookup"><span data-stu-id="a6a2e-116">Use the **Format enumeration\Lookup** type when a format enumeration value must be returned.</span></span>

<span data-ttu-id="a6a2e-117">L'illustrazione seguente mostra come configurare un'enumerazione formato nel formato ER di esempio.</span><span class="sxs-lookup"><span data-stu-id="a6a2e-117">The following illustration shows how a format enumeration can be configured in the sample ER format.</span></span>

   ![Visualizzazione di un'enumerazione formato come base per l'origine dati di ricerca configurata](./media/er-lookup-data-sources-img1.gif)

<span data-ttu-id="a6a2e-119">La seguente illustrazione mostra i componenti di formato che sono stati configurati per segnalare diversi tipi di imposte in una sezione diversa di un report generato.</span><span class="sxs-lookup"><span data-stu-id="a6a2e-119">The following illustration shows the format components that were configured to report different type of taxes in a different section of a generated report.</span></span>

   ![Visualizzazione delle sezioni del formato per segnalare separatamente diversi tipi di imposte](./media/er-lookup-data-sources-img2.png)

<span data-ttu-id="a6a2e-121">L'illustrazione seguente mostra come la pagina di progettazione Operazioni ER consente l'aggiunta di un'origine dati di tipo **Enumerazione formato\Ricerca**.</span><span class="sxs-lookup"><span data-stu-id="a6a2e-121">The following illustration shows how the ER Operations designer allows the addition of a data source of the **Format enumeration\Lookup** type.</span></span>  <span data-ttu-id="a6a2e-122">L'origine dati aggiunta è configurata per restituire un valore dell'enumerazione formato `List of taxation levels`.</span><span class="sxs-lookup"><span data-stu-id="a6a2e-122">The added data source is configured as returning a value of the `List of taxation levels` format enumeration.</span></span>

   ![Aggiunta di un'origine dati ER del tipo Enumerazione formato\Ricerca](./media/er-lookup-data-sources-img3.gif)

<span data-ttu-id="a6a2e-124">L'illustrazione seguente mostra come l'origine dati aggiunta è configurata per utilizzare il campo **Codice** dell'elenco di record **Model.Data.Tax** dell'origine dati **Modello** come parametro che deve essere specificato per ogni regola configurata.</span><span class="sxs-lookup"><span data-stu-id="a6a2e-124">The following illustration shows how the added data source is configured to use the **Code** field of the **Model.Data.Tax** record list of the **Model** data source as a parameter that must be specified for every configured rule.</span></span>

![Configurazione dei parametri dell'origine dati aggiunta del tipo Enumerazione formato\Ricerca](./media/er-lookup-data-sources-img4.gif)

<span data-ttu-id="a6a2e-126">L'origine dati `Model.Data.Tax` aggiunta è configurata per specificare un codice fiscale per ogni regola configurata accedendo ai record della tabella dell'applicazione **TaxTable**.</span><span class="sxs-lookup"><span data-stu-id="a6a2e-126">The added `Model.Data.Tax` data source is configured to specify a tax code for every configured rule by accessing records of the **TaxTable** application table.</span></span>

   ![Esaminare l'origine dati di ricerca di una singola società di tipo Enumerazione formato\Ricerca](./media/er-lookup-data-sources-img5.gif)

<span data-ttu-id="a6a2e-128">È possibile impostare le regole di ricerca per il formato ER selezionato utilizzando l'interfaccia utente allineata automaticamente con la struttura dell'origine dati configurata.</span><span class="sxs-lookup"><span data-stu-id="a6a2e-128">You can set up the lookup rules for the selected ER format by using the UI that is automatically aligned with the structure of the configured data source.</span></span> <span data-ttu-id="a6a2e-129">Attualmente, questa interfaccia utente richiede per ogni regola la definizione del valore restituito come valore di enumerazione formato `List of taxation levels` e del codice fiscale come parametro.</span><span class="sxs-lookup"><span data-stu-id="a6a2e-129">Currently, this UI requires that for each rule, you specify the returned value as the `List of taxation levels` format enumeration value as well as the tax code as a parameter.</span></span>

   ![Impostare le regole per l'origine dati configurata](./media/er-lookup-data-sources-img6.gif)

<span data-ttu-id="a6a2e-131">L'illustrazione seguente mostra come l'origine dati `Model.Data.Summary.LevelByLookup` di tipo **Campo calcolato** può essere configurata per chiamare l'origine dati **Ricerca** configurata fornendo i parametri richiesti.</span><span class="sxs-lookup"><span data-stu-id="a6a2e-131">The following illustration shows how the `Model.Data.Summary.LevelByLookup` data source of the **Calculated field** type can be configured to call the configured **Lookup** data source providing the required parameters.</span></span> <span data-ttu-id="a6a2e-132">Per elaborare questa chiamata al runtime, ER esamina l'elenco di regole configurate nella sequenza definita per individuare la prima regola che soddisfa le condizioni fornite.</span><span class="sxs-lookup"><span data-stu-id="a6a2e-132">To process this call at runtime, ER goes through the list of configured rules in the defined sequence to locate the first rule that satisfies the provided conditions.</span></span> <span data-ttu-id="a6a2e-133">In questo esempio, è la regola che contiene il codice fiscale che corrisponde a quello fornito.</span><span class="sxs-lookup"><span data-stu-id="a6a2e-133">In this example, it's the rule that contains the tax code that matches the provided one.</span></span> <span data-ttu-id="a6a2e-134">Di conseguenza, viene trovata la regola più appropriata e il valore di enumerazione configurato per la regola trovata viene restituito da questa origine dati.</span><span class="sxs-lookup"><span data-stu-id="a6a2e-134">As the result, the most appropriate rule is found and the enumeration value that is configured for the found rule is returned by this data source.</span></span>

> [!NOTE]
> <span data-ttu-id="a6a2e-135">Viene generata un'eccezione quando non viene trovata alcuna regola applicabile.</span><span class="sxs-lookup"><span data-stu-id="a6a2e-135">An exception is thrown when no applicable rule is found.</span></span> <span data-ttu-id="a6a2e-136">Per evitare queste eccezioni, configurare ulteriori regole alla fine dell'elenco di regole per gestire i casi in cui viene fornito un valore non configurato o nessun valore.</span><span class="sxs-lookup"><span data-stu-id="a6a2e-136">To prevent these exceptions, configure additional rules at the end of the rules list to handle cases when a non-configured value or no value is provided.</span></span> <span data-ttu-id="a6a2e-137">Usa le opzioni **\*Non vuoto\*** e **\*Vuoto\*** di conseguenza.</span><span class="sxs-lookup"><span data-stu-id="a6a2e-137">Use the **\*Not blank**\* and **\*Blank**\* options accordingly.</span></span>  
>
> ![Aggiungere un'origine dati per chiamare l'origine dati Ricerca configurata](./media/er-lookup-data-sources-img7.png)

<span data-ttu-id="a6a2e-139">Quando imposti l'opzione **Interaziendale** su **Sì** per l'origine dati di ricerca modificabile, aggiungi un nuovo parametro **Società** al set di parametri di questa origine dati.</span><span class="sxs-lookup"><span data-stu-id="a6a2e-139">When you set the **Cross-company** option to **Yes** for the editable lookup data source, you add a new required **Company** parameter to the set of parameters of this data source.</span></span> <span data-ttu-id="a6a2e-140">Il valore del parametro **Società** deve essere specificato al runtime quando viene chiamata l'origine dati di ricerca.</span><span class="sxs-lookup"><span data-stu-id="a6a2e-140">The value of the **Company** parameter must be specified at runtime when the lookup data source is called.</span></span> <span data-ttu-id="a6a2e-141">Quando il codice della società viene specificato al runtime, le regole configurate per questa società vengono utilizzate per trovare la regola più appropriata e viene restituito il valore corrispondente.</span><span class="sxs-lookup"><span data-stu-id="a6a2e-141">When the company code is specified at runtime, the rules configured for this company are used to find the most appropriate rule, and the corresponding value is returned.</span></span> <span data-ttu-id="a6a2e-142">La seguente illustrazione mostra come eseguire questa operazione e come viene modificato il set di parametri dell'origine dati modificabile.</span><span class="sxs-lookup"><span data-stu-id="a6a2e-142">The following illustration shows how you can do this and how the set of parameters of the editable data source is changed.</span></span>

   ![Esaminare l'origine dati di ricerca interaziendale di tipo Enumerazione formato\Ricerca](./media/er-lookup-data-sources-img8.gif)

> [!NOTE]
> <span data-ttu-id="a6a2e-144">Seleziona ogni società separatamente per configurare il set di regole per questa origine dati di ricerca del formato ER modificabile.</span><span class="sxs-lookup"><span data-stu-id="a6a2e-144">Select every company seperately to configure the set of rules for this lookup data source of the editable ER format.</span></span> <span data-ttu-id="a6a2e-145">Viene generata un'eccezione al runtime quando la ricerca interaziendale viene chiamata con il codice dell'azienda per la quale l'impostazione di ricerca non è stata completata.</span><span class="sxs-lookup"><span data-stu-id="a6a2e-145">An exception is thrown at runtime when the cross-company lookup is called with the code of the company for which the lookup setting was not completed.</span></span>
>
> <span data-ttu-id="a6a2e-146">Assicurati di concedere le autorizzazioni per un utente che esegue il formato ER con l'origine dati **Ricerca** per accedere ai dati di ogni società che rientra nell'ambito di questa origine dati.</span><span class="sxs-lookup"><span data-stu-id="a6a2e-146">Make sure that you grant permissions for a user who runs the ER format with the cross-company **Lookup** data source to access the data of every company that is in scope of this data source.</span></span> <span data-ttu-id="a6a2e-147">Altrimenti, viene generata un'eccezione al runtime.</span><span class="sxs-lookup"><span data-stu-id="a6a2e-147">Otherwise, an exception is thrown at runtime.</span></span>

<span data-ttu-id="a6a2e-148">Le funzionalità estese dell'origine dati **Ricerca** sono disponibili a partire dalla versione 10.0.19.</span><span class="sxs-lookup"><span data-stu-id="a6a2e-148">Starting in version 10.0.19, the extended capabilities of the **Lookup** data sources are available.</span></span> <span data-ttu-id="a6a2e-149">Quando imposti l'opzione **Esteso** su **Sì** per l'origine dati di ricerca modificabile, l'origine dati di ricerca configurata viene trasformata nell'origine dati strutturata che offre le funzionalità aggiuntive per analizzare il set di regole configurato.</span><span class="sxs-lookup"><span data-stu-id="a6a2e-149">When you set the **Extended** option to **Yes** for the editable lookup data source, the configured lookup data source is transformed to the structured data source that offers the additional capabilities to analyze the configured set of rules.</span></span> <span data-ttu-id="a6a2e-150">Nella figura seguente viene illustrata questa trasformazione.</span><span class="sxs-lookup"><span data-stu-id="a6a2e-150">The following illustration shows this transformation.</span></span>

   ![Esaminare l'origine dati di ricerca strutturata di tipo Enumerazione formato\Ricerca](./media/er-lookup-data-sources-img9.gif)

- <span data-ttu-id="a6a2e-152">L'elemento secondario **Ricerca** è progettato come funzione per trovare la regola più appropriata nel set di regole configurabili in base al set di parametri fornito.</span><span class="sxs-lookup"><span data-stu-id="a6a2e-152">The **Lookup** sub-item is designed as a function to find the most appropriate rule from the set of configurable rules based on the provided set of parameters.</span></span>
- <span data-ttu-id="a6a2e-153">L'elemento secondario **IsLookupResultSet** è progettato come funzione per accettare il valore fornito dell'origine dati di enumerazione di base e restituire il valore *Booleano* **True** quando il set di regole contiene almeno una regola per la quale il valore di enumerazione fornito è stato configurato come valore restituito.</span><span class="sxs-lookup"><span data-stu-id="a6a2e-153">The **IsLookupResultSet** sub-item is designed as a function to accept the provided value of the base enumeration data source and return the *Boolean* value of **True** when the set of rules contain at least one rule for which the provided enumeration value was configured as a returned value.</span></span> <span data-ttu-id="a6a2e-154">Questa funzione restituisce il valore *Booleano* **False** quando non ci sono regole configurate per restituire il valore di enumerazione fornito.</span><span class="sxs-lookup"><span data-stu-id="a6a2e-154">This function returns the *Boolean* value of **False** when there are no rules configured to return the provided enumeration value.</span></span>
- <span data-ttu-id="a6a2e-155">L'elemento secondario **Impostazione** è progettato come funzione che restituisce il set di regole configurate come record di un elenco di record.</span><span class="sxs-lookup"><span data-stu-id="a6a2e-155">The **Setting** sub-item is designed as a function that returns the set of configured rules as records of a record list.</span></span> <span data-ttu-id="a6a2e-156">I valori restituiti e il set di parametri delle regole configurate sono presentati in ogni record restituito come campi di tipi di dati pertinenti:</span><span class="sxs-lookup"><span data-stu-id="a6a2e-156">The returned values and the set of parameters of the configured rules are presented in every returned record as fields of the relevant data types:</span></span>

    - <span data-ttu-id="a6a2e-157">Il valore restituito viene presentato come campo **Risultato della ricerca**.</span><span class="sxs-lookup"><span data-stu-id="a6a2e-157">The returned value is presented as the **Lookup result** field.</span></span>
    - <span data-ttu-id="a6a2e-158">I parametri configurati sono presentati come campi con nomi di parametri (il campo **Codice** in questo esempio).</span><span class="sxs-lookup"><span data-stu-id="a6a2e-158">The configured parameters are presented as fields having names of parameters (**Code** field in this example).</span></span>

<span data-ttu-id="a6a2e-159">Per ulteriori informazioni su come configurare l'origine dati **Ricerca**, vedi [Configurare i formati ER per utilizzare parametri specificati per persona giuridica](er-app-specific-parameters-configure-format.md).</span><span class="sxs-lookup"><span data-stu-id="a6a2e-159">For more information about to how configure the **Lookup** data source, see [Configure ER formats to use parameters that are specified per legal entity](er-app-specific-parameters-configure-format.md).</span></span> <span data-ttu-id="a6a2e-160">Per informazioni su come impostare le regole di ricerca, vedi [Impostare i parametri di un formato ER per persona giuridica](er-app-specific-parameters-set-up.md).</span><span class="sxs-lookup"><span data-stu-id="a6a2e-160">To learn how to set the Lookup rules, see [Set up the parameters of an ER format per legal entity](er-app-specific-parameters-set-up.md).</span></span>

## <a name="additional-resources"></a><span data-ttu-id="a6a2e-161">Risorse aggiuntive</span><span class="sxs-lookup"><span data-stu-id="a6a2e-161">Additional resources</span></span>

[<span data-ttu-id="a6a2e-162">Configurare i formati ER per utilizzare i parametri specifici per la persona giuridica</span><span class="sxs-lookup"><span data-stu-id="a6a2e-162">Configure ER formats to use parameters that are specified per legal entity</span></span>](er-app-specific-parameters-configure-format.md)

[<span data-ttu-id="a6a2e-163">Impostare i parametri di un formato ER per la persona giuridica</span><span class="sxs-lookup"><span data-stu-id="a6a2e-163">Set up the parameters of an ER format per legal entity</span></span>](er-app-specific-parameters-set-up.md)
