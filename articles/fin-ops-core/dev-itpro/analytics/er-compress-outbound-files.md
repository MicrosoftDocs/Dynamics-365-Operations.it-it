---
title: Comprimere documenti di grandi dimensioni generati nei rapporti elettronici
description: In questo argomento viene illustrato come comprimere documenti di grandi dimensioni generati da un formato di report elettronico (ER).
author: NickSelin
manager: kfend
ms.date: 09/11/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: EROperationDesigner, ERFormatDestinationTable
audience: Application User, IT Pro
ms.reviewer: kfend
ms.custom: 58771
ms.assetid: ''
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2020-01-01
ms.dyn365.ops.version: AX 10.0.9
ms.openlocfilehash: 8a8f55b33624b057a6abf9af5084209ac6a0c778
ms.sourcegitcommit: 6cb174d1ec8b55946dca4db03d6a3c3f4c6fa2df
ms.translationtype: HT
ms.contentlocale: it-IT
ms.lasthandoff: 03/09/2021
ms.locfileid: "5562336"
---
# <a name="compress-large-documents-that-are-generated-in-electronic-reporting"></a><span data-ttu-id="460ee-103">Comprimere documenti di grandi dimensioni generati nei rapporti elettronici</span><span class="sxs-lookup"><span data-stu-id="460ee-103">Compress large documents that are generated in Electronic reporting</span></span> 

[!include [banner](../includes/banner.md)]

<span data-ttu-id="460ee-104">Puoi usare il [framework dei reporting elettronici (ER) ](general-electronic-reporting.md) per configurare una soluzione che recupera i dati transazionali per generare un documento in uscita.</span><span class="sxs-lookup"><span data-stu-id="460ee-104">You can use the [Electronic reporting (ER) framework](general-electronic-reporting.md) to configure a solution that fetches transactional data to generate an outbound document.</span></span> <span data-ttu-id="460ee-105">Questo documento generato potrebbe essere abbastanza grande.</span><span class="sxs-lookup"><span data-stu-id="460ee-105">This generated document might be quite large.</span></span> <span data-ttu-id="460ee-106">Quando viene generato questo tipo di documento, viene utilizzata la memoria [Application Object Server (AOS)](https://docs.microsoft.com/dynamics365/fin-ops-core/dev-itpro/dev-tools/access-instances#location-of-packages-source-code-and-other-aos-configurations) per contenerlo.</span><span class="sxs-lookup"><span data-stu-id="460ee-106">When this type of document is generated, the [Application Object Server (AOS)](https://docs.microsoft.com/dynamics365/fin-ops-core/dev-itpro/dev-tools/access-instances#location-of-packages-source-code-and-other-aos-configurations) memory is used to hold it.</span></span> <span data-ttu-id="460ee-107">Ad un certo punto, il documento deve essere scaricato dalla tua applicazione Microsoft Dynamics 365 Finance.</span><span class="sxs-lookup"><span data-stu-id="460ee-107">At some point, the document must then be downloaded from your Microsoft Dynamics 365 Finance application.</span></span> <span data-ttu-id="460ee-108">Attualmente, la dimensione massima di un singolo documento generato in ER è limitata a 2 gigabyte (GB).</span><span class="sxs-lookup"><span data-stu-id="460ee-108">Currently, the maximum size of a single document that is generated in ER is limited to 2 gigabytes (GB).</span></span> <span data-ttu-id="460ee-109">Inoltre, Finance attualmente [limita](https://fix.lcs.dynamics.com/Issue/Details?kb=4569432&bugId=453907&dbType=3) la dimensione di un file scaricato a 1 GB.</span><span class="sxs-lookup"><span data-stu-id="460ee-109">Additionally, Finance currently [limits](https://fix.lcs.dynamics.com/Issue/Details?kb=4569432&bugId=453907&dbType=3) the size of a downloaded file to 1 GB.</span></span> <span data-ttu-id="460ee-110">Pertanto, è necessario configurare una soluzione ER che riduca la probabilità che queste limitazioni vengano superate e che si riceva un'eccezione di tipo **Flusso troppo lungo** o **Overflow o underflow durante un'operazione aritmetica**.</span><span class="sxs-lookup"><span data-stu-id="460ee-110">Therefore, you must configure an ER solution that reduces the likelihood that these limitations will be exceeded, and that you will receive a **Stream was too long** or **Overflow or underflow in the arithmetic operation** exception.</span></span>

<span data-ttu-id="460ee-111">Quando si configura una soluzione, è possibile modificare il formato ER nella finestra di progettazione operazioni aggiungendo un elemento radice del tipo **Cartella** per comprimere il contenuto generato da uno qualsiasi dei suoi elementi nidificati.</span><span class="sxs-lookup"><span data-stu-id="460ee-111">When you configure a solution, you can adjust your ER format in the Operations designer by adding a root element of the **Folder** type to compress the content that is generated by any of its nested elements.</span></span> <span data-ttu-id="460ee-112">La compressione funziona "just in time", in modo da ridurre l'utilizzo massimo della memoria e la dimensione del file che verrà scaricato.</span><span class="sxs-lookup"><span data-stu-id="460ee-112">Compression works "just in time," so that peak memory usage and the size of the file that will be downloaded can be reduced.</span></span>

> [!NOTE]
> <span data-ttu-id="460ee-113">La compressione dei file richiede un'ulteriore percentuale di utilizzo della CPU.</span><span class="sxs-lookup"><span data-stu-id="460ee-113">File compression takes an additional percentage of CPU usage.</span></span>

<span data-ttu-id="460ee-114">Per ulteriori informazioni su questo approccio, completa gli esempi in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="460ee-114">For more information about this approach, complete the example in this topic.</span></span>

## <a name="example-compress-an-outbound-document"></a><span data-ttu-id="460ee-115">Esempio: comprimere un documento in uscita</span><span class="sxs-lookup"><span data-stu-id="460ee-115">Example: Compress an outbound document</span></span>

<span data-ttu-id="460ee-116">Questo esempio mostra come un utente con il ruolo **Amministratore di sistema** o **Consulente funzionale per la reportistica elettronica** assegnato può configurare un formato ER per comprimere un documento generato.</span><span class="sxs-lookup"><span data-stu-id="460ee-116">This example shows how a user who is assigned to the **System administrator** or **Electronic reporting functional consultant** role can configure an ER format to compress a generated document.</span></span>

### <a name="prerequisites"></a><span data-ttu-id="460ee-117">Prerequisiti</span><span class="sxs-lookup"><span data-stu-id="460ee-117">Prerequisites</span></span>

<span data-ttu-id="460ee-118">Prima di completare le procedure in questo argomento, è necessario completare i seguenti passaggi:</span><span class="sxs-lookup"><span data-stu-id="460ee-118">Before you complete the procedures in this topic, the following steps must be completed.</span></span>

1. <span data-ttu-id="460ee-119">[Attivare un provider di configurazioni](er-defer-xml-element.md#activate-a-configuration-provider).</span><span class="sxs-lookup"><span data-stu-id="460ee-119">[Activate a configuration provider](er-defer-xml-element.md#activate-a-configuration-provider).</span></span>
2. <span data-ttu-id="460ee-120">[Importare le configurazioni ER di esempio](er-defer-xml-element.md#import-the-sample-er-configurations).</span><span class="sxs-lookup"><span data-stu-id="460ee-120">[Import the sample ER configurations](er-defer-xml-element.md#import-the-sample-er-configurations).</span></span>
3. <span data-ttu-id="460ee-121">[Esaminare il formato importato](er-defer-xml-element.md#review-the-imported-format).</span><span class="sxs-lookup"><span data-stu-id="460ee-121">[Review the imported format](er-defer-xml-element.md#review-the-imported-format).</span></span>

> [!NOTE]
> <span data-ttu-id="460ee-122">Attualmente, la struttura del formato inizia dall'elemento **Report** del tipo **File** e contiene elementi XML.</span><span class="sxs-lookup"><span data-stu-id="460ee-122">Currently, the format structure starts from the **Report** element of the **File** type and contains XML elements.</span></span> <span data-ttu-id="460ee-123">Pertanto, verrà generato un documento in uscita in formato XML e non verrà utilizzata alcuna compressione.</span><span class="sxs-lookup"><span data-stu-id="460ee-123">Therefore, an outbound document will be generated in XML format, and no compression will be used.</span></span>

### <a name="generate-an-er-format-to-get-an-uncompressed-document"></a><span data-ttu-id="460ee-124">Generare un formato ER per ottenere un documento non compresso</span><span class="sxs-lookup"><span data-stu-id="460ee-124">Generate an ER format to get an uncompressed document</span></span>

1. <span data-ttu-id="460ee-125">[Eseguire il formato importato](er-defer-xml-element.md#run-the-imported-format).</span><span class="sxs-lookup"><span data-stu-id="460ee-125">[Run the imported format](er-defer-xml-element.md#run-the-imported-format).</span></span>
2. <span data-ttu-id="460ee-126">Si noti che la dimensione del documento generato in formato XML è di 3 kilobyte (KB).</span><span class="sxs-lookup"><span data-stu-id="460ee-126">Notice that the size of the generated document in XML format is 3 kilobytes (KB).</span></span>

    ![Anteprima del documento in uscita non compresso](./media/er-compress-outbound-files1.png)

### <a name="modify-the-format-to-compress-the-generated-output"></a><span data-ttu-id="460ee-128">Modificare il formato per comprimere l'output generato</span><span class="sxs-lookup"><span data-stu-id="460ee-128">Modify the format to compress the generated output</span></span>

1. <span data-ttu-id="460ee-129">Andare a **Amministrazione organizzazione** \> **Creazione di report elettronici** \> **Configurazioni**.</span><span class="sxs-lookup"><span data-stu-id="460ee-129">Go to **Organization administration** \> **Electronic reporting** \> **Configurations**.</span></span>
2. <span data-ttu-id="460ee-130">Nella pagina **Configurazioni**, nella struttura delle configurazioni, espandere **Modello di apprendimento di elementi differiti**.</span><span class="sxs-lookup"><span data-stu-id="460ee-130">On the **Configurations** page, in the configuration tree, expand **Model to learn deferred elements**.</span></span>
3. <span data-ttu-id="460ee-131">Seleziona la configurazione **Formato per ottenere i elementi XML differiti**.</span><span class="sxs-lookup"><span data-stu-id="460ee-131">Select the **Format to learn deferred XML elements** configuration.</span></span>
4. <span data-ttu-id="460ee-132">Seleziona **Progettazione** per modificare la struttura del formato.</span><span class="sxs-lookup"><span data-stu-id="460ee-132">Select **Designer** to modify the format structure.</span></span>
5. <span data-ttu-id="460ee-133">Nella pagina **Progettazione formati**, nella scheda **Formato** seleziona **Aggiungi radice** per aggiungere un elemento del formato radice.</span><span class="sxs-lookup"><span data-stu-id="460ee-133">On the **Format designer** page, on the **Format** tab, select **Add root** to add a root format element.</span></span>
6. <span data-ttu-id="460ee-134">Nella finestra di dialogo **Aggiungi**, seleziona **Comune\\Cartella**.</span><span class="sxs-lookup"><span data-stu-id="460ee-134">In the **Add** dialog box, select **Common\\Folder**.</span></span>
7. <span data-ttu-id="460ee-135">Seleziona **OK** per confermare l'aggiunta del nuovo elemento radice.</span><span class="sxs-lookup"><span data-stu-id="460ee-135">Select **OK** to confirm the addition of the new root element.</span></span>
8. <span data-ttu-id="460ee-136">Selezionare **Salva**.</span><span class="sxs-lookup"><span data-stu-id="460ee-136">Select **Save**.</span></span>

> [!NOTE]
> <span data-ttu-id="460ee-137">La struttura del formato parte dall'elemento del tipo **Cartella**.</span><span class="sxs-lookup"><span data-stu-id="460ee-137">The format structure starts from the element of the **Folder** type.</span></span> <span data-ttu-id="460ee-138">Questo elemento genererà l'output come file compresso (zip).</span><span class="sxs-lookup"><span data-stu-id="460ee-138">This element will generate output as a compressed (zip) file.</span></span> <span data-ttu-id="460ee-139">Quando un documento generato dall'elemento **Report** viene inserito in un file zip in uscita, il suo contenuto verrà compresso per ridurre le dimensioni del file in uscita.</span><span class="sxs-lookup"><span data-stu-id="460ee-139">When a document that is generated by the **Report** element is put in an outbound zip file, its content will be compressed to reduce the size of the outbound file.</span></span>

### <a name="generate-an-er-format-to-get-a-compressed-document"></a><span data-ttu-id="460ee-140">Generare un formato ER per ottenere un documento compresso</span><span class="sxs-lookup"><span data-stu-id="460ee-140">Generate an ER format to get a compressed document</span></span>

1. <span data-ttu-id="460ee-141">Nella pagina **Progettazione formati**, selezionare **Esegui**.</span><span class="sxs-lookup"><span data-stu-id="460ee-141">On the **Format designer** page, select **Run**.</span></span>
2. <span data-ttu-id="460ee-142">Scarica il file zip proposto dal browser Web e aprilo per esaminarlo.</span><span class="sxs-lookup"><span data-stu-id="460ee-142">Download the zip file that the web browser offers, and open it for review.</span></span>
3. <span data-ttu-id="460ee-143">Si noti che la dimensione del documento generato in formato ZIP è di 1 KB.</span><span class="sxs-lookup"><span data-stu-id="460ee-143">Notice that the size of the generated document in ZIP format is 1 KB.</span></span>

    > [!NOTE] 
    > <span data-ttu-id="460ee-144">Il rapporto di compressione del file XML contenuto in questo file zip è dell'87%.</span><span class="sxs-lookup"><span data-stu-id="460ee-144">The compression ratio of the XML file that this zip file holds is 87 percent.</span></span> <span data-ttu-id="460ee-145">Il rapporto di compressione dipende dai dati che vengono compressi.</span><span class="sxs-lookup"><span data-stu-id="460ee-145">The compression ratio depends on the data that is being compressed.</span></span>

    ![Anteprima del documento in uscita compresso](./media/er-compress-outbound-files2.png)

> [!NOTE]
> <span data-ttu-id="460ee-147">Se la [destinazione](electronic-reporting-destinations.md) ER è configurata per l'elemento di formato che genera l'output (l'elemento **Report** in questo esempio), la compressione dell'output verrà ignorata.</span><span class="sxs-lookup"><span data-stu-id="460ee-147">If the ER [destination](electronic-reporting-destinations.md) is configured for the format element that generates output (the **Report** element in this example), compression of the output will be bypassed.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="460ee-148">Risorse aggiuntive</span><span class="sxs-lookup"><span data-stu-id="460ee-148">Additional resources</span></span>

[<span data-ttu-id="460ee-149">Panoramica dei report elettronici</span><span class="sxs-lookup"><span data-stu-id="460ee-149">Electronic reporting (ER) overview</span></span>](general-electronic-reporting.md)

[<span data-ttu-id="460ee-150">Destinazioni dei report elettronici</span><span class="sxs-lookup"><span data-stu-id="460ee-150">Electronic reporting (ER) destinations</span></span>](electronic-reporting-destinations.md)

[<span data-ttu-id="460ee-151">Differire l'esecuzione di elementi XML in formati ER</span><span class="sxs-lookup"><span data-stu-id="460ee-151">Defer the execution of XML elements in ER formats</span></span>](er-defer-xml-element.md)


[!INCLUDE[footer-include](../../../includes/footer-banner.md)]