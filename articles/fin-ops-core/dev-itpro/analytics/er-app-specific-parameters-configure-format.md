---
title: Configurare i formati di ER per utilizzare i parametri specifici per la persona giuridica
description: In questo argomento viene descritto come configurare i formati per la creazione di report elettronici (ER) specifici per la persona giuridica.
author: NickSelin
ms.date: 04/02/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ERSolutionTable, EROperationDesigner, ERLookupDesigner, ERComponentLookupStructureEditing
audience: Application User, Developer, IT Pro
ms.reviewer: kfend
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2019-01-01
ms.dyn365.ops.version: Release 8.1.3
ms.openlocfilehash: 0af3e1d589fd99cc722d8aedeb9596388a9e2e8c
ms.sourcegitcommit: 08ce2a9ca1f02064beabfb9b228717d39882164b
ms.translationtype: HT
ms.contentlocale: it-IT
ms.lasthandoff: 05/11/2021
ms.locfileid: "6018288"
---
# <a name="configure-er-formats-to-use-parameters-that-are-specified-per-legal-entity"></a><span data-ttu-id="e3b0a-103">Configurare i formati di ER per utilizzare i parametri specifici per la persona giuridica</span><span class="sxs-lookup"><span data-stu-id="e3b0a-103">Configure ER formats to use parameters that are specified per legal entity</span></span>

[!include[banner](../includes/banner.md)]

## <a name="overview"></a><span data-ttu-id="e3b0a-104">Panoramica</span><span class="sxs-lookup"><span data-stu-id="e3b0a-104">Overview</span></span>

<span data-ttu-id="e3b0a-105">In molti dei formati di creazione di report elettronici (ER) che verranno progettati, è necessario filtrare i dati utilizzando un set di valori specifici per ciascuna persona giuridica della propria istanza (ad esempio, un set di codici imposta per filtrare le transazioni fiscali).</span><span class="sxs-lookup"><span data-stu-id="e3b0a-105">In many of the Electronic reporting (ER) formats that you will design, you must filter data by using a set of values that are specific to each legal entity of your instance (for example, a set of tax codes to filter tax transactions).</span></span> <span data-ttu-id="e3b0a-106">Attualmente, quando il filtro di questo tipo è configurato in un formato ER, i valori che dipendono dalla persona giuridica (ad esempio, codici imposta) vengono utilizzati nelle espressioni del formato ER per specificare le regole di filtro dei dati.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-106">Currently, when filtering of this type is configured in an ER format, values that are dependent on the legal entity (for example, tax codes) are used in expressions of the ER format to specify data filtering rules.</span></span> <span data-ttu-id="e3b0a-107">Pertanto, il formato ER è specifico per la persona giuridica e per generare i report richiesti, è necessario creare copie derivate del formato ER originale per ciascuna persona giuridica in cui è necessario eseguire il formato ER.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-107">Therefore, the ER format is made legal entity–specific, and to generate the required reports, you must create derived copies of the original ER format for each legal entity where you have to run the ER format.</span></span> <span data-ttu-id="e3b0a-108">Ogni formato ER derivato deve essere modificato in modo da includere i valori specifici della persona giuridica, riformulato ogni volta che la versione (base) originale viene aggiornata, esportato da un ambiente di test e importato in un ambiente di produzione quando deve essere distribuito per l'uso in produzione e così via.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-108">Each derived ER format must be edited to bring legal entity–specific values into it, rebased whenever the original (base) version has been updated, exported from a test environment, and imported into a production environment when it must be deployed for production use, and so on.</span></span> <span data-ttu-id="e3b0a-109">Pertanto, la manutenzione di questo tipo di soluzione ER configurata è complessa e richiede molto tempo per diversi motivi:</span><span class="sxs-lookup"><span data-stu-id="e3b0a-109">Therefore, maintenance of this type of configured ER solution is complex and time-consuming for several reasons:</span></span>

-   <span data-ttu-id="e3b0a-110">Più sono le persone giuridiche, più configurazioni di formato ER devono essere mantenute.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-110">The more legal entities there are, the more ER format configurations must be maintained.</span></span>
-   <span data-ttu-id="e3b0a-111">La manutenzione delle configurazioni ER richiede che gli utenti aziendali abbiano conoscenze di ER.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-111">Maintenance of ER configurations requires that business users have ER knowledge.</span></span>

<span data-ttu-id="e3b0a-112">La funzione dei parametri specifici dell'applicazione ER consente agli utenti esperti di configurare il filtro dati in un formato ER in modo che sia basato su un set di regole astratte.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-112">The ER application-specific parameters feature lets power users configure data filtering in an ER format so that it's based on a set of abstract rules.</span></span> <span data-ttu-id="e3b0a-113">Questo set di regole può essere configurato per utilizzare le origini dati disponibili in un formato ER.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-113">This set of rules can be configured to use the data sources that are available in an ER format.</span></span> <span data-ttu-id="e3b0a-114">Gli utenti aziendali possono quindi specificare regole reali oltre il framework ER utilizzando l'interfaccia utente (UI) che viene generata automaticamente in base alle impostazioni del formato ER corrispondente e ai dati della persona giuridica corrente a cui accederanno le origini dati del formato ER.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-114">Business users can then specify real rules beyond the ER framework by using the user interface (UI) that is automatically generated based on the settings of the corresponding ER format and the current legal entity data that will be accessed by the ER format's data sources.</span></span> <span data-ttu-id="e3b0a-115">Il set di regole specificato per un formato ER può essere esportato dall'entità legale corrente dell'istanza Dynamics 365 Finance (Finance).</span><span class="sxs-lookup"><span data-stu-id="e3b0a-115">The set of rules that is specified for an ER format can be exported from the current legal entity of the Dynamics 365 Finance (Finance) instance.</span></span> <span data-ttu-id="e3b0a-116">Può quindi essere importato in un'altra persona giuridica della stessa istanza di Finance o in un'istanza diversa come set di regole per lo stesso formato ER.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-116">It can then be imported into another legal entity of either the same Finance instance or a different instance as a set of rules for the same ER format.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="e3b0a-117">Prerequisiti</span><span class="sxs-lookup"><span data-stu-id="e3b0a-117">Prerequisites</span></span>

<span data-ttu-id="e3b0a-118">Per completare gli esempi in questo argomento è necessario disporre dell'accesso all'istanza di Regulatory Configuration Service (RCS) di cui è stato eseguito il provisioning per lo stesso tenant di Finance per uno dei seguenti ruoli:</span><span class="sxs-lookup"><span data-stu-id="e3b0a-118">To complete the examples in this topic, you must have access to the instance of Regulatory Configuration Services (RCS) that has been provisioned for the same tenant as Finance for one of the following roles:</span></span>

- <span data-ttu-id="e3b0a-119">Sviluppatore per la creazione di report elettronici</span><span class="sxs-lookup"><span data-stu-id="e3b0a-119">Electronic reporting developer</span></span>
- <span data-ttu-id="e3b0a-120">Consulente funzionale per la creazione di report elettronici</span><span class="sxs-lookup"><span data-stu-id="e3b0a-120">Electronic reporting functional consultant</span></span>
- <span data-ttu-id="e3b0a-121">Amministratore di sistema</span><span class="sxs-lookup"><span data-stu-id="e3b0a-121">System administrator</span></span>

<span data-ttu-id="e3b0a-122">Si consiglia di completare i passaggi descritti nell'argomento [Supportare le chiamate con parametri di origini dati ER del tipo di campo calcolato](er-calculated-field-type.md).</span><span class="sxs-lookup"><span data-stu-id="e3b0a-122">We recommend that you complete the steps in the [Support parameterized calls of ER data sources of CALCULATED FIELD type](er-calculated-field-type.md) topic.</span></span> <span data-ttu-id="e3b0a-123">Se sono già stati completati questi passaggi, è possibile ignorare i passaggi nella sezione **Importare le configurazioni di ER in RCS** che segue.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-123">If you've already completed those steps, you can skip the steps in the **Import ER configurations into RCS** section that follows.</span></span>

## <a name="import-er-configurations-into-rcs"></a><span data-ttu-id="e3b0a-124">Importare le configurazioni di ER in RCS</span><span class="sxs-lookup"><span data-stu-id="e3b0a-124">Import ER configurations into RCS</span></span>

<span data-ttu-id="e3b0a-125">Scarica e archivia localmente le seguenti configurazioni ER.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-125">Download and locally store the following ER configurations.</span></span>

| <span data-ttu-id="e3b0a-126">**Descrizione contenuto**</span><span class="sxs-lookup"><span data-stu-id="e3b0a-126">**Content description**</span></span>                        | <span data-ttu-id="e3b0a-127">**Nome file**</span><span class="sxs-lookup"><span data-stu-id="e3b0a-127">**File name**</span></span>                                        |
|------------------------------------------------|------------------------------------------------------|
| <span data-ttu-id="e3b0a-128">File di configurazione del **modello di dati ER** di esempio</span><span class="sxs-lookup"><span data-stu-id="e3b0a-128">Sample **ER data model** configuration file</span></span>    | [<span data-ttu-id="e3b0a-129">Model to learn parameterized calls.version.1.xml</span><span class="sxs-lookup"><span data-stu-id="e3b0a-129">Model to learn parameterized calls.version.1.xml</span></span>](https://download.microsoft.com/download/2/d/b/2db913a0-3622-494e-91a2-97fc494af9b9/Modeltolearnparameterizedcalls.version.1.xml)     |
| <span data-ttu-id="e3b0a-130">File di configurazione dei **metadati ER** di esempio</span><span class="sxs-lookup"><span data-stu-id="e3b0a-130">Sample **ER metadata** configuration file</span></span>      | [<span data-ttu-id="e3b0a-131">Metadata to learn parameterized calls.version.1.xml</span><span class="sxs-lookup"><span data-stu-id="e3b0a-131">Metadata to learn parameterized calls.version.1.xml</span></span>](https://download.microsoft.com/download/1/b/3/1b343968-5a47-4000-b5a8-6487698ef4c0/Metadatatolearnparameterizedcalls.version.1.xml)  |
| <span data-ttu-id="e3b0a-132">File di configurazione del **mapping di modello ER** di esempio</span><span class="sxs-lookup"><span data-stu-id="e3b0a-132">Sample **ER model mapping** configuration file</span></span> | [<span data-ttu-id="e3b0a-133">Mapping to learn parameterized calls.version.1.1.xml</span><span class="sxs-lookup"><span data-stu-id="e3b0a-133">Mapping to learn parameterized calls.version.1.1.xml</span></span>](https://download.microsoft.com/download/8/6/6/866e0ab6-2e05-4d98-9d52-d2da2038f6e4/Mappingtolearnparameterizedcalls.version.1.1.xml) |
| <span data-ttu-id="e3b0a-134">Configurazione di **formato ER** di esempio</span><span class="sxs-lookup"><span data-stu-id="e3b0a-134">Sample **ER format** configuration</span></span>             | [<span data-ttu-id="e3b0a-135">Format to learn parameterized calls.version.1.1.xml</span><span class="sxs-lookup"><span data-stu-id="e3b0a-135">Format to learn parameterized calls.version.1.1.xml</span></span>](https://download.microsoft.com/download/e/3/9/e392eadc-b9b4-4834-95c3-b8066dd00b9c/Formattolearnparameterizedcalls.version.1.1.xml)  |

<span data-ttu-id="e3b0a-136">Accedere all'istanza RCS.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-136">Next, sign in to your RCS instance.</span></span>

<span data-ttu-id="e3b0a-137">In questo esempio verrà creata una configurazione per la società di esempio Litware, Inc.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-137">In this example, you will create a configuration for the Litware, Inc sample company.</span></span> <span data-ttu-id="e3b0a-138">Per poter eseguire questa procedura, è necessario completare i passaggi descritti nell'argomento [Creare un provider di configurazione e contrassegnarlo come attivo](tasks/er-configuration-provider-mark-it-active-2016-11.md) in RCS.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-138">Before you can complete this procedure, you must complete the steps in the [Create a configuration provider and mark it as active](tasks/er-configuration-provider-mark-it-active-2016-11.md) topic in RCS.</span></span>

1.  <span data-ttu-id="e3b0a-139">Nel dashboard predefinito, selezionare **Creazione di report elettronici**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-139">On the default dashboard, select **Electronic reporting**.</span></span>
2.  <span data-ttu-id="e3b0a-140">Selezionare **Configurazioni report**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-140">Select **Reporting configurations**.</span></span>
3.  <span data-ttu-id="e3b0a-141">Importare le configurazioni ER scaricate precedentemente in RCS nel seguente ordine: modello di dati, metadati, mapping di modello e formato.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-141">Import the ER configurations that you downloaded earlier into RCS, in the following order: data model, metadata, model mapping, and format.</span></span> <span data-ttu-id="e3b0a-142">Per ogni configurazione ER, procedere come segue:</span><span class="sxs-lookup"><span data-stu-id="e3b0a-142">For each ER configuration, follow these steps:</span></span>

    1.  <span data-ttu-id="e3b0a-143">Selezionare **Scambia**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-143">Select **Exchange**.</span></span>
    2.  <span data-ttu-id="e3b0a-144">Selezionare **Carica da file XML**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-144">Select **Load from XML file**.</span></span>
    3.  <span data-ttu-id="e3b0a-145">Selezionare **Sfoglia** per selezionare il file per la configurazione ER necessaria in formato XML.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-145">Select **Browse** to select the file for the required ER configuration in XML format.</span></span>
    4.  <span data-ttu-id="e3b0a-146">Selezionare **OK**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-146">Select **OK**.</span></span>

## <a name="review-the-er-solution-that-is-provided"></a><span data-ttu-id="e3b0a-147">Esaminare la soluzione ER fornita</span><span class="sxs-lookup"><span data-stu-id="e3b0a-147">Review the ER solution that is provided</span></span>

1.  <span data-ttu-id="e3b0a-148">Nella struttura delle configurazioni, espandere il contenuto dell'elemento **Modello per ottenere chiamate parametrizzate**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-148">In the configuration tree, expand the contents of the **Model to learn parameterized calls** item.</span></span>
2.  <span data-ttu-id="e3b0a-149">Selezionare l'elemento **Formato per ottenere chiamate parametrizzate**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-149">Select the **Format to learn parameterized calls** item.</span></span>
3.  <span data-ttu-id="e3b0a-150">Selezionare **Progettazione**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-150">Select **Designer**.</span></span>
4.  <span data-ttu-id="e3b0a-151">Selezionare **Espandi/Comprimi**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-151">Select **Expand/Collapse**.</span></span>

    <span data-ttu-id="e3b0a-152">Il formato ER **Formato per ottenere chiamate parametrizzate** è progettato per generare una dichiarazione fiscale in formato XML che presenti diversi livelli di tassazione (regolare, ridotta e nessuna).</span><span class="sxs-lookup"><span data-stu-id="e3b0a-152">The **Format to learn parameterized calls** ER format is designed to generate a tax statement in XML format that presents several levels of taxation (regular, reduced, and none).</span></span> <span data-ttu-id="e3b0a-153">Ogni livello ha un numero diverso di dettagli.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-153">Each level has a different number of details.</span></span>

    ![Più livelli di formato ER, formato per apprendere le chiamate parametrizzate](./media/RCS-AppSpecParms-ReviewFormat.PNG)

5.  <span data-ttu-id="e3b0a-155">Nella scheda **Mapping**, espandere le voci **Modello**, **Dati** e **Riepilogo**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-155">On the **Mapping** tab, expand the **Model**, **Data**, and **Summary** items.</span></span>

    <span data-ttu-id="e3b0a-156">L'origine dati **Model.Data.Summary** restituisce l'elenco delle transazioni fiscali.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-156">The **Model.Data.Summary** data source returns the list of tax transactions.</span></span> <span data-ttu-id="e3b0a-157">Le transazioni vengono riepilogate in base al codice imposta.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-157">These transactions are summarized by tax code.</span></span> <span data-ttu-id="e3b0a-158">Per questa origine dati, il campo calcolato **Model.Data.Summary.Level** è stato configurato per restituire il codice del livello di tassazione di ciascun record di riepilogo.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-158">For this data source, the **Model.Data.Summary.Level** calculated field has been configured to return the code for the taxation level of each summarized record.</span></span> <span data-ttu-id="e3b0a-159">Per qualsiasi codice imposta che può essere recuperato dall'origine dati **Model.Data.Summary** in fase di esecuzione, il campo calcolato restituisce il codice a livello di tassazione (**Regolare**, **Ridotto**, **Nessuno** o **Altro**) come valore di testo.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-159">For any tax code that can be retrieved from the **Model.Data.Summary** data source at runtime, the calculated field returns the taxation level code (**Regular**, **Reduced**, **None**, or **Other**) as a text value.</span></span> <span data-ttu-id="e3b0a-160">Il campo calcolato **Model.Data.Summary.Level** viene utilizzato per filtrare i record dell'origine dati **Model.Data.Summary** e immettere i dati filtrati in ciascun elemento XML che rappresenta un livello di tassazione utilizzando i campi **Model.Data2.Level1**, **Model.Data2.Level2** e **Model.Data2.Level3**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-160">The **Model.Data.Summary.Level** calculated field is used to filter records of the **Model.Data.Summary** data source and enter the filtered data in each XML element that represents a taxation level by using the **Model.Data2.Level1**, **Model.Data2.Level2**, and **Model.Data2.Level3** fields.</span></span>

    ![L'elenco delle origine dati Model.Data.Summary delle transazioni fiscali](./media/RCS-AppSpecParms-ReviewFormat-Data2Fld.PNG)

    <span data-ttu-id="e3b0a-162">Il campo calcolato **Model.Data.Summary.Level** è stato configurato in modo che contenesse un'espressione ER.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-162">The **Model.Data.Summary.Level** calculated field has been configured so that it contains an ER expression.</span></span> <span data-ttu-id="e3b0a-163">I codici imposta (**VAT19**, **InVAT19**, **VAT7**, **InVAT7**, **THIRD** e **InVAT0**) sono hardcoded nella configurazione.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-163">Tax codes (**VAT19**, **InVAT19**, **VAT7**, **InVAT7**, **THIRD**, and **InVAT0**) are hardcoded into this configuration.</span></span> <span data-ttu-id="e3b0a-164">Di conseguenza, il formato di ER dipende dalla persona giuridica in cui i codici imposta sono stati configurati.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-164">Therefore, this ER format is dependent on the legal entity where these tax codes were configured.</span></span>

    ![Il campo calcolato Model.Data.Summary.Level con codici IVA hardcoded](./media/RCS-AppSpecParms-ReviewFormat-LevelFld.PNG)

    <span data-ttu-id="e3b0a-166">Per supportare un set di codici imposta diverso per ciascuna persona giuridica, è necessario completare i seguenti passaggi:</span><span class="sxs-lookup"><span data-stu-id="e3b0a-166">To support a different set of tax codes for each legal entity, you must follow these steps:</span></span>

    - <span data-ttu-id="e3b0a-167">Creare una versione derivata del formato di ER per ogni persona giuridica.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-167">Create a derived version of the ER format for each legal entity.</span></span>
    - <span data-ttu-id="e3b0a-168">Aggiornare i codici imposta nel campo calcolato **Model.Data.Summary.Level**, in base alle impostazioni della persona giuridica.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-168">Update the tax codes in the **Model.Data.Summary.Level** calculated field, based on the legal entity setting.</span></span>

6.  <span data-ttu-id="e3b0a-169">Chiudere la pagina **Progettazione formati**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-169">Close the **Format designer** page.</span></span>

## <a name="create-a-derived-format"></a><span data-ttu-id="e3b0a-170">Creare un formato derivato</span><span class="sxs-lookup"><span data-stu-id="e3b0a-170">Create a derived format</span></span>

<span data-ttu-id="e3b0a-171">Successivamente, viene utilizzata la funzione dei parametri specifici dell'applicazione ER per supportare un diverso set di codici imposta per ciascuna entità legale in un unico formato ER.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-171">Next, you will use the ER application-specific parameters feature to support a different set of tax codes for each legal entity in a single ER format.</span></span>

1.  <span data-ttu-id="e3b0a-172">Nella struttura delle configurazioni, espandere il contenuto dell'elemento **Modello per ottenere chiamate parametrizzate**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-172">In the configuration tree, expand the contents of the **Model to learn parameterized calls** item.</span></span>
2.  <span data-ttu-id="e3b0a-173">Selezionare l'elemento **Formato per ottenere chiamate parametrizzate**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-173">Select the **Format to learn parameterized calls** item.</span></span>
3.  <span data-ttu-id="e3b0a-174">Selezionare **Crea configurazione**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-174">Select **Create configuration**.</span></span>
4.  <span data-ttu-id="e3b0a-175">Selezionare l'opzione **Deriva da nome: Formato per ottenere chiamate parametrizzate, Microsoft**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-175">Select the **Derive from Name: Format to learn parameterized calls, Microsoft** option.</span></span>
5.  <span data-ttu-id="e3b0a-176">Nel campo **Nome**, immettere **Formato per ottenere ricerche di dati di persona giuridica**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-176">In the **Name** field, enter **Format to learn how to lookup LE data**.</span></span>
6.  <span data-ttu-id="e3b0a-177">Selezionare **Crea configurazione**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-177">Select **Create configuration**.</span></span>

## <a name="configure-a-derived-format"></a><span data-ttu-id="e3b0a-178">Configurare un formato derivato</span><span class="sxs-lookup"><span data-stu-id="e3b0a-178">Configure a derived format</span></span>

### <a name="add-a-format-enumeration"></a><span data-ttu-id="e3b0a-179">Aggiungere un'enumerazione di formato</span><span class="sxs-lookup"><span data-stu-id="e3b0a-179">Add a format enumeration</span></span>

<span data-ttu-id="e3b0a-180">A questo punto, si aggiunge una nuova enumerazione di formato ER.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-180">Next, you will add a new ER format enumeration.</span></span> <span data-ttu-id="e3b0a-181">I valori dell'enumerazione di formato vengono presentati agli utenti aziendali che specificano i set dipendenti dalla persona giuridica dei codici imposta per diversi livelli di tassazione utilizzati nel formato di ER.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-181">The values of this format enumeration will be presented to business users, who will specify legal entity–dependent sets of tax codes for the various taxation levels that are used in the ER format.</span></span>

1.  <span data-ttu-id="e3b0a-182">Selezionare **Progettazione**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-182">Select **Designer**.</span></span>
2.  <span data-ttu-id="e3b0a-183">Selezionare **Enumerazioni di formato**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-183">Select **Format enumerations**.</span></span>
3.  <span data-ttu-id="e3b0a-184">Selezionare **Aggiungi**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-184">Select **Add**.</span></span>
4.  <span data-ttu-id="e3b0a-185">Nel campo **Nome**, immettere **Elenco di livelli di tassazione**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-185">In the **Name** field, enter **List of taxation levels**.</span></span>
5.  <span data-ttu-id="e3b0a-186">Selezionare **Salva**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-186">Select **Save**.</span></span>
6.  <span data-ttu-id="e3b0a-187">Nella scheda **Valori di enumerazione di formato**, scegliere **Aggiungi**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-187">On the **Format enumeration values** tab, select **Add**.</span></span>
7.  <span data-ttu-id="e3b0a-188">Nel campo **Nome**, immettere **Tassazione regolare**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-188">In the **Name** field, enter **Regular taxation**.</span></span>
8.  <span data-ttu-id="e3b0a-189">Selezionare **Aggiungi** nuovamente.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-189">Select **Add** again.</span></span>
9.  <span data-ttu-id="e3b0a-190">Nel campo **Nome**, immettere **Tassazione ridotta**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-190">In the **Name** field, enter **Reduced taxation**.</span></span>
10. <span data-ttu-id="e3b0a-191">Selezionare **Aggiungi** nuovamente.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-191">Select **Add** again.</span></span>
11. <span data-ttu-id="e3b0a-192">Nel campo **Nome**, immettere **Nessuna tassazione**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-192">In the **Name** field, enter **No taxation**.</span></span>
12. <span data-ttu-id="e3b0a-193">Selezionare **Aggiungi** nuovamente.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-193">Select **Add** again.</span></span>
13. <span data-ttu-id="e3b0a-194">Nel campo **Nome** immettere **Altro**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-194">In the **Name** field, enter **Other**.</span></span>

    ![Nuovo record nella pagina Enumerazioni di formato](./media/RCS-AppSpecParms-ConfigureFormat-Enum.PNG)

    <span data-ttu-id="e3b0a-196">Poiché gli utenti aziendali potrebbero utilizzare lingue diverse per specificare i set di codici imposta dipendenti dall'entità legale, si consiglia di tradurre i valori di questo elenco nelle lingue configurate come lingue preferite per gli utenti in Finance.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-196">Because the business users might use different languages to specify legal entity–dependent sets of tax codes, we recommend that you translate the values of this enumeration into the languages that are configured as the preferred languages for those users in Finance.</span></span>

14. <span data-ttu-id="e3b0a-197">Selezionare il record **Nessuna tassazione**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-197">Select the **No taxation** record.</span></span>
15. <span data-ttu-id="e3b0a-198">Fare clic nel campo **Etichetta**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-198">Click in the **Label** field.</span></span>
16. <span data-ttu-id="e3b0a-199">Selezionare **Traduci**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-199">Select **Translate**.</span></span>
17. <span data-ttu-id="e3b0a-200">Nel riquadro **Traduzione del testo**, nel campo **ID etichetta**, immettere **LBL_LEVELENUM_NO**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-200">In the **Text translation** pane, in the **Label ID** field, enter **LBL_LEVELENUM_NO**.</span></span>
18. <span data-ttu-id="e3b0a-201">Nel campo **Testo in lingua predefinita**, immettere **Nessuna tassazione**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-201">In the **Text in default language** field, enter **No taxation**.</span></span>
19. <span data-ttu-id="e3b0a-202">Nel campo **Lingua** selezionare **DE**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-202">In the **Language** field, select **DE**.</span></span>
20. <span data-ttu-id="e3b0a-203">Nel campo **Testo tradotto** immettere **keine Besteuerung**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-203">In the **Translated text** field, enter **keine Besteuerung**.</span></span>
21. <span data-ttu-id="e3b0a-204">Selezionare **Traduci**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-204">Select **Translate**.</span></span>

    ![Dispositivo di scorrimento della traduzione del testo](./media/RCS-AppSpecParms-ConfigureFormat-EnumTranslate.PNG)

22. <span data-ttu-id="e3b0a-206">Selezionare **Salva**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-206">Select **Save**.</span></span>
23. <span data-ttu-id="e3b0a-207">Chiudere la pagina **Enumerazioni di formati**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-207">Close the **Format enumerations** page.</span></span>

### <a name="add-a-new-lookup-data-source"></a><span data-ttu-id="e3b0a-208">Aggiungere una nuova origine dati di ricerca</span><span class="sxs-lookup"><span data-stu-id="e3b0a-208">Add a new lookup data source</span></span>

<span data-ttu-id="e3b0a-209">A questo punto, si aggiunte una nuova origine dati per specificare in che modo gli utenti aziendali specificano le regole dipendenti dalla persona giuridica per riconoscere il livello di tassazione corretto per ciascun record di transazione del riepilogo.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-209">Next, you will add a new data source to specify how business users will specify legal entity–dependent rules to recognize the correct taxation level for each summarized transaction record.</span></span>

1.  <span data-ttu-id="e3b0a-210">Nella scheda **Mapping**, selezionare **Aggiungi**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-210">On the **Mapping** tab, select **Add**.</span></span>
2.  <span data-ttu-id="e3b0a-211">Selezionare **Enumerazione di formato\Ricerca**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-211">Select **Format enumeration\Lookup**.</span></span>

    <span data-ttu-id="e3b0a-212">È stato appena identificato che ogni regola specificata dagli utenti aziendali per il riconoscimento del livello di tassazione restituisce un valore di un'enumerazione di formato ER.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-212">You just identified that each rule that business users specify for taxation level recognition will return a value of an ER format enumeration.</span></span> <span data-ttu-id="e3b0a-213">Si noti che è possibile accedere al tipo di origine dati **Ricerca** dai blocchi **Dynamics 365 for Operations** e **Modello dati** oltre al blocco **Enumerazione di formato**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-213">Notice that the **Lookup** data source type can be accessed under the **Data model** and **Dynamics 365 for Operations** blocks in addition to the **Format enumeration** block.</span></span> <span data-ttu-id="e3b0a-214">Di conseguenza, le enumerazioni del modello di dati ER e le enumerazioni dell'applicazione possono essere utilizzate per specificare il tipo di valori che vengono restituiti per le origini dati di questo tipo.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-214">Therefore, ER data model enumerations and application enumerations can be used to specify the type of values that are returned for data sources of that type.</span></span> <span data-ttu-id="e3b0a-215">Per saperne di più sulle origini dati di tipo **Ricerca**, vedere la [funzionalità Configurare le origini dati di ricerca per utilizzare i parametri specifici dell'applicazione ER](er-lookup-data-sources.md).</span><span class="sxs-lookup"><span data-stu-id="e3b0a-215">To learn more about the **Lookup** data sources, see [Configure Lookup data sources to use the ER application-specific parameters feature](er-lookup-data-sources.md).</span></span>
    
3.  <span data-ttu-id="e3b0a-216">Nel campo **Nome** immettere **Selettore**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-216">In the **Name** field, enter **Selector**.</span></span>
4.  <span data-ttu-id="e3b0a-217">Nel campo **Enumerazione di formato**, selezionare **Elenco di livelli di tassazione**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-217">In the **Format enumeration** field, select **List of taxation levels**.</span></span>

    <span data-ttu-id="e3b0a-218">È stato specificato che, per ciascuna regola specificata in questa origine dati, un utente aziendale deve selezionare uno dei valori dell'enumerazione di formato **Elenco di livelli di tassazione** come valore restituito.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-218">You specified that, for each rule that is specified in this data source, a business user must select one of the values of the **List of taxation levels** format enumeration as a returned value.</span></span>
    
5.  <span data-ttu-id="e3b0a-219">Selezionare **Modifica ricerca**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-219">Select **Edit lookup**.</span></span>
6.  <span data-ttu-id="e3b0a-220">Selezionare **Colonne**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-220">Select **Columns**.</span></span>
7.  <span data-ttu-id="e3b0a-221">Espandere l'elemento **Model**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-221">Expand the **Model** item.</span></span>
8.  <span data-ttu-id="e3b0a-222">Espandere l'elemento **Dati**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-222">Expand the **Data** item.</span></span>
9.  <span data-ttu-id="e3b0a-223">Espandere l'elemento **Imposta**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-223">Expand the **Tax** item.</span></span>
10. <span data-ttu-id="e3b0a-224">Selezionare l'elemento **Model.Data.Tax.Code**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-224">Select the **Model.Data.Tax.Code** item.</span></span>
11. <span data-ttu-id="e3b0a-225">Fare clic sul pulsante **Aggiungi** (la freccia a destra).</span><span class="sxs-lookup"><span data-stu-id="e3b0a-225">Select the **Add** button (the right arrow).</span></span>

    ![Dispositivo di scorrimento dell colonne](./media/RCS-AppSpecParms-ConfigureFormat-Lookup1.PNG)

    <span data-ttu-id="e3b0a-227">È stato appena specificato che, per ciascuna regola specificata in questa origine dati per l'individuazione del livello di tassazione, un utente aziendale deve selezionare uno dei codici imposta come condizione.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-227">You just specified that, for each rule that is specified in this data source for taxation level recognition, a business user must select one of the tax codes as a condition.</span></span> <span data-ttu-id="e3b0a-228">L'elenco dei codici imposta che l'utente aziendale può selezionare viene restituito dall'origine dati **Model.Data.Tax**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-228">The list of tax codes that the business user can select will be returned by the **Model.Data.Tax** data source.</span></span> <span data-ttu-id="e3b0a-229">Poiché l'origine dati contiene il campo **Nome**, il nome del codice imposta viene visualizzato per ogni valore di codice imposta nella ricerca che viene presentata all'utente aziendale.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-229">Because this data source contains the **Name** field, the name of the tax code will be shown for each tax code value in the lookup that is presented to the business user.</span></span>
    
12. <span data-ttu-id="e3b0a-230">Selezionare **OK**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-230">Select **OK**.</span></span>

    ![Pagina Progettazione ricerca](./media/RCS-AppSpecParms-ConfigureFormat-Lookup2.PNG)

    <span data-ttu-id="e3b0a-232">Gli utenti aziendali possono aggiungere più regole come record dell'origine dati.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-232">Business users can add multiple rules as records of this data source.</span></span> <span data-ttu-id="e3b0a-233">Ogni record viene numerato da un codice riga.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-233">Each record will be numbered by a line code.</span></span> <span data-ttu-id="e3b0a-234">Le regole vengono valutate per numero di riga crescente.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-234">Rules will be evaluated in order of increasing line number.</span></span>

    <span data-ttu-id="e3b0a-235">Poiché il campo **Codice imposta** è stato selezionato come condizione per le regole dell'origine dati di ricerca e poiché il **Codice imposta** è impostato come campo di tipo di dati **Stringa**, ciascuna regola verrà valutata in fase di esecuzione confrontando il codice imposta che viene passato all'origine dati con il codice imposta definito nel record dell'origine dati.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-235">Because you selected the **Tax code** field as a condition for rules in this lookup data source, and because **Tax code** is set up as a field of the **String** data type, each rule will be evaluated at runtime by comparing the tax code that is passed to the data source with the tax code that is defined in this record of the data source.</span></span>

    <span data-ttu-id="e3b0a-236">Quando viene trovata una regola che soddisfa la condizione configurata, questa origine dati restituisce il valore di ricerca della regola definita nel campo **Risultato della ricerca**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-236">When a rule that satisfies the configured condition is found, this data source returns the lookup value of the rule that is defined in the **Lookup result** field.</span></span> <span data-ttu-id="e3b0a-237">Se non viene trovata alcuna regola, viene generata un'eccezione per avvisare l'utente che l'origine dati corrente non può restituire un valore corretto.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-237">If no rule is found, an exception is thrown to notify the user that the current data source can't return a correct value.</span></span>

13. <span data-ttu-id="e3b0a-238">Selezionare **Salva**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-238">Select **Save**.</span></span>
14. <span data-ttu-id="e3b0a-239">Chiudere la pagina **Progettazione ricerca**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-239">Close the **Lookup designer** page.</span></span>
15. <span data-ttu-id="e3b0a-240">Selezionare **OK**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-240">Select **OK**.</span></span>

    <span data-ttu-id="e3b0a-241">Si noti che è stata aggiunta una nuova origine dati che restituisce il livello di tassazione come valore dell'enumerazione di formato **Elenco dei livelli di tassazione** per ogni codice imposta che viene passato all'origine dati come argomento del parametro **Codice** del tipo di dati **Stringa**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-241">Notice that you added a new data source that will return the taxation level as the value of the **List of taxation levels** format enumeration for any tax code that is passed to the data source as the argument of the **Code** parameter of the **String** data type.</span></span>
    
    ![Pagina Progettazione formato con una nuova origine dati](./media/RCS-AppSpecParms-ConfigureFormat-SelectorFld.PNG)

    <span data-ttu-id="e3b0a-243">La valutazione delle regole configurate dipende dal tipo di dati dei campi selezionati per definire le condizioni di tali regole.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-243">The evaluation of configured rules depends on the data type of the fields that have been selected to define conditions of those rules.</span></span> <span data-ttu-id="e3b0a-244">Quando si seleziona un campo configurato come campo di tipo di dati **Numerico** o **Data**, i criteri differiranno dai criteri che sono stati descritti in precedenza per il tipo di dati **Stringa**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-244">When you select a field that is configured as a field of either the **Numeric** or **Date** data type, the criteria will differ from the criteria that were described earlier for the **String** data type.</span></span> <span data-ttu-id="e3b0a-245">Per i campi di tipo **Dati** e **Numerico**, la regola deve essere specificata come intervallo di valori.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-245">For **Numeric** and **Date** fields, the rule must be specified as a range of values.</span></span> <span data-ttu-id="e3b0a-246">La condizione della regola viene quindi considerata soddisfatta quando un valore che viene passato all'origine dati è compreso nell'intervallo configurato.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-246">The condition of the rule will then be considered satisfied when a value that is passed to the data source is in the configured range.</span></span>
    
    <span data-ttu-id="e3b0a-247">Di seguito viene illustrato un esempio di questo tipo di impostazione.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-247">The following illustration shows an example of this type of setup.</span></span> <span data-ttu-id="e3b0a-248">Oltre al campo **Model.Data.Tax.Code** del tipo di dati **Stringa**, il campo **Model.Tax.Summary.Base** del tipo di dati **Reale** viene utilizzato per specificare le condizioni di un'origine dati di ricerca.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-248">In addition to the **Model.Data.Tax.Code** field of the **String** data type, the **Model.Tax.Summary.Base** field of the **Real** data type is used to specify conditions for a lookup data source.</span></span>
    
    ![Pagina Progettazione ricerca con colonne aggiuntive](./media/RCS-AppSpecParms-ConfigureFormat-SelectorFld2.PNG)

    <span data-ttu-id="e3b0a-250">Poiché i campi **Model.Tax.Summary.Base** e **Model.Data.Tax.Code** sono selezionati per l'origine dati di ricerca, ogni regola dell'origine dati viene configurata nel seguente modo:</span><span class="sxs-lookup"><span data-stu-id="e3b0a-250">Because the **Model.Data.Tax.Code** and **Model.Tax.Summary.Base** fields are selected for this lookup data source, each rule of this data source will be configured in the following way:</span></span>
    
    -   <span data-ttu-id="e3b0a-251">Nell'elenco presentato, il valore dell'enumerazione di formato **Elenco dei livelli di tassazione** deve essere selezionato come valore restituito.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-251">In the list that is presented, the value of the **List of taxation levels** format enumeration must be selected as a returned value.</span></span>
    -   <span data-ttu-id="e3b0a-252">Il codice imposta deve essere immesso come condizione della regola.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-252">The tax code must be entered as a condition of this rule.</span></span> <span data-ttu-id="e3b0a-253">Solo i codici imposta forniti dall'origine dati **Model.Data.Tax** sono applicabili.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-253">Only tax codes that are provided by the **Model.Data.Tax** data source are applicable.</span></span>
    -   <span data-ttu-id="e3b0a-254">I valori minimo e massimo dell'importo imponibile devono essere immessi come condizioni della regola.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-254">Minimum and maximum values of the tax base amount must be entered as conditions of this rule.</span></span>

    <span data-ttu-id="e3b0a-255">Di seguito viene illustrato come ogni regola dell'origine dati viene valutata in fase di esecuzione:</span><span class="sxs-lookup"><span data-stu-id="e3b0a-255">Here is how each rule of this data source will be evaluated at runtime:</span></span>
    -   <span data-ttu-id="e3b0a-256">Il codice del tipo di dati **Stringa** passato all'origine dati corrisponde al codice imposta della regola?</span><span class="sxs-lookup"><span data-stu-id="e3b0a-256">Does the code of the **String** data type that was passed to this data source equal the tax code of a rule?</span></span>
    -   <span data-ttu-id="e3b0a-257">Il valore del tipo di dati **Reale** passato all'origine dati è compreso tra il valore minimo e il valore massimo specificati?</span><span class="sxs-lookup"><span data-stu-id="e3b0a-257">Does the value of the **Real** data type that was passed to this data source fall between specific minimum and maximum values?</span></span>

    <span data-ttu-id="e3b0a-258">Una regola verrà considerata applicabile quando entrambe le condizioni sono soddisfatte.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-258">A rule will be considered applicable when both conditions are satisfied.</span></span>

### <a name="translate-the-label-of-the-lookup-data-source-that-was-added"></a><span data-ttu-id="e3b0a-259">Tradurre l'etichetta dell'origine dati di ricerca aggiunta</span><span class="sxs-lookup"><span data-stu-id="e3b0a-259">Translate the label of the lookup data source that was added</span></span>

<span data-ttu-id="e3b0a-260">Poiché gli utenti aziendali potrebbero utilizzare lingue diverse per specificare i set di codici imposta dipendenti dall'entità legale, si consiglia di tradurre l'etichetta di qualsiasi origine dati di ricerca che si aggiunge in modo che sia presentata nella lingua preferita di ciascun utente nella pagina corrispondente.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-260">Because business users might use different languages to specify legal entity–dependent sets of tax codes, we recommend that you translate the label of any lookup data source that you add, so that it's presented in each user's preferred language on the corresponding page.</span></span>

1.  <span data-ttu-id="e3b0a-261">Selezionare l'origine dati **Model.Data.Selector**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-261">Select the **Model.Data.Selector** data source.</span></span>
2.  <span data-ttu-id="e3b0a-262">Selezionare **Modifica**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-262">Select **Edit**.</span></span>
3.  <span data-ttu-id="e3b0a-263">Fare clic nel campo **Etichetta**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-263">Click in the **Label** field.</span></span>
4.  <span data-ttu-id="e3b0a-264">Selezionare **Traduci**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-264">Select **Translate**.</span></span>
5.  <span data-ttu-id="e3b0a-265">Nel riquadro **Traduzione del testo**, nel campo **ID etichetta**, immettere **LBL_SELECTOR_DS**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-265">In the **Text translation** pane, in the **Label ID** field, enter **LBL_SELECTOR_DS**.</span></span>
6.  <span data-ttu-id="e3b0a-266">Nel campo **Testo in lingua predefinita**, immettere **Selezionare il livello di tassazione per codice imposta**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-266">In the **Text in default language** field, enter **Select tax level by tax code**.</span></span>
7.  <span data-ttu-id="e3b0a-267">Nel campo **Lingua** selezionare **DE**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-267">In the **Language** field, select **DE**.</span></span>
8.  <span data-ttu-id="e3b0a-268">Nel campo **Testo tradotto**, immettere **Steuerebene für Steuerkennzeichen auswählen**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-268">In the **Translated text** field, enter **Steuerebene für Steuerkennzeichen auswählen**.</span></span>
9.  <span data-ttu-id="e3b0a-269">Selezionare **Traduci**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-269">Select **Translate**.</span></span>
10. <span data-ttu-id="e3b0a-270">Selezionare **OK**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-270">Select **OK**.</span></span>

    ![Dispositivo di scorrimento delle proprietà dell'origine dati](./media/RCS-AppSpecParms-ConfigureFormat-SelectorFldTranslate.PNG)

### <a name="add-a-new-field-to-consume-the-configured-lookup"></a><span data-ttu-id="e3b0a-272">Aggiungere un nuovo campo per utilizzare la ricerca configurata</span><span class="sxs-lookup"><span data-stu-id="e3b0a-272">Add a new field to consume the configured lookup</span></span>

1.  <span data-ttu-id="e3b0a-273">Espandere l'elemento **Model.Data**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-273">Expand the **Model.Data** item.</span></span>
2.  <span data-ttu-id="e3b0a-274">Selezionare l'elemento **Model.Data.Summary**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-274">Select the **Model.Data.Summary** item.</span></span>
3.  <span data-ttu-id="e3b0a-275">Selezionare **Aggiungi**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-275">Select **Add**.</span></span>
4.  <span data-ttu-id="e3b0a-276">Selezionare **Funzioni/Campo calcolato**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-276">Select **Functions/Calculated field**.</span></span>
5.  <span data-ttu-id="e3b0a-277">Nel campo **Nome**, immettere **LevelByLookup**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-277">In the **Name** field, enter **LevelByLookup**.</span></span>
6.  <span data-ttu-id="e3b0a-278">Selezionare **Modifica formula**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-278">Select **Edit formula**.</span></span>
7.  <span data-ttu-id="e3b0a-279">Nel **campo Formula**, immettere **Model.Selector(Model.Data.Summary.Code)**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-279">In the **Formula field**, enter **Model.Selector(Model.Data.Summary.Code)**.</span></span>
8.  <span data-ttu-id="e3b0a-280">Selezionare **Salva**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-280">Select **Save**.</span></span>

    ![Aggiunta di Model.Selector(Model.Data.Summary.Code) alla pagina Progettazione formula](./media/RCS-AppSpecParms-ConfigureFormat-AddLevelByLookupFld.PNG)

9.  <span data-ttu-id="e3b0a-282">Chiudere la pagina **Editor formule**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-282">Close the **Formula editor** page.</span></span>
10. <span data-ttu-id="e3b0a-283">Selezionare **OK**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-283">Select **OK**.</span></span>

    ![Pagina Progettazione formato con una nuova formula aggiunta](./media/RCS-AppSpecParms-ConfigureFormat-AddLevelByLookupFld2.PNG)

    <span data-ttu-id="e3b0a-285&quot;>Si noti che il campo calcolato **LevelByLookup** aggiunto restituisce il livello di tassazione come valore dell'enumerazione di formato **Elenco dei livelli di tassazione** per ciascun record di riepilogo delle transazioni fiscali.</span><span class=&quot;sxs-lookup&quot;><span data-stu-id=&quot;e3b0a-285&quot;>Notice that the **LevelByLookup** calculated field that you added will return the taxation level as the value of the **List of taxation levels** format enumeration for each summarized tax transactions record.</span></span> <span data-ttu-id=&quot;e3b0a-286&quot;>Il codice imposta del record viene passato all'origine dati di ricerca **Model.Selector** e il set di regole per l'origine dati viene utilizzato per selezionare il livello di tassazione corretto.</span><span class=&quot;sxs-lookup&quot;><span data-stu-id=&quot;e3b0a-286&quot;>The tax code of the record will be passed to the **Model.Selector** lookup data source, and the set of rules for this data source will be used to select the correct taxation level.</span></span>

### <a name=&quot;add-a-new-format-enumeration-based-data-source&quot;></a><span data-ttu-id=&quot;e3b0a-287&quot;>Aggiungere una nuova origine dati basata sull'enumerazione di formato</span><span class=&quot;sxs-lookup&quot;><span data-stu-id=&quot;e3b0a-287&quot;>Add a new format enumeration-based data source</span></span>

<span data-ttu-id=&quot;e3b0a-288&quot;>A questo punto si aggiunge una nuova origine dati che fa riferimento all'enumerazione di formato aggiunta in precedenza.</span><span class=&quot;sxs-lookup&quot;><span data-stu-id=&quot;e3b0a-288&quot;>Next, you will add a new data source that refers to the format enumeration that you added earlier.</span></span> <span data-ttu-id=&quot;e3b0a-289&quot;>I valori dell'origine dati verranno utilizzati più avanti in un'espressione di formato ER.</span><span class=&quot;sxs-lookup&quot;><span data-stu-id=&quot;e3b0a-289&quot;>Values of this data source will be used in an ER format expression later.</span></span>

1.  <span data-ttu-id=&quot;e3b0a-290&quot;>Selezionare **Aggiungi radice**.</span><span class=&quot;sxs-lookup&quot;><span data-stu-id=&quot;e3b0a-290&quot;>Select **Add root**.</span></span>
2.  <span data-ttu-id=&quot;e3b0a-291&quot;>Selezionare **Enumerazioni di formato\Enumerazione**.</span><span class=&quot;sxs-lookup&quot;><span data-stu-id=&quot;e3b0a-291&quot;>Select **Format enumerations\Enumeration**.</span></span>
3.  <span data-ttu-id=&quot;e3b0a-292&quot;>Nel campo **Nome**, immettere **TaxationLevel**.</span><span class=&quot;sxs-lookup&quot;><span data-stu-id=&quot;e3b0a-292&quot;>In the **Name** field, enter **TaxationLevel**.</span></span>
4.  <span data-ttu-id=&quot;e3b0a-293&quot;>Nel campo **Enumerazione di formato**, selezionare **Elenco di livelli di tassazione**.</span><span class=&quot;sxs-lookup&quot;><span data-stu-id=&quot;e3b0a-293&quot;>In the **Format enumeration** field, select **List of taxation levels**.</span></span>
5.  <span data-ttu-id=&quot;e3b0a-294&quot;>Selezionare **Salva**.</span><span class=&quot;sxs-lookup&quot;><span data-stu-id=&quot;e3b0a-294&quot;>Select **Save**.</span></span>

### <a name=&quot;modify-an-existing-field-to-start-to-use-the-lookup&quot;></a><span data-ttu-id=&quot;e3b0a-295&quot;>Modificare un campo esistente per iniziare a utilizzare la ricerca</span><span class=&quot;sxs-lookup&quot;><span data-stu-id=&quot;e3b0a-295&quot;>Modify an existing field to start to use the lookup</span></span>

<span data-ttu-id=&quot;e3b0a-296&quot;>A questo punto si modifica il campo calcolato esistente in modo da utilizzare l'origine dati di ricerca configurata per restituire il valore corretto del livello di tassazione, a seconda del codice imposta.</span><span class=&quot;sxs-lookup&quot;><span data-stu-id=&quot;e3b0a-296&quot;>Next, you will modify the existing calculated field so that it uses the configured lookup data source to return the correct taxation level value, depending on the tax code.</span></span>

1.  <span data-ttu-id=&quot;e3b0a-297&quot;>Selezionare l'elemento **Model.Data.Summary.Level**.</span><span class=&quot;sxs-lookup&quot;><span data-stu-id=&quot;e3b0a-297&quot;>Select the **Model.Data.Summary.Level** item.</span></span>
2.  <span data-ttu-id=&quot;e3b0a-298&quot;>Selezionare **Modifica**.</span><span class=&quot;sxs-lookup&quot;><span data-stu-id=&quot;e3b0a-298&quot;>Select **Edit**.</span></span>
3.  <span data-ttu-id=&quot;e3b0a-299&quot;>Selezionare **Modifica formula**.</span><span class=&quot;sxs-lookup&quot;><span data-stu-id=&quot;e3b0a-299&quot;>Select **Edit formula**.</span></span>

    <span data-ttu-id=&quot;e3b0a-300&quot;>Si noti che l'espressione corrente del campo **Model.Data.Summary.Level** include i seguenti codici imposta hardcoded:</span><span class=&quot;sxs-lookup&quot;><span data-stu-id=&quot;e3b0a-300&quot;>Notice that the current expression of the **Model.Data.Summary.Level** field includes the following hard-coded tax codes:</span></span>
    
    <span data-ttu-id=&quot;e3b0a-301&quot;>CASE (@.Code, &quot;VAT19&quot;, &quot;Regolare&quot;, &quot;InVAT19&quot;, &quot;Regolare&quot;, &quot;VAT7&quot;, &quot;Regolare&quot;, &quot;InVAT7&quot;, &quot;Regolare&quot;, &quot;THIRD&quot;, &quot;Nessuna&quot;, &quot;InVAT0&quot;, &quot;Nessuna&quot;, &quot;Altro")</span><span class="sxs-lookup"><span data-stu-id="e3b0a-301">CASE (@.Code, "VAT19", "Regular", "InVAT19", "Regular", "VAT7", "Reduced", "InVAT7", "Reduced", "THIRD", "None", "InVAT0", "None", "Other")</span></span>

4.  <span data-ttu-id="e3b0a-302">Nel campo **Formula**, immettere **CASE(@.LevelByLookup, TaxationLevel.'Regular taxation', "Regolare", TaxationLevel.'Reduced taxation', "Ridotta", TaxationLevel.'No taxation', "Nessuna", "Altro")**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-302">In the **Formula** field, enter **CASE(@.LevelByLookup, TaxationLevel.'Regular taxation', "Regular", TaxationLevel.'Reduced taxation', "Reduced", TaxationLevel.'No taxation', "None", "Other")**.</span></span>

    ![Pagina della progettazione dell'operazione ER](./media/RCS-AppSpecParms-ConfigureFormat-ChangeLookupFld.PNG)
    
    <span data-ttu-id="e3b0a-304">Si noti che l'espressione del campo **Model.Data.Summary.Level** ora restituisce il livello di tassazione in base al codice imposta del record corrente e del set di regole che un utente aziendale configura nell'origine dati di ricerca **Model.Data.Selector**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-304">Notice that the expression of the **Model.Data.Summary.Level** field will now return the taxation level, based on the tax code of the current record and the set of rules that a business user configures in the **Model.Data.Selector** lookup data source.</span></span>
    
5.  <span data-ttu-id="e3b0a-305">Selezionare **Salva**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-305">Select **Save**.</span></span>
6.  <span data-ttu-id="e3b0a-306">Chiudere la pagina **Designer formula**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-306">Close **Formula designer** page.</span></span>
7.  <span data-ttu-id="e3b0a-307">Selezionare **OK**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-307">Select **OK**.</span></span>
8.  <span data-ttu-id="e3b0a-308">Selezionare **Salva**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-308">Select **Save**.</span></span>
9.  <span data-ttu-id="e3b0a-309">Chiudere la pagina **Progettazione formati**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-309">Close **Format designer** page.</span></span>

## <a name="complete-the-draft-version-of-a-derived-format"></a><span data-ttu-id="e3b0a-310">Completare la versione in bozza di un formato derivato</span><span class="sxs-lookup"><span data-stu-id="e3b0a-310">Complete the draft version of a derived format</span></span>

1.  <span data-ttu-id="e3b0a-311">Nella scheda dettaglio **Versioni**, seleziona **Cambia stato**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-311">On the **Versions** FastTab, select **Change status**.</span></span>
2.  <span data-ttu-id="e3b0a-312">Selezionare **Completa**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-312">Select **Complete**.</span></span>
3.  <span data-ttu-id="e3b0a-313">Selezionare **OK**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-313">Select **OK**.</span></span>

## <a name="export-completed-version-of-modified-format"></a><span data-ttu-id="e3b0a-314">Esportare la versione completata di un formato modificato</span><span class="sxs-lookup"><span data-stu-id="e3b0a-314">Export completed version of modified format</span></span>

1.  <span data-ttu-id="e3b0a-315">Nell'albero delle configurazioni, selezionare l'elemento **Formato per ottenere ricerche di dati di persona giuridica**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-315">In the configuration tree, select the **Format to learn how to look up LE data** item.</span></span>
2.  <span data-ttu-id="e3b0a-316">Nella scheda dettaglio **Versioni**, seleziona il record che lo stato **Completato**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-316">On the **Versions** FastTab, select the record that has a status of **Completed**.</span></span>
3.  <span data-ttu-id="e3b0a-317">Selezionare **Scambia**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-317">Select **Exchange**.</span></span>
4.  <span data-ttu-id="e3b0a-318">Selezionare **Esporta come file XML**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-318">Select **Export as XML file**.</span></span>
5.  <span data-ttu-id="e3b0a-319">Selezionare **OK**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-319">Select **OK**.</span></span>
6.  <span data-ttu-id="e3b0a-320">Il Web browser scarica il file **Formato per ottenere ricerche di dati di persona giuridica.xml**.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-320">The web browser downloads a **Format to learn how to look up LE data.xml** file.</span></span> <span data-ttu-id="e3b0a-321">Archiviare questo file in locale.</span><span class="sxs-lookup"><span data-stu-id="e3b0a-321">Store this file locally.</span></span>

<span data-ttu-id="e3b0a-322">Ripetere i passaggi di questa sezione per gli elementi padre del formato **Formato per ottenere ricerche di dati di persona giuridica** e archiviare i seguenti file localmente:</span><span class="sxs-lookup"><span data-stu-id="e3b0a-322">Repeat steps in this section for parent items of the **Format to learn how to look up LE data** format, and store the following files locally:</span></span>

-   <span data-ttu-id="e3b0a-323">Formato per ottenere chiamate parametrizzate.xml</span><span class="sxs-lookup"><span data-stu-id="e3b0a-323">Format to learn parameterized calls.xml</span></span>
-   <span data-ttu-id="e3b0a-324">Mapping per ottenere chiamate parametrizzate.xml</span><span class="sxs-lookup"><span data-stu-id="e3b0a-324">Mapping to learn parameterized calls.xml</span></span>
-   <span data-ttu-id="e3b0a-325">Modello per ottenere chiamate parametrizzate.xml</span><span class="sxs-lookup"><span data-stu-id="e3b0a-325">Model to learn parameterized calls.xml</span></span>

<span data-ttu-id="e3b0a-326">Per informazioni su come utilizzare il formato ER configurato **Formato per ottenere ricerche di dati di persona giuridica** per impostare set di codici imposta dipendenti dalla persona giuridica per filtrare le transazioni fiscali per livelli diversi di tassazione, completare i passaggi descritti nell'argomento [Impostare i parametri di un formato ER per la persona giuridica](er-app-specific-parameters-set-up.md).</span><span class="sxs-lookup"><span data-stu-id="e3b0a-326">To learn how to use the configured **Format to learn how to look up LE data** ER format to set up legal entity–dependent sets of tax codes to filter tax transactions by different taxation levels, complete the steps in the [Set up the parameters of an ER format per legal entity](er-app-specific-parameters-set-up.md) topic.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="e3b0a-327">Risorse aggiuntive</span><span class="sxs-lookup"><span data-stu-id="e3b0a-327">Additional resources</span></span>

[<span data-ttu-id="e3b0a-328">Designer formula nella creazione di report elettronici</span><span class="sxs-lookup"><span data-stu-id="e3b0a-328">Formula designer in Electronic reporting</span></span>](general-electronic-reporting-formula-designer.md)

[<span data-ttu-id="e3b0a-329">Impostare i parametri di un formato ER per la persona giuridica</span><span class="sxs-lookup"><span data-stu-id="e3b0a-329">Set up the parameters of an ER format per legal entity</span></span>](er-app-specific-parameters-set-up.md)

[<span data-ttu-id="e3b0a-330">Funzionalità Configurare le origini dati di ricerca per utilizzare i parametri specifici dell'applicazione ER</span><span class="sxs-lookup"><span data-stu-id="e3b0a-330">Configure Lookup data sources to use the ER application-specific parameters feature</span></span>](er-lookup-data-sources.md)


[!INCLUDE[footer-include](../../../includes/footer-banner.md)]
