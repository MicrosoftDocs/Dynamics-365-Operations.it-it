---
title: Ricerca estesa di formati di report elettronici (ER)
description: Questo argomento descrive come impostare un riferimento al formato ER nella ricerca di formati ER quando il formato richiesto si trova nel repository globale.
author: NickSelin
manager: AnnBe
ms.date: 03/17/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-platform
ms.technology: ''
ms.search.form: ERSolutionTable, ERWorkspace
audience: Application User
ms.reviewer: kfend
ms.search.scope: Core, Operations
ms.custom: 97423
ms.assetid: ''
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2020-04-01
ms.dyn365.ops.version: AX 10.0.9
ms.openlocfilehash: 28bdd02c25db27536a489f9e8ab2a91a5ca0f09c
ms.sourcegitcommit: b92c3e1b3403d0455fc4e0bf9132d6bc0d7aba5e
ms.translationtype: HT
ms.contentlocale: it-IT
ms.lasthandoff: 03/18/2020
ms.locfileid: "3138862"
---
# <a name="allow-users-to-set-up-an-er-format-reference-inquiring-a-format-from-the-global-repository"></a><span data-ttu-id="e1648-103">Consentire agli utenti di impostare un riferimento al formato ER richiedendo un formato presente nel repository globale</span><span class="sxs-lookup"><span data-stu-id="e1648-103">Allow users to set up an ER format reference inquiring a format from the Global repository</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="e1648-104">È possibile utilizzare il framework di [report elettronici](general-electronic-reporting.md) (ER) per configurare [formati](general-electronic-reporting.md#FormatComponentOutbound) per documenti in uscita in base ai requisiti legali dei vari paesi.</span><span class="sxs-lookup"><span data-stu-id="e1648-104">You can use the [Electronic reporting](general-electronic-reporting.md) (ER) framework to configure [formats](general-electronic-reporting.md#FormatComponentOutbound) for outbound documents in accordance to the legal requirements of various countries/regions.</span></span> <span data-ttu-id="e1648-105">È inoltre possibile utilizzare il framework ER per configurare [formati ](general-electronic-reporting.md#FormatComponentInbound) per l'analisi di documenti in entrata e utilizzare le informazioni in tali documenti per aggiungere o aggiornare i dati dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="e1648-105">You can also use the ER framework to configure [formats](general-electronic-reporting.md#FormatComponentInbound) for parsing inbound documents and use the information from those documents to append or update application data.</span></span> <span data-ttu-id="e1648-106">Ognuno di questi formati può essere utilizzato nella propria istanza Dynamics 365 Finance per la gestione di documenti aziendali in entrata o in uscita come parte di un determinato processo aziendale.</span><span class="sxs-lookup"><span data-stu-id="e1648-106">Each of these formats can used in your Dynamics 365 Finance instance for handling inbound or outbound business documents as part of a certain business process.</span></span> 

<span data-ttu-id="e1648-107">Di solito, è necessario specificare quale formato ER deve essere utilizzato in un determinato processo aziendale.</span><span class="sxs-lookup"><span data-stu-id="e1648-107">Usually, you must specify what ER format must be used in a certain business process.</span></span> <span data-ttu-id="e1648-108">Per fare ciò, selezionare un singolo formato ER in un campo di ricerca configurato come parte dei parametri specifici del processo aziendale.</span><span class="sxs-lookup"><span data-stu-id="e1648-108">To do that, select a single ER format in a lookup field that is configured as part of business process-specific parameters.</span></span> <span data-ttu-id="e1648-109">Questi campi di ricerca vengono generalmente implementati utilizzando l'API appropriata del framework ER.</span><span class="sxs-lookup"><span data-stu-id="e1648-109">These lookup fields are usually implemented by using the appropriate API of the ER framework.</span></span> <span data-ttu-id="e1648-110">Per ulteriori informazioni, vedere [API framework ER - codice per visualizzare una ricerca di mapping di formato](er-apis-app73.md#code-to-display-a-format-mapping-lookup).</span><span class="sxs-lookup"><span data-stu-id="e1648-110">For more information, see [ER framework API - code to display a format mapping lookup](er-apis-app73.md#code-to-display-a-format-mapping-lookup).</span></span>

<span data-ttu-id="e1648-111">Ad esempio, quando si configurano [parametri per il commercio estero](https://docs.microsoft.com/dynamics365/finance/localizations/emea-intrastat#set-up-foreign-trade-parameters), è necessario impostare i riferimenti a singoli formati ER che verranno utilizzati per generare la dichiarazione Intrastat e il report di controllo della dichiarazione Intrastat.</span><span class="sxs-lookup"><span data-stu-id="e1648-111">For example, when you configure [foreign trade parameters](https://docs.microsoft.com/dynamics365/finance/localizations/emea-intrastat#set-up-foreign-trade-parameters), you need to set up the references to individual ER formats that will be used to generate the Intrastat declaration and the Intrastat declaration control report.</span></span> <span data-ttu-id="e1648-112">Le schermate seguenti mostrano l'aspetto del campo di ricerca di formati ER nella pagina **Parametri per il commercio estero**.</span><span class="sxs-lookup"><span data-stu-id="e1648-112">The screenshots below show how the ER formats lookup field looks like in the **Foreign trade parameters** page.</span></span>

<span data-ttu-id="e1648-113">Se l'attuale istanza di Finance non contiene formati ER relativi a processi aziendali Intrastat, questo campo di ricerca sarà vuoto.</span><span class="sxs-lookup"><span data-stu-id="e1648-113">If the current Finance instance contains no Intrastat business process related ER formats, this lookup field will be empty.</span></span>

<span data-ttu-id="e1648-114">[![Pagina Parametri per il commercio estero](./media/ER-ExtLookup-Lookup1.gif)](./media/ER-ExtLookup-Lookup1.gif)</span><span class="sxs-lookup"><span data-stu-id="e1648-114">[![Foreign trade parameters page](./media/ER-ExtLookup-Lookup1.gif)](./media/ER-ExtLookup-Lookup1.gif)</span></span>

<span data-ttu-id="e1648-115">Se l'attuale istanza di Finance contiene formati ER relativi a processi aziendali Intrastat, questo campo di ricerca include i formati ER.</span><span class="sxs-lookup"><span data-stu-id="e1648-115">If the current Finance instance contains Intrastat business process related ER formats, this lookup field offers the ER formats.</span></span>

<span data-ttu-id="e1648-116">[![Pagina Parametri per il commercio estero](./media/ER-ExtLookup-Lookup2.png)](./media/ER-ExtLookup-Lookup2.png)</span><span class="sxs-lookup"><span data-stu-id="e1648-116">[![Foreign trade parameters page](./media/ER-ExtLookup-Lookup2.png)](./media/ER-ExtLookup-Lookup2.png)</span></span>

<span data-ttu-id="e1648-117">Questa ricerca offre solo i formati ER che sono già stati importati nell'istanza corrente di Finance.</span><span class="sxs-lookup"><span data-stu-id="e1648-117">This lookup offers only the ER formats that have already been imported to the current Finance instance.</span></span> <span data-ttu-id="e1648-118">Per [importare](./tasks/er-import-configuration-lifecycle-services.md) soluzioni ER nell'istanza corrente di Finance, è necessario disporre delle autorizzazioni per eseguire la funzione appropriata del framework ER che supporta il [ciclo di vita](general-electronic-reporting-manage-configuration-lifecycle.md) delle soluzioni ER che contengono formati ER.</span><span class="sxs-lookup"><span data-stu-id="e1648-118">To [import](./tasks/er-import-configuration-lifecycle-services.md) ER solutions to the current Finance instance, you need to have permissions to run the appropriate function of the ER framework that supports the [lifecycle](general-electronic-reporting-manage-configuration-lifecycle.md) of ER solutions that contain ER formats.</span></span>

<span data-ttu-id="e1648-119">A partire dalla versione 10.0.9 di Finance (versione di aprile 2020), l'interfaccia utente della ricerca di formati ER implementata mediante l'API del framework ER è stata estesa.</span><span class="sxs-lookup"><span data-stu-id="e1648-119">Starting in the Finance version 10.0.9 (April 2020 release), the user interface of the ER format lookup that is implemented by using the ER framework API, has been extended.</span></span> <span data-ttu-id="e1648-120">È ancora possibile selezionare i formati ER esistenti, che si trovano nella scheda dettaglio **Seleziona la configurazione del formato**.</span><span class="sxs-lookup"><span data-stu-id="e1648-120">You can still select the existing ER formats, which on the **Select format configuration** FastTab.</span></span> <span data-ttu-id="e1648-121">Inoltre, la ricerca estesa offre la nuova opzione per la ricerca di formati ER specifici nel repository globale.</span><span class="sxs-lookup"><span data-stu-id="e1648-121">In addition to that, the extended lookup offers the new option to search the Global repository (GR) to locate specific ER formats.</span></span> <span data-ttu-id="e1648-122">Tutti i formati ER del repository globale sono disponibili nella scheda dettaglio **Importa da repository globale**.</span><span class="sxs-lookup"><span data-stu-id="e1648-122">All ER formats of the GR are offered on the **Import from Global repository** FastTab.</span></span>

<span data-ttu-id="e1648-123">[![Pagina Parametri per il commercio estero](./media/ER-ExtLookup-Lookup3.png)](./media/ER-ExtLookup-Lookup3.png)</span><span class="sxs-lookup"><span data-stu-id="e1648-123">[![Foreign trade parameters page](./media/ER-ExtLookup-Lookup3.png)](./media/ER-ExtLookup-Lookup3.png)</span></span>

<span data-ttu-id="e1648-124">Analogamente alla scheda **Seleziona la configurazione del formato**, la scheda dettaglio **Importa da repository globale** mostra solo i formati ER applicabili al processo aziendale per il quale un formato ER è selezionato in questo campo di ricerca.</span><span class="sxs-lookup"><span data-stu-id="e1648-124">Similar to the **Select format configuration** FastTab, the **Import from Global repository** FastTab shows only the ER formats that are applicable to the business process for which an ER format is selected in this lookup field.</span></span> <span data-ttu-id="e1648-125">In questo esempio, la generazione della dichiarazione Intrastat.</span><span class="sxs-lookup"><span data-stu-id="e1648-125">In this example, the generation of Intrastat declaration.</span></span> <span data-ttu-id="e1648-126">Il formato ER è applicabile per l'azienda a cui l'utente è attualmente connesso, a seconda del contesto del paese dell'azienda.</span><span class="sxs-lookup"><span data-stu-id="e1648-126">The ER format is applicable for the company to which the user is currently signed in, depending on the company country context.</span></span>

<span data-ttu-id="e1648-127">Quando si seleziona un formato ER nella scheda dettaglio **Importa da repository globale**, la [configurazione](general-electronic-reporting.md#Configuration) di formato ER selezionata viene importata dl repository globale nell'istanza corrente di Finance.</span><span class="sxs-lookup"><span data-stu-id="e1648-127">When you select an ER format on the **Import from Global repository** FastTab, the selected ER format [configuration](general-electronic-reporting.md#Configuration) is imported from the GR to the current Finance instance.</span></span>

<span data-ttu-id="e1648-128">[![Pagina Parametri per il commercio estero](./media/ER-ExtLookup-FormatImport.png)](./media/ER-ExtLookup-FormatImport.png)</span><span class="sxs-lookup"><span data-stu-id="e1648-128">[![Foreign trade parameters page](./media/ER-ExtLookup-FormatImport.png)](./media/ER-ExtLookup-FormatImport.png)</span></span>

<span data-ttu-id="e1648-129">Quindi, se l'importazione viene completata correttamente, il riferimento al formato ER importato viene archiviato in questo campo di ricerca.</span><span class="sxs-lookup"><span data-stu-id="e1648-129">Then, if the import completes successfully, the reference to the imported ER format is stored in this lookup field.</span></span> <span data-ttu-id="e1648-130">Si noti che quando si accede al repository globale per la prima volta, è necessario seguire il collegamento fornito per iscriversi al servizio [Regulatory Configuration Service](https://aka.ms/rcs) (RCS) utilizzato per gestire l'accesso al repository globale.</span><span class="sxs-lookup"><span data-stu-id="e1648-130">Note that when you access the GR for the first time, you need to follow the link provided to sign up for the [Regulatory Configuration Service](https://aka.ms/rcs) (RCS) that is used to manage access to the GR storage.</span></span>

<span data-ttu-id="e1648-131">[![Pagina Parametri per il commercio estero](./media/ER-ExtLookup-RepoSignUp.png)](./media/ER-ExtLookup-RepoSignUp.png)</span><span class="sxs-lookup"><span data-stu-id="e1648-131">[![Foreign trade parameters page](./media/ER-ExtLookup-RepoSignUp.png)](./media/ER-ExtLookup-RepoSignUp.png)</span></span>

<span data-ttu-id="e1648-132">Per impostazione predefinita, la scheda dettaglio **Importa da repository globale** visualizza l'elenco di formati ER presenti nell'archivio temporaneo che viene creato automaticamente in base al contenuto del repository globale per miglioramenti delle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="e1648-132">By default, the **Import from Global repository** FastTab presents the list of ER formats from the temporary storage that is automatically created based on the GR content for performance improvements.</span></span> <span data-ttu-id="e1648-133">Ciò avviene quando la scheda dettaglio **Importa da repository globale** viene aperta la prima volta, il che può richiedere alcuni secondi.</span><span class="sxs-lookup"><span data-stu-id="e1648-133">This happens when the **Import from Global repository** FastTab is opened the first time, which may take several seconds.</span></span>

<span data-ttu-id="e1648-134">Se il formato ER richiesto non è visualizzato nella scheda dettaglio **Importa da repository globale**, ma si è certi della sua presenza nel repository globale, selezionare l'opzione **Sincronizza**.</span><span class="sxs-lookup"><span data-stu-id="e1648-134">If you do not see the required ER format in the **Import from Global repository** FastTab, but you are sure that this ER format is stored in the GR, select the **Synchronize** option.</span></span> <span data-ttu-id="e1648-135">Questa operazione aggiornerà l'archivio temporaneo e lo sincronizzerà con il contenuto corrente del repository globale.</span><span class="sxs-lookup"><span data-stu-id="e1648-135">This will update the temporary storage and synchronize it with the current content of the GR.</span></span>

## <a name="feature-activation"></a><span data-ttu-id="e1648-136">Attivazione della funzionalità</span><span class="sxs-lookup"><span data-stu-id="e1648-136">Feature activation</span></span>

<span data-ttu-id="e1648-137">La disponibilità di questa funzionalità è controllata dalla funzionalità **Ricerca estesa di configurazioni di formati ER che consente di consultare il repository globale** in **Gestione funzionalità**.</span><span class="sxs-lookup"><span data-stu-id="e1648-137">The availability of this functionality is controlled by the feature **Extended lookup of ER format configurations allowing to inquire the Global repository** in the **Feature management**.</span></span> <span data-ttu-id="e1648-138">Questo funzionalità è abilitata per impostazione predefinita.</span><span class="sxs-lookup"><span data-stu-id="e1648-138">This feature is enabled by default.</span></span>

<span data-ttu-id="e1648-139">[![Pagina Gestione funzionalità](./media/ER-ExtLookup-FeatureMngt.png)](./media/ER-ExtLookup-FeatureMngt.png)</span><span class="sxs-lookup"><span data-stu-id="e1648-139">[![Feature management page](./media/ER-ExtLookup-FeatureMngt.png)](./media/ER-ExtLookup-FeatureMngt.png)</span></span>

## <a name="security-considerations"></a><span data-ttu-id="e1648-140">Considerazioni sulla sicurezza</span><span class="sxs-lookup"><span data-stu-id="e1648-140">Security considerations</span></span>

<span data-ttu-id="e1648-141">Il privilegio **Gestisci repository di configurazioni** (**ERMaintainSolutionRepositories**) controlla l'accesso al repository globale per un utente che avvia la ricerca di formati ER con la scheda dettaglio **Importa da repository globale** abilitata.</span><span class="sxs-lookup"><span data-stu-id="e1648-141">The **Maintain configuration repositories** (**ERMaintainSolutionRepositories**) privilege controls access to the GR for a user opening the ER format lookup with the enabled **Import from Global repository** FastTab.</span></span> <span data-ttu-id="e1648-142">Per consentire agli utenti di accedere al contenuto del repository globale dalle ricerche di formati ER, è necessario modificare le impostazioni di sicurezza concedendo il privilegio **ERMaintainSolutionRepositories** agli utenti direttamente oppure utilizzando ruoli e compiti già assegnati.</span><span class="sxs-lookup"><span data-stu-id="e1648-142">To allow users to access the GR content from the ER format lookups, you need to change the security settings by granting the **ERMaintainSolutionRepositories** privilege to users either directly or by using already assigned roles and duties.</span></span>

<span data-ttu-id="e1648-143">La schermata seguente mostra come questo privilegio può essere concesso agli utenti a cui è assegnato il ruolo **Contabile**.</span><span class="sxs-lookup"><span data-stu-id="e1648-143">The following screenshot shows how this privilege can be granted to users who are assigned to the **Accountant** role.</span></span> <span data-ttu-id="e1648-144">Questo ruolo consente agli utenti di configurare i parametri per il commercio estero e impostare i riferimenti ai formati ER nei campi **Mapping formato file** e **Mapping formato report** nella pagina **Parametri per il commercio estero**.</span><span class="sxs-lookup"><span data-stu-id="e1648-144">This role makes allows users to configure foreign trade parameters and set up references to the ER formats in the **File format mapping** and **Report format mapping** fields on the **Foreign trade parameters** page.</span></span>

<span data-ttu-id="e1648-145">[![Pagina Configurazione sicurezza](./media/ER-ExtLookup-SecuritySetting.png)](./media/ER-ExtLookup-SecuritySetting.png)</span><span class="sxs-lookup"><span data-stu-id="e1648-145">[![Security configuration page](./media/ER-ExtLookup-SecuritySetting.png)](./media/ER-ExtLookup-SecuritySetting.png)</span></span>

## <a name="limitations"></a><span data-ttu-id="e1648-146">Limiti</span><span class="sxs-lookup"><span data-stu-id="e1648-146">Limitations</span></span>

<span data-ttu-id="e1648-147">L'accesso al repository globale nella ricerca di formati ER è attualmente supportato solo per la selezione di formati ER utilizzati per generare documenti in uscita.</span><span class="sxs-lookup"><span data-stu-id="e1648-147">Access to the GR in the ER format lookup is currently only supported for the selection of ER formats that are used to generate outbound documents.</span></span>

## <a name="frequently-asked-questions"></a><span data-ttu-id="e1648-148">Domande frequenti</span><span class="sxs-lookup"><span data-stu-id="e1648-148">Frequently asked questions</span></span>

### <a name="why-cant-i-access-the-global-repository-from-the-er-format-lookup"></a><span data-ttu-id="e1648-149">Perché non è possibile accedere al repository globale dalla ricerca di formati ER?</span><span class="sxs-lookup"><span data-stu-id="e1648-149">Why can't I access the Global repository from the ER format lookup?</span></span>

<span data-ttu-id="e1648-150">Se è stata abilitata la funzionalità **Ricerca estesa di configurazioni di formati ER che consente di consultare il repository globale** nella pagina **Gestione funzionalità**, ma gli utenti non possono vedere i formati ER nella scheda dettaglio **Importa da repository globale** e l'opzione **Sincronizza** è visibile ma disabilitata, assicurarsi che il privilegio **Gestisci repository di configurazioni** (**ERMaintainSolutionRepositories**) sia stato concesso all'utente.</span><span class="sxs-lookup"><span data-stu-id="e1648-150">If you have enabled the **Extended lookup of ER format configurations allowing to inquire the Global repository** feature on the **Feature management** page, but users can't see ER formats on the **Import from Global repository** FastTab and the **Synchronize** option is visible but disabled, make sure that the **Maintain configuration repositories** (**ERMaintainSolutionRepositories**) privilege has been granted to the user.</span></span> <span data-ttu-id="e1648-151">Per ricevere questo privilegio, contattare l'amministratore di sistema.</span><span class="sxs-lookup"><span data-stu-id="e1648-151">Contact your system administrator to receive this privilege.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="e1648-152">Risorse aggiuntive</span><span class="sxs-lookup"><span data-stu-id="e1648-152">Additional resources</span></span>

- [<span data-ttu-id="e1648-153">Panoramica dei report elettronici</span><span class="sxs-lookup"><span data-stu-id="e1648-153">Electronic reporting (ER) overview</span></span>](general-electronic-reporting.md)
- [<span data-ttu-id="e1648-154">API del framework di report elettronici (ER)</span><span class="sxs-lookup"><span data-stu-id="e1648-154">Electronic reporting (ER) framework API</span></span>](er-apis-app73.md)
- [<span data-ttu-id="e1648-155">Gestire il ciclo di vita delle configurazioni per la creazione di report elettronici</span><span class="sxs-lookup"><span data-stu-id="e1648-155">Manage Electronic reporting (ER) configurations lifecycle</span></span>](general-electronic-reporting-manage-configuration-lifecycle.md)
