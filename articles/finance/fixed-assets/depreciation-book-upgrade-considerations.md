---
title: Panoramica sull'aggiornamento dei registri beni ammortizzabili
description: Nelle versioni precedenti, erano presenti due concetti di valutazione per i cespiti, modelli di valore e registri beni ammortizzabili.
author: ShylaThompson
manager: AnnBe
ms.date: 06/20/2017
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
audience: Application User, Developer
ms.reviewer: roschlom
ms.search.scope: Core, Operations
ms.custom: 221624
ms.assetid: cf434099-36f9-4b0f-a7c8-bed091e34f39
ms.search.region: global
ms.author: saraschi
ms.search.validFrom: 2016-11-30
ms.dyn365.ops.version: Version 1611
ms.openlocfilehash: efa1b492fec085cc8bac5a786af4aaba854899e5
ms.sourcegitcommit: 2460d0da812c45fce67a061386db52e0ae46b0f3
ms.translationtype: HT
ms.contentlocale: it-IT
ms.lasthandoff: 09/30/2019
ms.locfileid: "2249657"
---
# <a name="depreciation-book-upgrade-overview"></a><span data-ttu-id="74d11-103">Panoramica dell'aggiornamento dei registri beni ammortizzabili</span><span class="sxs-lookup"><span data-stu-id="74d11-103">Depreciation book upgrade overview</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="74d11-104">Nelle versioni precedenti, erano presenti due concetti di valutazione per i cespiti: modelli di valore e registri beni ammortizzabili.</span><span class="sxs-lookup"><span data-stu-id="74d11-104">In previous releases, there were two valuation concepts for fixed assets -  value models and depreciation books.</span></span> <span data-ttu-id="74d11-105">In Microsoft Dynamics 365 for Operations (1611), le funzionalità dei modelli di valore e le funzionalità dei registri beni ammortizzabili sono state unite in un unico concetto noto come libro.</span><span class="sxs-lookup"><span data-stu-id="74d11-105">In Microsoft Dynamics 365 for Operations (1611), the value model functionality and depreciation book functionality have been merged into a single concept that is known as a book.</span></span> <span data-ttu-id="74d11-106">In questo argomento vengono fornite alcune considerazioni per l'aggiornamento.</span><span class="sxs-lookup"><span data-stu-id="74d11-106">This topic provides some things to consider for the upgrade.</span></span> 

<span data-ttu-id="74d11-107">Il processo di aggiornamento sposterà l'impostazione esistente e tutte le transazioni esistenti nella nuova struttura dei libri.</span><span class="sxs-lookup"><span data-stu-id="74d11-107">The upgrade process will move your existing setup and all existing transactions to the new book structure.</span></span> <span data-ttu-id="74d11-108">I modelli di valore rimarranno come sono attualmente, come libro che registra nella contabilità generale.</span><span class="sxs-lookup"><span data-stu-id="74d11-108">Value models will remain as they currently are, as a book that posts to the general ledger.</span></span> <span data-ttu-id="74d11-109">I registri beni ammortizzabili verranno spostati in un libro con l'opzione **Registra nella contabilità generale** impostata su **No**.</span><span class="sxs-lookup"><span data-stu-id="74d11-109">Depreciation books will be moved to a book that has the **Post to general ledger** option set to **No**.</span></span> <span data-ttu-id="74d11-110">I nomi di giornale di registrazione per registri beni ammortizzabili vengono spostati in un nome di giornale di registrazione di contabilità generale con livello di registrazione impostato su **Nessuno**.</span><span class="sxs-lookup"><span data-stu-id="74d11-110">Depreciation book journal names will be moved to a general ledger journal name with the posting layer set to **None**.</span></span> <span data-ttu-id="74d11-111">Le transazioni del registro beni ammortizzabili verranno spostate nelle transazioni cespiti.</span><span class="sxs-lookup"><span data-stu-id="74d11-111">Depreciation book transactions will be moved to Fixed asset transactions.</span></span> 

<span data-ttu-id="74d11-112">Prima di eseguire l'aggiornamento dei dati, è necessario comprendere le due opzioni disponibili per aggiornare le righe del giornale di registrazione per registri beni ammortizzabili ai giustificativi di transazione e la sequenza numerica da utilizzare per la serie di giustificativi.</span><span class="sxs-lookup"><span data-stu-id="74d11-112">Before running the data upgrade, you should understand the two options available for upgrading depreciation book journal lines to transaction vouchers, and the number sequence that will be used for the voucher series.</span></span> 

<span data-ttu-id="74d11-113">Opzione 1:  **sequenza numerica definita dal sistema-** - Questa è l'opzione predefinita per ottimizzare le prestazioni di aggiornamento.</span><span class="sxs-lookup"><span data-stu-id="74d11-113">Option 1:  **System-defined number sequence** - This is the default option to optimize upgrade performance.</span></span> <span data-ttu-id="74d11-114">Non verrà utilizzato il framework di sequenze numeriche, ma verranno assegnati i giustificativi con un approccio basato su set.</span><span class="sxs-lookup"><span data-stu-id="74d11-114">The upgrade will not use the number sequences framework, but instead will allocate vouchers with a set-based approach.</span></span> <span data-ttu-id="74d11-115">Dopo l'aggiornamento, la nuova sequenza numerica viene creato con il **Set di numeri successivo** appropriatamente basato sulle transazioni aggiornate.</span><span class="sxs-lookup"><span data-stu-id="74d11-115">After the upgrade, the new number sequence will be created with the **Next number set** appropriately based on the upgraded transactions.</span></span> <span data-ttu-id="74d11-116">Per impostazione predefinita, la sequenza numerica utilizzata sarà nel formato FADBUpgr\#\#\#\#\#\#\#\#\#.</span><span class="sxs-lookup"><span data-stu-id="74d11-116">By default, the number sequence used will be in the FADBUpgr\#\#\#\#\#\#\#\#\# format.</span></span> <span data-ttu-id="74d11-117">Sono disponibili alcuni parametri per rettificare il formato quando si utilizza questo approccio:</span><span class="sxs-lookup"><span data-stu-id="74d11-117">There are a few parameters available to you to adjust the format when using this approach:</span></span>

-   <span data-ttu-id="74d11-118">**Codice sequenza numerica**: il codice di identificazione della sequenza numerica.</span><span class="sxs-lookup"><span data-stu-id="74d11-118">**Number sequence code** – The code to identify the number sequence.</span></span> <span data-ttu-id="74d11-119">Questo codice di sequenza numerica non può esistere poiché verrà creato dall'aggiornamento.</span><span class="sxs-lookup"><span data-stu-id="74d11-119">This number sequence code cannot exist since it will be created by the upgrade.</span></span>
    -   <span data-ttu-id="74d11-120">Nome costante: **NumberSequenceDefaultCode**</span><span class="sxs-lookup"><span data-stu-id="74d11-120">Constant name: **NumberSequenceDefaultCode**</span></span>
    -   <span data-ttu-id="74d11-121">Valore predefinito: "FADBUpgr"</span><span class="sxs-lookup"><span data-stu-id="74d11-121">Default value: "FADBUpgr"</span></span>
-   <span data-ttu-id="74d11-122">**Prefisso** - Il valore stringa costante da utilizzare come prefisso per i numeri di giustificativo.</span><span class="sxs-lookup"><span data-stu-id="74d11-122">**Prefix** – The constant string value that will be used as a prefix for the voucher numbers.</span></span>
    -   <span data-ttu-id="74d11-123">Nome costante: **NumberSequenceDefaultParameterPrefix**</span><span class="sxs-lookup"><span data-stu-id="74d11-123">Constant name: **NumberSequenceDefaultParameterPrefix**</span></span>
    -   <span data-ttu-id="74d11-124">Valore predefinito: "FADBUpgr"</span><span class="sxs-lookup"><span data-stu-id="74d11-124">Default value: "FADBUpgr"</span></span>
-   <span data-ttu-id="74d11-125">**Lunghezza alfanumerica** - La lunghezza del segmento alfanumerico della sequenza numerica.</span><span class="sxs-lookup"><span data-stu-id="74d11-125">**Alphanumeric length** – The length of the alphanumeric segment of the number sequence.</span></span>
    -   <span data-ttu-id="74d11-126">Nome costante: \*\*NumberSequenceDefaultParameterAlpanumericLength \*\*</span><span class="sxs-lookup"><span data-stu-id="74d11-126">Constant name: \*\*NumberSequenceDefaultParameterAlpanumericLength \*\*</span></span>
    -   <span data-ttu-id="74d11-127">Valore predefinito: 9</span><span class="sxs-lookup"><span data-stu-id="74d11-127">Default value: 9</span></span>
-   <span data-ttu-id="74d11-128">**Numero iniziale** - Primo numero da utilizzare nella sequenza numerica.</span><span class="sxs-lookup"><span data-stu-id="74d11-128">**Start number** - The first number to be used in the number sequence.</span></span>
    -   <span data-ttu-id="74d11-129">Nome costante: \*\*NumberSequenceDefaultParameterStartNumber  \*\*</span><span class="sxs-lookup"><span data-stu-id="74d11-129">Constant name: \*\*NumberSequenceDefaultParameterStartNumber  \*\*</span></span>
    -   <span data-ttu-id="74d11-130">Valore predefinito: 1</span><span class="sxs-lookup"><span data-stu-id="74d11-130">Default value: 1</span></span>

<span data-ttu-id="74d11-131">Opzione 2: **Sequenza numerica definita dall'utente esistente** - Questa opzione consente di definire la sequenza numerica da utilizzare per l'aggiornamento.</span><span class="sxs-lookup"><span data-stu-id="74d11-131">Option 2: **Existing user-defined number sequence** - This option will allow you to define the number sequence to be used for the upgrade.</span></span> <span data-ttu-id="74d11-132">Può essere opportuno utilizzare questa opzione se si necessita di una configurazione di sequenza numerica avanzata.</span><span class="sxs-lookup"><span data-stu-id="74d11-132">Consider using this option if you need advanced number sequence configuration.</span></span> <span data-ttu-id="74d11-133">Per utilizzare una sequenza numerica, sarà necessario modificare la classe ReleaseUpdateDB70\_FixedAssetJournalDepBookRemovalDepBookJournalTrans di aggiornamento con le seguenti informazioni:</span><span class="sxs-lookup"><span data-stu-id="74d11-133">To use a number sequence, you must modify the upgrade class ReleaseUpdateDB70\_FixedAssetJournalDepBookRemovalDepBookJournalTrans with the following information:</span></span>

-   <span data-ttu-id="74d11-134">**Codice sequenza numerica**: Il codice della sequenza numerica.</span><span class="sxs-lookup"><span data-stu-id="74d11-134">**Number sequence code** – The code of the number sequence.</span></span>
    -   <span data-ttu-id="74d11-135">Nome costante: \*\*NumberSequenceExistingCode \*\*</span><span class="sxs-lookup"><span data-stu-id="74d11-135">Constant name: \*\*NumberSequenceExistingCode \*\*</span></span>
    -   <span data-ttu-id="74d11-136">Valore predefinito: Nessun valore predefinito, questo deve essere aggiornato al codice di sequenza numerica.</span><span class="sxs-lookup"><span data-stu-id="74d11-136">Default value: No default, this must be updated to the number sequence code.</span></span>
-   <span data-ttu-id="74d11-137">**Sequenza numerica condivisa** È un valore booleano per identificare l'ambito della sequenza numerica.</span><span class="sxs-lookup"><span data-stu-id="74d11-137">**Shared number sequence** – A boolean value to identify the scope of the number sequence.</span></span> <span data-ttu-id="74d11-138">Utilizzare "true" per le sequenze numeriche comuni a tutte le società e "false" per un ambito specifico di una società.</span><span class="sxs-lookup"><span data-stu-id="74d11-138">Use "true" for shared number sequences across all companies, and "false" for a company-specific scope.</span></span> <span data-ttu-id="74d11-139">Quando si usa "false", la sequenza numerica con il nome specificato deve esistere in ciascuna società contenente le transazioni del registro beni ammortizzabili.</span><span class="sxs-lookup"><span data-stu-id="74d11-139">When using "false", the number sequence with the specified name must exist in every company that contains depreciation book transactions.</span></span> <span data-ttu-id="74d11-140">Le sequenze numeriche condivise esistono in ogni partizione contenente le transazioni del registro beni ammortizzabili.</span><span class="sxs-lookup"><span data-stu-id="74d11-140">Shared number sequences exist in every partition that contains depreciation book transactions.</span></span>
    -   <span data-ttu-id="74d11-141">Nome costante: \*\*NumberSequenceExistingIsShared \*\*</span><span class="sxs-lookup"><span data-stu-id="74d11-141">Constant name: \*\*NumberSequenceExistingIsShared \*\*</span></span>
    -   <span data-ttu-id="74d11-142">Valore predefinito: true</span><span class="sxs-lookup"><span data-stu-id="74d11-142">Default value: true</span></span>

<span data-ttu-id="74d11-143">I parametri sono situati all'inizio della classe ReleaseUpdateDB70\_FixedAssetJournalDepBookRemovalDepBookJournalTrans.</span><span class="sxs-lookup"><span data-stu-id="74d11-143">The parameters are located at the beginning of the ReleaseUpdateDB70\_FixedAssetJournalDepBookRemovalDepBookJournalTrans class.</span></span> 

<span data-ttu-id="74d11-144">*// Specificare un approccio preferibile di allocazione di giustificativi* 
 *// true, se si desidera utilizzare un codice di sequenza numerica esistente* 
 *// false, se si intende utilizzare la sequenza numerica definita dal sistema (predefinita)* const boolean NumberSequenceUseExistingCode = false;</span><span class="sxs-lookup"><span data-stu-id="74d11-144">*// Specify a preferable approach of vouchers allocation* 
 *// true, if you want to use an existing number sequence code* 
 *// false, if you intend to use the system-defined number sequence (default)* const boolean NumberSequenceUseExistingCode = false;</span></span>  

<span data-ttu-id="74d11-145">*// Se si utilizza l'approccio di sequenza numerica definito dal sistema, specificare i parametri per la sequenza numerica.*
 *// Una nuova sequenza numerica verrà creata con questi parametri.*</span><span class="sxs-lookup"><span data-stu-id="74d11-145">*// If using the system-defined number sequence approach, specify the parameters for the number sequence.*
 *// A new number sequence will be created with these parameters.*</span></span> <span data-ttu-id="74d11-146">const str NumberSequenceDefaultCode = 'FADBUpgr'; const str NumberSequenceDefaultParameterPrefix = 'FADBUpgr'; const int NumberSequenceDefaultParameterAlpanumericLength = 9; const int NumberSequenceDefaultParameterStartNumber = 1;</span><span class="sxs-lookup"><span data-stu-id="74d11-146">const str NumberSequenceDefaultCode = 'FADBUpgr'; const str NumberSequenceDefaultParameterPrefix = 'FADBUpgr'; const int NumberSequenceDefaultParameterAlpanumericLength = 9; const int NumberSequenceDefaultParameterStartNumber = 1;</span></span>   

<span data-ttu-id="74d11-147">*// Se si utilizza l'approccio di sequenza numerica esistente, specificare il codice di sequenza numerica esistente.* 
 *// L'allocazione dei giustificativi procederà riga per riga per le sequenze numeriche esistenti.*</span><span class="sxs-lookup"><span data-stu-id="74d11-147">*// If using the existing number sequence approach, specify the existing number sequence code.* 
 *// Voucher allocation will go row-by-row for existing number sequences.*</span></span> <span data-ttu-id="74d11-148">const str NumberSequenceExistingCode = ''; *// Specificare l'ambito del codice della sequenza numerica esistente* 
 *// true, se la sequenza numerica specificata è condivisa* 
 *// false, se la sequenza numerica specificata è per singola società* 
 *// La sequenza numerica definita dal sistema predefinita verrà utilizzata se un codice di sequenza numerica con l'ambito specificato non viene trovato.*</span><span class="sxs-lookup"><span data-stu-id="74d11-148">const str NumberSequenceExistingCode = ''; *// Specify the scope of the existing number sequence code* 
 *// true, if the specified number sequence is shared* 
 *// false, if the specified number sequence is per-company* 
 *// The default system-defined number sequence will be used if a number sequence code with the specified scope is not found.*</span></span> <span data-ttu-id="74d11-149">const boolean NumberSequenceExistingIsShared = true;</span><span class="sxs-lookup"><span data-stu-id="74d11-149">const boolean NumberSequenceExistingIsShared = true;</span></span> 

<span data-ttu-id="74d11-150">Ricompilare il progetto contenente la classe dopo che le costanti sono state modificate.</span><span class="sxs-lookup"><span data-stu-id="74d11-150">Rebuild the project that contains the class after the constants have been modified.</span></span> 

<span data-ttu-id="74d11-151">Quando si utilizza l'approccio di sequenza numerica generata dal sistema (opzione 1), l'aggiornamento utilizzerà l'elaborazione basata su set per assegnare i numeri di giustificativo come specificato nei parametri dello script di aggiornamento.</span><span class="sxs-lookup"><span data-stu-id="74d11-151">When using the system-generated number sequence approach (option 1), the upgrade will use set-based processing to allocate the voucher numbers as specified in the upgrade script parameters.</span></span> <span data-ttu-id="74d11-152">Viene inoltre creata una nuova sequenza numerica con i parametri specificati dopo l'allocazione.</span><span class="sxs-lookup"><span data-stu-id="74d11-152">It will also create a new number sequence with specified parameters after the allocation.</span></span> 

<span data-ttu-id="74d11-153">Quando si utilizza l'approccio di sequenza numerica esistente definita dall'utente (opzione 2), l'aggiornamento dei dati controlla se la sequenza numerica con l'ambito specificato esiste nel database per ogni partizione e società con transazioni del registro beni ammortizzabili.</span><span class="sxs-lookup"><span data-stu-id="74d11-153">When using the user-defined existing number sequence approach (option 2), the data upgrade checks whether the number sequence with the specified scope exists in the database for each partition and company with depreciation book transactions.</span></span> <span data-ttu-id="74d11-154">In caso affermativo, l'aggiornamento utilizzerà l'elaborazione riga per riga per assegnare i numeri di giustificativo come specificato dalla sequenza numerica con il framework di sequenza numerica.</span><span class="sxs-lookup"><span data-stu-id="74d11-154">If it does exist, the upgrade will use row-by-row processing to allocate the voucher numbers as specified by the number sequence using the number sequence framework.</span></span> <span data-ttu-id="74d11-155">Se la sequenza numerica non è presente nell'ambito specificato, l'aggiornamento utilizzerà l'approccio di sequenza numerica definita dal sistema predefinita per assegnare i numeri di giustificativo e verrà creata una nuova sequenza numerica con i parametri predefiniti specificati dopo l'allocazione.</span><span class="sxs-lookup"><span data-stu-id="74d11-155">If the number sequence does not exist with the specified scope, the upgrade will use the default system-defined number sequence approach to allocate the voucher numbers, and will create a new number sequence with specified default parameters after the allocation.</span></span>

<span data-ttu-id="74d11-156">Con l'uno o l'altro approccio, lo script di aggiornamento dei dati utilizzerà la sequenza numerica anche per il campo **Serie giustificativi** nei nuovi nomi di giornale di registrazione di contabilità generale creato per i precedenti nomi di giornale di registrazione per registri beni ammortizzabili.</span><span class="sxs-lookup"><span data-stu-id="74d11-156">With either approach, the data upgrade script will also use the number sequence for the **Voucher series** field on the new general ledger journal names created for the former depreciation book journal names.</span></span>



