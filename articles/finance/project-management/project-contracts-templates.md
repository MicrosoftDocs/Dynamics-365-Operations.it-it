---
title: Sincronizzare i contratti di progetto e progetti direttamente da Project Service Automation a Finance and Operations
description: Questo argomento descrive il modello e le attività sottostanti che vengono utilizzati per sincronizzare i contratti di progetto e i progetti direttamente da Microsoft Dynamics 365 Project Service Automation a Dynamics 365 Finance.
author: KimANelson
manager: AnnBe
ms.date: 09/09/2019
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
audience: Application User
ms.reviewer: josaw
ms.search.scope: Core, Operations
ms.custom: 87983
ms.assetid: b454ad57-2fd6-46c9-a77e-646de4153067
ms.search.region: Global
ms.author: knelson
ms.search.validFrom: 2017-12-13
ms.dyn365.ops.version: AX 7.3.0
ms.openlocfilehash: b44fc116f1dcaa1275b2262487ef9114bce639c6
ms.sourcegitcommit: fbc106af09bdadb860677f590464fb93223cbf65
ms.translationtype: HT
ms.contentlocale: it-IT
ms.lasthandoff: 11/06/2019
ms.locfileid: "2773856"
---
# <a name="synchronize-project-contracts-and-projects-directly-from-project-service-automation-to-finance-and-operations"></a><span data-ttu-id="a304c-103">Sincronizzare i contratti di progetto e progetti direttamente da Project Service Automation a Finance and Operations</span><span class="sxs-lookup"><span data-stu-id="a304c-103">Synchronize project contracts and projects directly from Project Service Automation to Finance and Operations</span></span>

[!include[banner](../includes/banner.md)]

<span data-ttu-id="a304c-104">Questo argomento descrive il modello e le attività sottostanti che vengono utilizzati per sincronizzare i contratti di progetto e i progetti direttamente da Dynamics 365 Project Service Automation a Dynamics 365 Finance.</span><span class="sxs-lookup"><span data-stu-id="a304c-104">This topic describes the template and underlying tasks that are used to synchronize project contracts and projects directly from Dynamics 365 Project Service Automation to Dynamics 365 Finance.</span></span>

> [!NOTE] 
> <span data-ttu-id="a304c-105">Se si utilizza Enterprise Edition 7.3.0, è necessario installare KB 4074835.</span><span class="sxs-lookup"><span data-stu-id="a304c-105">If you're using Enterprise edition 7.3.0, you must install KB 4074835.</span></span>

## <a name="data-flow-for-project-service-automation-to-finance"></a><span data-ttu-id="a304c-106">Flusso di dati per Project Service Automation verso Finance</span><span class="sxs-lookup"><span data-stu-id="a304c-106">Data flow for Project Service Automation to Finance</span></span>

> [!NOTE]
> <span data-ttu-id="a304c-107">Prima di poter utilizzare la soluzione di integrazione Project Service Automation in Finance, è consigliabile acquisire familiarità con la funzionalità Integrazione dati di Dynamics 365.</span><span class="sxs-lookup"><span data-stu-id="a304c-107">Before you can use the Project Service Automation to Finance integration solution, you should be familiar with the Dynamics 365 Data integration feature.</span></span>

<span data-ttu-id="a304c-108">La soluzione di integrazione di Project Service Automation a Finance utilizza la funzionalità di integrazione dei dati per sincronizzare i dati tra istanze di Project Service Automation e Finance and Operations.</span><span class="sxs-lookup"><span data-stu-id="a304c-108">The Project Service Automation to Finance integration solution uses the Data integration feature to synchronize data across instances of Project Service Automation and Finance.</span></span> <span data-ttu-id="a304c-109">Il modello di integrazione disponibile con la funzionalità Integrazione dati abilita il flusso di dati su progetti, contratti di progetto, righe di contratto di progetto e punti cardine delle righe di contratto di progetto da Project Service Automation a Finance.</span><span class="sxs-lookup"><span data-stu-id="a304c-109">The integration template that is available with the Data integration feature enables the flow of data about project contracts, projects, project contract lines, and project contract line milestones from Project Service Automation to Finance.</span></span>

<span data-ttu-id="a304c-110">La figura seguente mostra il modo in cui i dati vengono sincronizzati tra Project Service Automation e Finance.</span><span class="sxs-lookup"><span data-stu-id="a304c-110">The following illustration shows how the data is synchronized between Project Service Automation and Finance.</span></span>

<span data-ttu-id="a304c-111">[![Flusso di dati per l'integrazione di Project Service Automation con Finance](./media/ProjectsAndContractsFlow_upd.JPG)](./media/ProjectsAndContractsFlow.JPG)</span><span class="sxs-lookup"><span data-stu-id="a304c-111">[![Data flow for Project Service Automation integration with Finance](./media/ProjectsAndContractsFlow_upd.JPG)](./media/ProjectsAndContractsFlow.JPG)</span></span>

## <a name="templates-and-tasks"></a><span data-ttu-id="a304c-112">Modelli e attività</span><span class="sxs-lookup"><span data-stu-id="a304c-112">Templates and tasks</span></span>

<span data-ttu-id="a304c-113">Per accedere ai modelli disponibili, nell'interfaccia di amministrazione di Microsoft Power Apps selezionare **Progetti** e quindi, nell'angolo superiore destro, selezionare **Nuovo progetto** per selezionare modelli pubblici.</span><span class="sxs-lookup"><span data-stu-id="a304c-113">To access the available templates, in the Microsoft Power Apps admin center, select **Projects**, and then, in the upper-right corner, select **New project** to select public templates.</span></span>

<span data-ttu-id="a304c-114">I seguenti modelli e le attività sottostanti vengono utilizzati per sincronizzare i contratti di progetto e i progetti da Project Service Automation a Finance:</span><span class="sxs-lookup"><span data-stu-id="a304c-114">The following templates and underlying tasks are used to synchronize project contracts and projects from Project Service Automation to Finance:</span></span>

### <a name="integrating-with-dynamics-365-project-service-automation-v2x"></a><span data-ttu-id="a304c-115">Integrazione con Dynamics 365 Project Service Automation v2.x</span><span class="sxs-lookup"><span data-stu-id="a304c-115">Integrating with Dynamics 365 Project Service Automation v2.x</span></span>
- <span data-ttu-id="a304c-116">**Nome del modello in Integrazione dati:** Progetti e contratti (da PSA a Fin and Ops)</span><span class="sxs-lookup"><span data-stu-id="a304c-116">**Name of the template in Data integration:** Projects and contracts (PSA to Fin and Ops)</span></span>
- <span data-ttu-id="a304c-117">**Nome delle attività del progetto:**</span><span class="sxs-lookup"><span data-stu-id="a304c-117">**Name of the tasks in the project:**</span></span>

    - <span data-ttu-id="a304c-118">Contratti di progetto da PSA a Fin and Ops</span><span class="sxs-lookup"><span data-stu-id="a304c-118">Project contracts PSA to Fin and Ops</span></span>
    - <span data-ttu-id="a304c-119">Progetto da PSA a Fin and Ops</span><span class="sxs-lookup"><span data-stu-id="a304c-119">Projects PSA to Fin and Ops</span></span>
    - <span data-ttu-id="a304c-120">Righe di contratto di progetto da PSA a Fin and Ops</span><span class="sxs-lookup"><span data-stu-id="a304c-120">Project contract lines PSA to Fin and Ops</span></span>
    - <span data-ttu-id="a304c-121">Punti cardine righe di contratto di progetto da PSA a Fin and Ops</span><span class="sxs-lookup"><span data-stu-id="a304c-121">Project contract line milestones PSA to Fin and Ops</span></span>
  
### <a name="integrating-with-dynamics-365-project-service-automation-v3x"></a><span data-ttu-id="a304c-122">Integrazione con Dynamics 365 Project Service Automation v3.x</span><span class="sxs-lookup"><span data-stu-id="a304c-122">Integrating with Dynamics 365 Project Service Automation v3.x</span></span>
<span data-ttu-id="a304c-123">È disponibile una modifica dello schema in Project Service Automation che influisce sul modello cardine della riga del contratto di progetto e l'uso della versione v2 del modello è necessario per integrare Project Service Automation v3.x con Dynamics 365.</span><span class="sxs-lookup"><span data-stu-id="a304c-123">There is a schema change in Project Service Automation that impacts the Project contract line milestone template and use of the v2 version of the template is required to integrate Project Service Automation v3.x with Dynamics 365.</span></span>

- <span data-ttu-id="a304c-124">**Nome del modello in Integrazione dati:** Progetti e contratti (da PSA 3.x a Fin and Ops) - v2</span><span class="sxs-lookup"><span data-stu-id="a304c-124">**Name of the template in Data integration:** Projects and Contracts (PSA 3.x to Fin and Ops) - v2</span></span>
- <span data-ttu-id="a304c-125">**Nome delle attività del progetto:**</span><span class="sxs-lookup"><span data-stu-id="a304c-125">**Name of the tasks in the project:**</span></span>

    - <span data-ttu-id="a304c-126">Contratti di progetto da PSA a Fin and Ops</span><span class="sxs-lookup"><span data-stu-id="a304c-126">Project contracts PSA to Fin and Ops</span></span>
    - <span data-ttu-id="a304c-127">Progetto da PSA a Fin and Ops</span><span class="sxs-lookup"><span data-stu-id="a304c-127">Projects PSA to Fin and Ops</span></span>
    - <span data-ttu-id="a304c-128">Righe di contratto di progetto da PSA a Fin and Ops</span><span class="sxs-lookup"><span data-stu-id="a304c-128">Project contract lines PSA to Fin and Ops</span></span>
    - <span data-ttu-id="a304c-129">Punti cardine righe di contratto di progetto da PSA a Fin and Ops</span><span class="sxs-lookup"><span data-stu-id="a304c-129">Project contract line milestones PSA to Fin and Ops</span></span>

<span data-ttu-id="a304c-130">Prima di eseguire la sincronizzazione di contratti di progetto e di progetti, è necessario sincronizzare gli account.</span><span class="sxs-lookup"><span data-stu-id="a304c-130">Before synchronization of project contracts and projects can occur, you must synchronize accounts.</span></span>

## <a name="entity-set"></a><span data-ttu-id="a304c-131">Insieme di entità</span><span class="sxs-lookup"><span data-stu-id="a304c-131">Entity set</span></span>

| <span data-ttu-id="a304c-132">Project Service Automation</span><span class="sxs-lookup"><span data-stu-id="a304c-132">Project Service Automation</span></span>       | <span data-ttu-id="a304c-133">Dati finanziari</span><span class="sxs-lookup"><span data-stu-id="a304c-133">Finance</span></span>                                                |
|----------------------------------|--------------------------------------------------------|
| <span data-ttu-id="a304c-134">Ordini</span><span class="sxs-lookup"><span data-stu-id="a304c-134">Orders</span></span>                           | <span data-ttu-id="a304c-135">Entità di integrazione per contratto di progetto</span><span class="sxs-lookup"><span data-stu-id="a304c-135">Integration entity for project contract</span></span>                |
| <span data-ttu-id="a304c-136">Progetti</span><span class="sxs-lookup"><span data-stu-id="a304c-136">Projects</span></span>                         | <span data-ttu-id="a304c-137">Entità di integrazione per progetto</span><span class="sxs-lookup"><span data-stu-id="a304c-137">Integration entity for project</span></span>                         |
| <span data-ttu-id="a304c-138">Righe ordine</span><span class="sxs-lookup"><span data-stu-id="a304c-138">Order lines</span></span>                      | <span data-ttu-id="a304c-139">Entità di integrazione per riga di contratto del progetto</span><span class="sxs-lookup"><span data-stu-id="a304c-139">Integration entity for project contract line</span></span>           |
| <span data-ttu-id="a304c-140">Punti cardine righe di contratto del progetto</span><span class="sxs-lookup"><span data-stu-id="a304c-140">Project contract line milestones</span></span> | <span data-ttu-id="a304c-141">Entità di integrazione per il punto cardine della riga di contratto del progetto</span><span class="sxs-lookup"><span data-stu-id="a304c-141">Integration entity for project contract line milestone</span></span> |

## <a name="entity-flow"></a><span data-ttu-id="a304c-142">Flusso di entità</span><span class="sxs-lookup"><span data-stu-id="a304c-142">Entity flow</span></span>

<span data-ttu-id="a304c-143">I contratti di progetto vengono gestiti in Project Service Automation e vengono sincronizzati con Finance come contratti di progetto.</span><span class="sxs-lookup"><span data-stu-id="a304c-143">Project contracts are managed in Project Service Automation, and they are synchronized to Finance as project contracts.</span></span> <span data-ttu-id="a304c-144">Come parte del modello di integrazione, è possibile impostare l'origine dell'integrazione in Finance per il contratto di progetto.</span><span class="sxs-lookup"><span data-stu-id="a304c-144">As part of the integration template, you can set the integration source in Finance for the project contract.</span></span>

<span data-ttu-id="a304c-145">I progetti di tempistica e materiali e a prezzo fisso vengono gestiti in Project Service Automation e vengono sincronizzati con Finance come progetti.</span><span class="sxs-lookup"><span data-stu-id="a304c-145">Time and material project and Fixed price projects are managed in Project Service Automation, and they are synchronized to Finance as projects.</span></span> <span data-ttu-id="a304c-146">Come parte del modello di integrazione, è possibile impostare l'origine dell'integrazione in Finance per il progetto.</span><span class="sxs-lookup"><span data-stu-id="a304c-146">As part of the template integration, you can set the integration source in Finance for the project.</span></span>

<span data-ttu-id="a304c-147">Le righe di contratto di progetto vengono gestite in Project Service Automation e vengono sincronizzate con Finance come regole di fatturazione dei contratti di progetto.</span><span class="sxs-lookup"><span data-stu-id="a304c-147">Project contract lines are managed in Project Service Automation, and they are synchronized to Finance as project contract billing rules.</span></span> <span data-ttu-id="a304c-148">Se il metodo di fatturazione differisce dal tipo di progetto predefinito, la sincronizzazione aggiorna il tipo di progetto per il progetto o il gruppo di progetti con riga di contratto.</span><span class="sxs-lookup"><span data-stu-id="a304c-148">If the billing method differs from the default project type, the synchronization updates the project type for the contract line project and project group.</span></span>

<span data-ttu-id="a304c-149">I punti cardine delle righe di contratto di progetto vengono gestiti in Project Service Automation e vengono sincronizzati con Finance come punti cardine delle regole di fatturazione dei contratti di progetto.</span><span class="sxs-lookup"><span data-stu-id="a304c-149">Project contract line milestones are managed in Project Service Automation, and they are synchronized to Finance as project contract billing rule milestones.</span></span>

## <a name="project-service-automation-to-finance-integration-solution"></a><span data-ttu-id="a304c-150">Soluzione di integrazione di Project Service Automation con Finance</span><span class="sxs-lookup"><span data-stu-id="a304c-150">Project Service Automation to Finance integration solution</span></span>

<span data-ttu-id="a304c-151">Il campo **ID contratto di progetto** è disponibile nella pagina **Contratti di progetto**.</span><span class="sxs-lookup"><span data-stu-id="a304c-151">The **Project contract ID** field is available on the **Project contracts** page.</span></span> <span data-ttu-id="a304c-152">Questo campo è diventato una chiave naturale e univoca per supportare l'integrazione.</span><span class="sxs-lookup"><span data-stu-id="a304c-152">This field has been made a natural and unique key to support the integration.</span></span>

<span data-ttu-id="a304c-153">Quando un nuovo contratto di progetto viene creato, se un valore di **ID contratto di progetto** non è già presente, viene generato automaticamente utilizzando una sequenza numerica.</span><span class="sxs-lookup"><span data-stu-id="a304c-153">When a new project contract is created, if a **Project contract ID** value doesn't already exist, it's automatically generated by using a number sequence.</span></span> <span data-ttu-id="a304c-154">Il valore consiste di **ORD**, seguito da una sequenza numerica crescente, quindi da un suffisso di sei caratteri.</span><span class="sxs-lookup"><span data-stu-id="a304c-154">The value consists of **ORD** followed by an incrementing number sequence and then a suffix of six characters.</span></span> <span data-ttu-id="a304c-155">Ecco un esempio: **ORD-01022-Z4M9Q0**.</span><span class="sxs-lookup"><span data-stu-id="a304c-155">Here is an example: **ORD-01022-Z4M9Q0**.</span></span>

<span data-ttu-id="a304c-156">Il campo **Numero progetto** è disponibile nella pagina **Progetti**.</span><span class="sxs-lookup"><span data-stu-id="a304c-156">The **Project Number** field is available on the **Projects** page.</span></span> <span data-ttu-id="a304c-157">Questo campo è diventato una chiave naturale e univoca per supportare l'integrazione.</span><span class="sxs-lookup"><span data-stu-id="a304c-157">This field has been made a natural and unique key to support the integration.</span></span>

<span data-ttu-id="a304c-158">Quando un nuovo progetto viene creato, se un valore per **Numero progetto** non è già presente, viene generato automaticamente utilizzando una sequenza numerica.</span><span class="sxs-lookup"><span data-stu-id="a304c-158">When a new project is created, if a **Project Number** value doesn't already exist, it's automatically generated by using a number sequence.</span></span> <span data-ttu-id="a304c-159">Il valore consiste di **PRJ**, seguito da una sequenza numerica crescente, quindi da un suffisso di sei caratteri.</span><span class="sxs-lookup"><span data-stu-id="a304c-159">The value consists of **PRJ** followed by an incrementing number sequence and then a suffix of six characters.</span></span> <span data-ttu-id="a304c-160">Ecco un esempio: **PRJ-01049-CCNID0**.</span><span class="sxs-lookup"><span data-stu-id="a304c-160">Here is an example: **PRJ-01049-CCNID0**.</span></span>

<span data-ttu-id="a304c-161">Quando viene applicata la soluzione di integrazione di Project Service Automation con Finance, uno script di aggiornamento imposta il campo **ID contratto di progetto** per i contratti di progetto esistenti e il campo **Numero progetto** per i progetti esistenti in Project Service Automation.</span><span class="sxs-lookup"><span data-stu-id="a304c-161">When the Project Service Automation to Finance integration solution is applied, an upgrade script sets the **Project contract ID** field for existing project contracts and the **Project Number** field for existing projects in Project Service Automation.</span></span>

## <a name="prerequisites-and-mapping-setup"></a><span data-ttu-id="a304c-162">Prerequisiti e impostazione del mapping</span><span class="sxs-lookup"><span data-stu-id="a304c-162">Prerequisites and mapping setup</span></span>

- <span data-ttu-id="a304c-163">Prima di eseguire la sincronizzazione di contratti di progetto e di progetti, è necessario sincronizzare gli account.</span><span class="sxs-lookup"><span data-stu-id="a304c-163">Before synchronization of project contracts and projects can occur, you must synchronize accounts.</span></span>
- <span data-ttu-id="a304c-164">Nel set di connessioni, aggiungere il mapping di un campo chiave di integrazione per **msdyn\_organizationalunits** a **msdyn\_name \[Name\]**.</span><span class="sxs-lookup"><span data-stu-id="a304c-164">In your connection set, add an integration key field mapping for **msdyn\_organizationalunits** to **msdyn\_name \[Name\]**.</span></span> <span data-ttu-id="a304c-165">Potrebbe essere innanzitutto necessario aggiungere un progetto al set di connessioni.</span><span class="sxs-lookup"><span data-stu-id="a304c-165">You might first need to add a project to the connection set.</span></span> <span data-ttu-id="a304c-166">Per ulteriori informazioni, vedere [Integrare i dati in Common Data Service per le app](https://docs.microsoft.com/powerapps/administrator/data-integrator).</span><span class="sxs-lookup"><span data-stu-id="a304c-166">For more information, see [Integrate data into Common Data Service for Apps](https://docs.microsoft.com/powerapps/administrator/data-integrator).</span></span>
- <span data-ttu-id="a304c-167">Nel set di connessioni, aggiungere il mapping di un campo chiave di integrazione per **msdyn\_projects** a **msdynce\_projectnumber \[Project Number\]**.</span><span class="sxs-lookup"><span data-stu-id="a304c-167">In your connection set, add an integration key field mapping for **msdyn\_projects** to **msdynce\_projectnumber \[Project Number\]**.</span></span> <span data-ttu-id="a304c-168">Potrebbe essere innanzitutto necessario aggiungere un progetto al set di connessioni.</span><span class="sxs-lookup"><span data-stu-id="a304c-168">You might first need to add a project to the connection set.</span></span> <span data-ttu-id="a304c-169">Per ulteriori informazioni, vedere [Integrare i dati in Common Data Service per le app](https://docs.microsoft.com/powerapps/administrator/data-integrator).</span><span class="sxs-lookup"><span data-stu-id="a304c-169">For more information, see [Integrate data into Common Data Service for Apps](https://docs.microsoft.com/powerapps/administrator/data-integrator).</span></span>
- <span data-ttu-id="a304c-170">L'elemento **SourceDataID** per i contratti di progetti e i progetti può essere aggiornato su un valore diverso o essere rimosso dal mapping.</span><span class="sxs-lookup"><span data-stu-id="a304c-170">**SourceDataID** for project contracts and projects can be updated to a different value or removed from the mapping.</span></span> <span data-ttu-id="a304c-171">Il valore del modello predefinito è **Project Service Automation**.</span><span class="sxs-lookup"><span data-stu-id="a304c-171">The default template value is **Project Service Automation**.</span></span>
- <span data-ttu-id="a304c-172">Il mapping di **PaymentTerms** deve essere aggiornato in modo che rifletta i termini di pagamento validi in Finance.</span><span class="sxs-lookup"><span data-stu-id="a304c-172">The **PaymentTerms** mapping must be updated so that it reflects valid terms of payment in Finance.</span></span> <span data-ttu-id="a304c-173">È inoltre possibile rimuovere il mapping dall'attività di progetto.</span><span class="sxs-lookup"><span data-stu-id="a304c-173">You can also remove the mapping from the project task.</span></span> <span data-ttu-id="a304c-174">La mappa dei valori predefiniti include i valori predefiniti per i dati dimostrativi.</span><span class="sxs-lookup"><span data-stu-id="a304c-174">The default value map has default values for demo data.</span></span> <span data-ttu-id="a304c-175">Nella seguente tabella sono riportati i valori in Project Service Automation.</span><span class="sxs-lookup"><span data-stu-id="a304c-175">The following table shows the values in Project Service Automation.</span></span>

    | <span data-ttu-id="a304c-176">Valore</span><span class="sxs-lookup"><span data-stu-id="a304c-176">Value</span></span> | <span data-ttu-id="a304c-177">descrizione</span><span class="sxs-lookup"><span data-stu-id="a304c-177">Description</span></span>   |
    |-------|---------------|
    | <span data-ttu-id="a304c-178">1</span><span class="sxs-lookup"><span data-stu-id="a304c-178">1</span></span>     | <span data-ttu-id="a304c-179">Net 30</span><span class="sxs-lookup"><span data-stu-id="a304c-179">Net 30</span></span>        |
    | <span data-ttu-id="a304c-180">2</span><span class="sxs-lookup"><span data-stu-id="a304c-180">2</span></span>     | <span data-ttu-id="a304c-181">2% 10, Net 30</span><span class="sxs-lookup"><span data-stu-id="a304c-181">2% 10, Net 30</span></span> |
    | <span data-ttu-id="a304c-182">3</span><span class="sxs-lookup"><span data-stu-id="a304c-182">3</span></span>     | <span data-ttu-id="a304c-183">Net 45</span><span class="sxs-lookup"><span data-stu-id="a304c-183">Net 45</span></span>        |
    | <span data-ttu-id="a304c-184">4</span><span class="sxs-lookup"><span data-stu-id="a304c-184">4</span></span>     | <span data-ttu-id="a304c-185">Net 60</span><span class="sxs-lookup"><span data-stu-id="a304c-185">Net 60</span></span>        |

## <a name="power-query"></a><span data-ttu-id="a304c-186">Power Query</span><span class="sxs-lookup"><span data-stu-id="a304c-186">Power Query</span></span>

<span data-ttu-id="a304c-187">È necessario utilizzare Microsoft Power Query per Excel per filtrare i dati se si verificano le condizioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="a304c-187">You must use Microsoft Power Query for Excel to filter data if the following conditions are met:</span></span>

- <span data-ttu-id="a304c-188">Si dispone di ordini cliente in Dynamics 365 Sales.</span><span class="sxs-lookup"><span data-stu-id="a304c-188">You have sales orders in Dynamics 365 Sales.</span></span>
- <span data-ttu-id="a304c-189">Si dispone di più unità organizzative in Project Service Automation e queste unità verranno mappate a più persone giuridiche in Finance.</span><span class="sxs-lookup"><span data-stu-id="a304c-189">You have multiple organizational units in Project Service Automation, and these organizational units will be mapped to multiple legal entities in Finance.</span></span>

<span data-ttu-id="a304c-190">Se è necessario utilizzare Power Query, seguire queste indicazioni:</span><span class="sxs-lookup"><span data-stu-id="a304c-190">If you must use Power Query, follow these guidelines:</span></span>

- <span data-ttu-id="a304c-191">Il modello di progetti e contratti (da PSA a Fin and Ops) presenta un filtro predefinito che include solo ordini cliente del tipo **Elemento di lavoro (msdyn\_ordertype = 192350001)**.</span><span class="sxs-lookup"><span data-stu-id="a304c-191">The Projects and contracts (PSA to Fin and Ops) template has a default filter that includes only sales orders of the **Work item (msdyn\_ordertype = 192350001)** type.</span></span> <span data-ttu-id="a304c-192">Questo filtro assicura che non vengano creati contratti di progetto per gli ordini cliente in Finance.</span><span class="sxs-lookup"><span data-stu-id="a304c-192">This filter helps guarantee that project contracts aren't created for sales orders in Finance.</span></span> <span data-ttu-id="a304c-193">Se si crea un modello personale, è necessario aggiungere questo filtro.</span><span class="sxs-lookup"><span data-stu-id="a304c-193">If you create your own template, you must add this filter.</span></span>
- <span data-ttu-id="a304c-194">È necessario creare un filtro di Power Query che includa solo le organizzazioni del contratto che devono essere sincronizzate con la persona giuridica del set di connessioni di integrazione.</span><span class="sxs-lookup"><span data-stu-id="a304c-194">You must create a Power Query filter that includes only the contract organizations that should be synchronized to the legal entity of the integration connection set.</span></span> <span data-ttu-id="a304c-195">Ad esempio, i contratti di progetto di cui si dispone con l'unità organizzativa del contratto di Contoso US devono essere sincronizzati con la persona giuridica USSI, ma i contratti di progetto di cui si dispone con l'unità organizzativa di contratto di Contoso Global devono essere sincronizzati con la persona giuridica USMF.</span><span class="sxs-lookup"><span data-stu-id="a304c-195">For example, project contracts that you have with the contract organizational unit of Contoso US should be synchronized to the USSI legal entity, but project contracts that you have with the contract organizational unit of Contoso Global should be synchronized to the USMF legal entity.</span></span> <span data-ttu-id="a304c-196">Se non si aggiunge questo filtro al mapping delle attività, tutti i contratti di progetto verranno sincronizzati con la persona giuridica che è definita per il set di connessioni, indipendentemente dall'unità organizzativa del contratto.</span><span class="sxs-lookup"><span data-stu-id="a304c-196">If you don't add this filter to your task mapping, all project contracts will be synchronized to the legal entity that is defined for the connection set, regardless of the contract organizational unit.</span></span>

## <a name="template-mapping-in-data-integration"></a><span data-ttu-id="a304c-197">Mapping dei modelli in Integrazione dati</span><span class="sxs-lookup"><span data-stu-id="a304c-197">Template mapping in Data integration</span></span>

> [!NOTE] 
> <span data-ttu-id="a304c-198">I campi **CustomerReference**, **AddressCity**, **AddressCountryRegionID**, **AddressDescription**, **AddressLine1**, **AddressLine2**, **AddressState** e **AddressZipCode** non vengono inclusi nel mapping predefinito per i contratti di progetto.</span><span class="sxs-lookup"><span data-stu-id="a304c-198">The **CustomerReference**, **AddressCity**, **AddressCountryRegionID**, **AddressDescription**, **AddressLine1**, **AddressLine2**, **AddressState**, and **AddressZipCode** fields aren't included in the default mapping for project contracts.</span></span> <span data-ttu-id="a304c-199">È possibile aggiungere i mapping se è necessario che questi dati siano sincronizzati per i contratti di progetto.</span><span class="sxs-lookup"><span data-stu-id="a304c-199">You can add the mappings if you require that this data be synchronized for project contracts.</span></span>
>
> <span data-ttu-id="a304c-200">I campi **Description**, **ParentID**, **ProjectGroup**, **ProjectManagerPersonnelNumber** e **ProjectType** non vengono inclusi nel mapping predefinito per i progetti.</span><span class="sxs-lookup"><span data-stu-id="a304c-200">The **Description**, **ParentID**, **ProjectGroup**, **ProjectManagerPersonnelNumber**, and **ProjectType** fields aren't included in the default mapping for projects.</span></span> <span data-ttu-id="a304c-201">È possibile aggiungere i mapping se è necessario che questi dati siano sincronizzati per i progetti.</span><span class="sxs-lookup"><span data-stu-id="a304c-201">You can add the mappings if you require that this data be synchronized for projects.</span></span>

<span data-ttu-id="a304c-202">Nelle figure seguenti vengono mostrati esempi dei mapping delle attività di modello in Integrazione dati.</span><span class="sxs-lookup"><span data-stu-id="a304c-202">The following illustrations show examples of the template task mappings in Data integration.</span></span> <span data-ttu-id="a304c-203">Il mapping mostra le informazioni di campo che verranno sincronizzate da Project Service Automation a Finance.</span><span class="sxs-lookup"><span data-stu-id="a304c-203">The mapping shows the field information that will be synchronized from Project Service Automation to Finance.</span></span>

<span data-ttu-id="a304c-204">[![Mapping del modello](./media/ProjectContractTemplateMapping.JPG)](./media/ProjectContractTemplateMapping.JPG)</span><span class="sxs-lookup"><span data-stu-id="a304c-204">[![Template mapping](./media/ProjectContractTemplateMapping.JPG)](./media/ProjectContractTemplateMapping.JPG)</span></span>

<span data-ttu-id="a304c-205">[![Mapping del modello](./media/ProjectTemplateMapping.JPG)](./media/ProjectTemplateMapping.JPG)</span><span class="sxs-lookup"><span data-stu-id="a304c-205">[![Template mapping](./media/ProjectTemplateMapping.JPG)](./media/ProjectTemplateMapping.JPG)</span></span>

<span data-ttu-id="a304c-206">[![Mapping del modello](./media/ProjectContractLinesMapping.JPG)](./media/ProjectContractLinesMapping.JPG)</span><span class="sxs-lookup"><span data-stu-id="a304c-206">[![Template mapping](./media/ProjectContractLinesMapping.JPG)](./media/ProjectContractLinesMapping.JPG)</span></span>

<span data-ttu-id="a304c-207">[![Mapping del modello](./media/ProjectContractLineMilestonesMapping.JPG)](./media/ProjectContractLineMilestonesMapping.JPG)</span><span class="sxs-lookup"><span data-stu-id="a304c-207">[![Template mapping](./media/ProjectContractLineMilestonesMapping.JPG)](./media/ProjectContractLineMilestonesMapping.JPG)</span></span>

#### <a name="project-contract-line-milestone-mapping-in-the-projects-and-contracts-psa-3x-to-dynamics---v2-template"></a><span data-ttu-id="a304c-208">Mapping cardine della riga di contratto del progetto nel modello Progetti e contratti (da PSA 3.x a Dynamics) - v2:</span><span class="sxs-lookup"><span data-stu-id="a304c-208">Project contract line milestone mapping in the Projects and Contracts (PSA 3.x to Dynamics) - v2 template:</span></span>

<span data-ttu-id="a304c-209">[![Mapping del modello](./media/ProjectContractLineMilestoneMapping_v2.jpg)](./media/ProjectContractLineMilestoneMapping_v2.jpg)</span><span class="sxs-lookup"><span data-stu-id="a304c-209">[![Template mapping](./media/ProjectContractLineMilestoneMapping_v2.jpg)](./media/ProjectContractLineMilestoneMapping_v2.jpg)</span></span>
