---
title: Impostare il processo di importazione di riconciliazione bancaria avanzata
description: La funzionalità di riconciliazione bancaria avanzata consente di importare rendiconti bancari elettronici e riconciliarli automaticamente con le transazioni bancarie in Microsoft Dynamics 365 Finance. In questo articolo viene spiegato come impostare le funzionalità di importazione dei rendiconti bancari.
author: ShylaThompson
manager: AnnBe
ms.date: 06/20/2017
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: BankStatementFormat
audience: Application User
ms.reviewer: roschlom
ms.search.scope: Core, Operations
ms.custom: 106853
ms.assetid: 45dae275-ea45-4c7e-b38f-89297c7b5352
ms.search.region: Global
ms.author: saraschi
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: aba85b63abc11c9f32023e8499a02728dfc86bd1
ms.sourcegitcommit: 3ba95d50b8262fa0f43d4faad76adac4d05eb3ea
ms.translationtype: HT
ms.contentlocale: it-IT
ms.lasthandoff: 09/27/2019
ms.locfileid: "2188259"
---
# <a name="set-up-the-advanced-bank-reconciliation-import-process"></a><span data-ttu-id="252c8-104">Impostare il processo di importazione di riconciliazione bancaria avanzata</span><span class="sxs-lookup"><span data-stu-id="252c8-104">Set up the advanced bank reconciliation import process</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="252c8-105">La funzionalità di riconciliazione bancaria avanzata consente di importare rendiconti bancari elettronici e riconciliarli automaticamente con le transazioni bancarie in Dynamics 365 Finance.</span><span class="sxs-lookup"><span data-stu-id="252c8-105">The Advanced bank reconciliation feature lets you import electronic bank statements and automatically reconcile them with bank transactions in Dynamics 365 Finance.</span></span> <span data-ttu-id="252c8-106">In questo articolo viene spiegato come impostare le funzionalità di importazione dei rendiconti bancari.</span><span class="sxs-lookup"><span data-stu-id="252c8-106">This article explains how to set up the import functionality for your bank statements.</span></span> 

<span data-ttu-id="252c8-107">L'impostazione dell'importazione dei rendiconti bancari varia a seconda del formato del rendiconto bancario elettronico.</span><span class="sxs-lookup"><span data-stu-id="252c8-107">The setup for bank statement import varies, depending on the format of your electronic bank statement.</span></span> <span data-ttu-id="252c8-108">Finance supporta tre formati di rendiconto bancario predefiniti: ISO20022, MT940 e BAI2.</span><span class="sxs-lookup"><span data-stu-id="252c8-108">Finance supports three bank statement formats out of the box: ISO20022, MT940, and BAI2.</span></span>

## <a name="set-time-zone-preference"></a><span data-ttu-id="252c8-109">Impostare la preferenza fuso orario</span><span class="sxs-lookup"><span data-stu-id="252c8-109">Set time zone preference</span></span>
<span data-ttu-id="252c8-110">Quando si configurano le impostazioni di importazione del rendiconto bancario, può essere importante considerare il fuso orario dei dati data-ora all'interno dei file del rendiconto bancario che verranno importati.</span><span class="sxs-lookup"><span data-stu-id="252c8-110">When you configure the bank statement import settings, it can be important to consider the time zone of the date-time data within the bank statement files that will be imported.</span></span> <span data-ttu-id="252c8-111">L'impostazione predefinita è assumere che i valori di data e ora siano già in Coordinated Universal Time (UTC) e quindi non verrà applicata alcuna conversione di fuso orario quando si importano i dati.</span><span class="sxs-lookup"><span data-stu-id="252c8-111">The default is to assume any date and time values are already in Coordinated Universal Time (UTC) and so no time zone conversion will be applied when you import the data.</span></span> 

<span data-ttu-id="252c8-112">È disponibile un'opzione per specificare un fuso orario da utilizzare per l'importazione dei dati.</span><span class="sxs-lookup"><span data-stu-id="252c8-112">There is an option available to specify a time zone to use for importing data.</span></span> <span data-ttu-id="252c8-113">Questa opzione è disponibile nel campo **Preferenza fuso orario** in ogni pagina **Dettagli formato dati di origine** (Scheda dettaglio **Area di lavoro gestione dati > Configura origine dati > Seleziona formato dati > Impostazioni internazionali** ).</span><span class="sxs-lookup"><span data-stu-id="252c8-113">This option is availble in the **Time zone preference** field on each **Source data format details** page (**Data management workspace > Configure data sources > Select a data format > Regional settings** FastTab).</span></span> <span data-ttu-id="252c8-114">Questa preferenza di fuso orario inserita verrà applicata a tutte le importazioni che utilizzano quel formato di dati di origine.</span><span class="sxs-lookup"><span data-stu-id="252c8-114">This time zone preference you enter will apply to all the imports that use that source data format.</span></span> <span data-ttu-id="252c8-115">È possibile creare tutti i formati di origine dati necessari per importare dati da più fusi orari.</span><span class="sxs-lookup"><span data-stu-id="252c8-115">You can create as many data source formats as needed for importing data from multiple time zones.</span></span> <span data-ttu-id="252c8-116">La preferenza del fuso orario deve essere il fuso orario locale dei dati di data e ora nel file di importazione.</span><span class="sxs-lookup"><span data-stu-id="252c8-116">The time zone preference should be the local time zone of the date and time data in the import file.</span></span> <span data-ttu-id="252c8-117">La preferenza del fuso orario deve essere il fuso orario locale dei dati di data e ora nel file di importazione.</span><span class="sxs-lookup"><span data-stu-id="252c8-117">The time zone preference should be the local time zone of the date-time data in the import file.</span></span> 

<span data-ttu-id="252c8-118">Questo fuso orario può non essere uguale al fuso orario di un utente o di un'azienda, quindi assicurarsi di chiarire quale fuso orario stanno utilizzando i dati di data e ora.</span><span class="sxs-lookup"><span data-stu-id="252c8-118">This time zone might not be the same as a user’s or company’s time zone, so be sure to clarify what time zone the date and time data is using.</span></span> <span data-ttu-id="252c8-119">Si consiglia di considerare i seguenti punti quando si imposta una preferenza di fuso orario.</span><span class="sxs-lookup"><span data-stu-id="252c8-119">We recommend that you consider the following points when setting a time zone preference.</span></span> 

 - <span data-ttu-id="252c8-120">La preferenza del fuso orario si applica a tutte le importazioni che utilizzano quel formato di dati di origine.</span><span class="sxs-lookup"><span data-stu-id="252c8-120">The time zone preference will apply to all imports using that source data format.</span></span> <span data-ttu-id="252c8-121">È possibile creare tutti i formati di origine dati necessari per gestire l'importazione dei dati da più fusi orari.</span><span class="sxs-lookup"><span data-stu-id="252c8-121">You can create as many data source formats as needed to handle importing data from multiple time zones.</span></span> 
 
 - <span data-ttu-id="252c8-122">La preferenza del fuso orario deve essere il fuso orario locale dei dati di data e ora nel file di importazione.</span><span class="sxs-lookup"><span data-stu-id="252c8-122">The time zone preference should be the local time zone of the date and time data in the import file.</span></span> 
 
 - <span data-ttu-id="252c8-123">Il fuso orario dei dati di data e ora può non coincidere con il fuso orario di un utente o di un'azienda.</span><span class="sxs-lookup"><span data-stu-id="252c8-123">The time zone of the date and time data might not be the same as a user’s or company’s time zone.</span></span>
 
 - <span data-ttu-id="252c8-124">Gli utenti possono modificare il fuso orario nelle **Opzioni utente**.</span><span class="sxs-lookup"><span data-stu-id="252c8-124">Users can adjust their own time zone using their **User options**.</span></span>

<span data-ttu-id="252c8-125">Tenere presente che le seguenti azioni possono aiutare a minimizzare potenziali conflitti di data e ora quando si importano rendiconti bancari.</span><span class="sxs-lookup"><span data-stu-id="252c8-125">Note that the following actions can help minimize potential date and time conflicts when you import bank statements.</span></span> 

 - <span data-ttu-id="252c8-126">Evitare di modificare le preferenze del fuso orario per tutti i conti bancari che hanno già importato rendiconti bancari.</span><span class="sxs-lookup"><span data-stu-id="252c8-126">Avoid changing the time zone preferences for any bank accounts that have already had statements imported.</span></span> <span data-ttu-id="252c8-127">La modifica della preferenza del fuso orario potrebbe influire sull'ordinamento di nuovi rendiconti rispetto ai rendiconti esistenti a causa della rettifica del fuso orario.</span><span class="sxs-lookup"><span data-stu-id="252c8-127">Changing the time zone preference could impact the ordering of new statements relative to existing statements due to the time zone adjustment.</span></span> 
 
 - <span data-ttu-id="252c8-128">Esaminare tutte le importazioni che utilizzano il formato dell'origine dati selezionato.</span><span class="sxs-lookup"><span data-stu-id="252c8-128">Review all the imports that use the selected data source format.</span></span> <span data-ttu-id="252c8-129">La preferenza di fuso orario specificata per il formato si applica a tutti i progetti di importazione che utilizzano quel formato.</span><span class="sxs-lookup"><span data-stu-id="252c8-129">The time zone preference specified for the format will apply to all the import projects that use that format.</span></span> <span data-ttu-id="252c8-130">Verificare che la preferenza di fuso orario sia appropriata per tutti i progetti di importazione che utilizzano quel formato.</span><span class="sxs-lookup"><span data-stu-id="252c8-130">Verify that the time zone preference is appropriate for all the import projects that use that format.</span></span>

## <a name="sample-files"></a><span data-ttu-id="252c8-131">File di esempio</span><span class="sxs-lookup"><span data-stu-id="252c8-131">Sample files</span></span>
<span data-ttu-id="252c8-132">Per tutti e tre i formati, è necessario disporre di file che convertono il rendiconto bancario elettronico dal formato originale in un formato che è possibile utilizzare in Finance.</span><span class="sxs-lookup"><span data-stu-id="252c8-132">For all three formats, you must have files that translate the electronic bank statement from the original format to a format that Finance can use.</span></span> <span data-ttu-id="252c8-133">È possibile trovare i file di risorse necessari nel nodo **Risorse** in Application Explorer in Microsoft Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="252c8-133">You can find the required resource files under the **Resources** node in Application Explorer in Microsoft Visual Studio.</span></span> <span data-ttu-id="252c8-134">Dopo avere individuato i file, copiarli in un'unica posizione nota in modo che sia possibile caricarli più facilmente durante il processo di impostazione.</span><span class="sxs-lookup"><span data-stu-id="252c8-134">After you find the files, copy them to a single known location, so that you can more easily upload them during the setup process.</span></span>

| <span data-ttu-id="252c8-135">Nome risorsa</span><span class="sxs-lookup"><span data-stu-id="252c8-135">Resource name</span></span>                                           | <span data-ttu-id="252c8-136">Nome file</span><span class="sxs-lookup"><span data-stu-id="252c8-136">File name</span></span>                            |
|---------------------------------------------------------|--------------------------------------|
| <span data-ttu-id="252c8-137">BankStmtImport\_BAI2CSV\_to\_BAI2XML\_xslt</span><span class="sxs-lookup"><span data-stu-id="252c8-137">BankStmtImport\_BAI2CSV\_to\_BAI2XML\_xslt</span></span>              | <span data-ttu-id="252c8-138">BAI2CSV-to-BAI2XML.xslt</span><span class="sxs-lookup"><span data-stu-id="252c8-138">BAI2CSV-to-BAI2XML.xslt</span></span>              |
| <span data-ttu-id="252c8-139">BankStmtImport\_BAI2XML\_to\_Reconciliation\_xslt</span><span class="sxs-lookup"><span data-stu-id="252c8-139">BankStmtImport\_BAI2XML\_to\_Reconciliation\_xslt</span></span>       | <span data-ttu-id="252c8-140">BAI2XML-to-Reconciliation.xslt</span><span class="sxs-lookup"><span data-stu-id="252c8-140">BAI2XML-to-Reconciliation.xslt</span></span>       |
| <span data-ttu-id="252c8-141">BankStmtImport\_BankReconciliation\_to\_Composite\_xslt</span><span class="sxs-lookup"><span data-stu-id="252c8-141">BankStmtImport\_BankReconciliation\_to\_Composite\_xslt</span></span> | <span data-ttu-id="252c8-142">BankReconciliation-to-Composite.xslt</span><span class="sxs-lookup"><span data-stu-id="252c8-142">BankReconciliation-to-Composite.xslt</span></span> |
| <span data-ttu-id="252c8-143">BankStmtImport\_ISO20022XML\_to\_Reconciliation\_xslt</span><span class="sxs-lookup"><span data-stu-id="252c8-143">BankStmtImport\_ISO20022XML\_to\_Reconciliation\_xslt</span></span>   | <span data-ttu-id="252c8-144">ISO20022XML-to-Reconciliation.xslt</span><span class="sxs-lookup"><span data-stu-id="252c8-144">ISO20022XML-to-Reconciliation.xslt</span></span>   |
| <span data-ttu-id="252c8-145">BankStmtImport\_MT940TXT\_to\_MT940XML\_xslt</span><span class="sxs-lookup"><span data-stu-id="252c8-145">BankStmtImport\_MT940TXT\_to\_MT940XML\_xslt</span></span>            | <span data-ttu-id="252c8-146">MT940TXT-to-MT940XML.xslt</span><span class="sxs-lookup"><span data-stu-id="252c8-146">MT940TXT-to-MT940XML.xslt</span></span>            |
| <span data-ttu-id="252c8-147">BankStmtImport\_MT940XML\_to\_Reconciliation\_xslt</span><span class="sxs-lookup"><span data-stu-id="252c8-147">BankStmtImport\_MT940XML\_to\_Reconciliation\_xslt</span></span>      | <span data-ttu-id="252c8-148">MT940XML-to-Reconciliation.xslt</span><span class="sxs-lookup"><span data-stu-id="252c8-148">MT940XML-to-Reconciliation.xslt</span></span>      |
| <span data-ttu-id="252c8-149">BankStmtImport\_SampleBankCompositeEntity\_xml</span><span class="sxs-lookup"><span data-stu-id="252c8-149">BankStmtImport\_SampleBankCompositeEntity\_xml</span></span>          | <span data-ttu-id="252c8-150">SampleBankCompositeEntity.xml</span><span class="sxs-lookup"><span data-stu-id="252c8-150">SampleBankCompositeEntity.xml</span></span>        |

## <a name="examples-of-bank-statement-formats-and-technical-layouts"></a><span data-ttu-id="252c8-151">Esempi di formati di rendiconto bancario e di layout tecnici</span><span class="sxs-lookup"><span data-stu-id="252c8-151">Examples of bank statement formats and technical layouts</span></span>
<span data-ttu-id="252c8-152">Di seguito sono inclusi esempi di definizioni avanzate di layout tecnici dei file di importazione di riconciliazione bancaria e tre file di esempio di rendiconto bancario: https://mbs.microsoft.com/customersource/northamerica/AX/learning/documentation/how-to-articles/exofbankstfotechlayouts</span><span class="sxs-lookup"><span data-stu-id="252c8-152">Below are examples of the advanced bank reconciliation import file technical layout definitions and three related bank statement example files: https://mbs.microsoft.com/customersource/northamerica/AX/learning/documentation/how-to-articles/exofbankstfotechlayouts</span></span>  

| <span data-ttu-id="252c8-153">Definizione di layout tecnico</span><span class="sxs-lookup"><span data-stu-id="252c8-153">Technical layout definition</span></span>                             | <span data-ttu-id="252c8-154">File di esempio di rendiconto bancario</span><span class="sxs-lookup"><span data-stu-id="252c8-154">Bank statement example file</span></span>          |
|---------------------------------------------------------|--------------------------------------|
| <span data-ttu-id="252c8-155">DynamicsAXMT940Layout</span><span class="sxs-lookup"><span data-stu-id="252c8-155">DynamicsAXMT940Layout</span></span>                                   | <span data-ttu-id="252c8-156">MT940StatementExample</span><span class="sxs-lookup"><span data-stu-id="252c8-156">MT940StatementExample</span></span>                |
| <span data-ttu-id="252c8-157">DynamicsAXISO20022Layout</span><span class="sxs-lookup"><span data-stu-id="252c8-157">DynamicsAXISO20022Layout</span></span>                                | <span data-ttu-id="252c8-158">ISO20022StatementExample</span><span class="sxs-lookup"><span data-stu-id="252c8-158">ISO20022StatementExample</span></span>             |
| <span data-ttu-id="252c8-159">DynamicsAXBAI2Layout</span><span class="sxs-lookup"><span data-stu-id="252c8-159">DynamicsAXBAI2Layout</span></span>                                    | <span data-ttu-id="252c8-160">BAI2StatementExample</span><span class="sxs-lookup"><span data-stu-id="252c8-160">BAI2StatementExample</span></span>                 |



## <a name="set-up-the-import-of-iso20022-bank-statements"></a><span data-ttu-id="252c8-161">Impostare l'importazione di rendiconti bancari ISO20022</span><span class="sxs-lookup"><span data-stu-id="252c8-161">Set up the import of ISO20022 bank statements</span></span>
<span data-ttu-id="252c8-162">Innanzitutto, è necessario definire il gruppo di elaborazione formati rendiconti bancari per i rendiconti bancari ISO20022 utilizzando il framework di entità di dati.</span><span class="sxs-lookup"><span data-stu-id="252c8-162">First, you must define the bank statement format processing group for ISO20022 bank statements by using the data entity framework.</span></span>

1.  <span data-ttu-id="252c8-163">Passare a **Aree di lavoro** &gt; **Gestione dati**.</span><span class="sxs-lookup"><span data-stu-id="252c8-163">Go to **Workspaces** &gt; **Data management**.</span></span>
2.  <span data-ttu-id="252c8-164">Fare clic su **Importa**.</span><span class="sxs-lookup"><span data-stu-id="252c8-164">Click **Import**.</span></span>
3.  <span data-ttu-id="252c8-165">Immettere un nome per il formato, ad esempio **ISO20022**.</span><span class="sxs-lookup"><span data-stu-id="252c8-165">Enter a name for the format, such as **ISO20022**.</span></span>
4.  <span data-ttu-id="252c8-166">Impostare il campo **Formato dati di origine** su **XML-Element**.</span><span class="sxs-lookup"><span data-stu-id="252c8-166">Set the **Source data format** field to **XML-Element**.</span></span>
5.  <span data-ttu-id="252c8-167">Impostare il campo **Nome entità** su **Rendiconti bancari**.</span><span class="sxs-lookup"><span data-stu-id="252c8-167">Set the **Entity name** field to **Bank statements**.</span></span>
6.  <span data-ttu-id="252c8-168">Per caricare i file di importazione, fare clic su **Carica** e quindi individuare per selezionare il file **SampleBankCompositeEntity.xml** salvato in precedenza.</span><span class="sxs-lookup"><span data-stu-id="252c8-168">To upload the import files, click **Upload**, and then browse to select the **SampleBankCompositeEntity.xml** file that you saved earlier.</span></span>
7.  <span data-ttu-id="252c8-169">Dopo avere caricato l'entità Rendiconti bancari e il mapping è stato completato, scegliere l'azione **Visualizza mapping** per l'entità.</span><span class="sxs-lookup"><span data-stu-id="252c8-169">After the Bank statements entity is uploaded and the mapping is completed, click the **View map** action for the entity.</span></span>
8.  <span data-ttu-id="252c8-170">L'entità Rendiconti bancari è un'entità composita costituita da quattro entità separate.</span><span class="sxs-lookup"><span data-stu-id="252c8-170">The Bank statements entity is a composite entity that consists of four separate entities.</span></span> <span data-ttu-id="252c8-171">Nell'elenco, selezionare **BankStatementDocumentEntity**, quindi scegliere l'azione **Visualizza mapping**.</span><span class="sxs-lookup"><span data-stu-id="252c8-171">In the list, select **BankStatementDocumentEntity**, and then click the **View map** action.</span></span>
9.  <span data-ttu-id="252c8-172">Nella scheda **Trasformazioni** , fare clic su **Nuovo**.</span><span class="sxs-lookup"><span data-stu-id="252c8-172">On the **Transformations** tab, click **New**.</span></span>
10. <span data-ttu-id="252c8-173">Per il numero di sequenza 1, fare clic su **Carica file** e selezionare il file **ISO20022XML-to-Reconciliation.xslt** salvato in precedenza.</span><span class="sxs-lookup"><span data-stu-id="252c8-173">For sequence number 1, click **Upload file**, and select the **ISO20022XML-to-Reconciliation.xslt** file that you saved earlier.</span></span> <span data-ttu-id="252c8-174">**Nota:** I file di trasformazione vengono generati per il formato standard.</span><span class="sxs-lookup"><span data-stu-id="252c8-174">**Note:** Transformation files are built for the standard format.</span></span> <span data-ttu-id="252c8-175">Poiché le banche spesso divergono da questo formato, potrebbe essere necessario aggiornare il file di trasformazione per eseguire il mapping allo specifico formato del rendiconto bancario.</span><span class="sxs-lookup"><span data-stu-id="252c8-175">Because banks often diverge from this format, you may have to update the transformation file to map to your bank statement format.</span></span> <!-- For details about the expected format for ISO20022, see [Dynamics AX ISO20022 Layout](./media/dynamicsaxiso20022layout1.xlsx).-->
11. <span data-ttu-id="252c8-176">Fare clic su **Nuovo**.</span><span class="sxs-lookup"><span data-stu-id="252c8-176">Click **New**.</span></span>
12. <span data-ttu-id="252c8-177">Per il numero di sequenza 2, fare clic su **Carica file** e selezionare il file **BankReconciliation-to-Composite.xslt** salvato in precedenza.</span><span class="sxs-lookup"><span data-stu-id="252c8-177">For sequence number 2, click **Upload file**, and select the **BankReconciliation-to-Composite.xslt** file that you saved earlier.</span></span>
13. <span data-ttu-id="252c8-178">Fare clic su **Applica trasformazioni**.</span><span class="sxs-lookup"><span data-stu-id="252c8-178">Click **Apply transforms**.</span></span>

<span data-ttu-id="252c8-179">Dopo aver impostato il gruppo di elaborazione formati, il passaggio successivo consiste nel definire le regole di formato rendiconti bancari relative ai rendiconti bancari ISO20022.</span><span class="sxs-lookup"><span data-stu-id="252c8-179">After the format processing group is set up, the next step is to define the bank statement format rules for ISO20022 bank statements.</span></span>

1.  <span data-ttu-id="252c8-180">Andare a **Gestione cassa e banche** &gt; **Impostazioni** &gt; **Impostazione riconciliazione bancaria avanzata** &gt; **Formato rendiconto bancario**.</span><span class="sxs-lookup"><span data-stu-id="252c8-180">Go to **Cash and bank management** &gt; **Setup** &gt; **Advanced bank reconciliation setup** &gt; **Bank statement format**.</span></span>
2.  <span data-ttu-id="252c8-181">Fare clic su **Nuovo**.</span><span class="sxs-lookup"><span data-stu-id="252c8-181">Click **New**.</span></span>
3.  <span data-ttu-id="252c8-182">Specificare un formato di rendiconto, ad esempio **ISO20022**.</span><span class="sxs-lookup"><span data-stu-id="252c8-182">Specify a statement format, such as **ISO20022**.</span></span>
4.  <span data-ttu-id="252c8-183">Immettere un nome per il formato.</span><span class="sxs-lookup"><span data-stu-id="252c8-183">Enter a name for the format.</span></span>
5.  <span data-ttu-id="252c8-184">Impostare il campo **Gruppo di elaborazione** sul gruppo definito in precedenza, ad esempio **ISO20022**.</span><span class="sxs-lookup"><span data-stu-id="252c8-184">Set the **Processing group** field to the group that you defined earlier, such as **ISO20022**.</span></span>
6.  <span data-ttu-id="252c8-185">Selezionare la casella di controllo **File XML**.</span><span class="sxs-lookup"><span data-stu-id="252c8-185">Select the **XML file** check box.</span></span>

<span data-ttu-id="252c8-186">L'ultimo passaggio consiste nell'attivare la riconciliazione bancaria avanzata e impostare il formato di rendiconto sul conto bancario.</span><span class="sxs-lookup"><span data-stu-id="252c8-186">The last step is to enable Advanced bank reconciliation and set the statement format on the bank account.</span></span>

1.  <span data-ttu-id="252c8-187">Andare a **Gestione cassa e banche** &gt; **Conti bancari**.</span><span class="sxs-lookup"><span data-stu-id="252c8-187">Go to **Cash and bank management** &gt; **Bank accounts**.</span></span>
2.  <span data-ttu-id="252c8-188">Selezionare il conto bancario e aprirlo per visualizzare i dettagli.</span><span class="sxs-lookup"><span data-stu-id="252c8-188">Select the bank account, and open it to view the details.</span></span>
3.  <span data-ttu-id="252c8-189">Nella scheda **Riconciliazione**, impostare l'opzione **Riconciliazione bancaria avanzata** su **Sì**.</span><span class="sxs-lookup"><span data-stu-id="252c8-189">On the **Reconciliation** tab, set the **Advanced bank reconciliation** option to **Yes**.</span></span>
4.  <span data-ttu-id="252c8-190">Impostare il campo **Formato rendiconto** sul formato creato in precedenza, ad esempio **ISO20022**.</span><span class="sxs-lookup"><span data-stu-id="252c8-190">Set the **Statement format** field to the format that you created earlier, such as **ISO20022**.</span></span>

## <a name="set-up-the-import-of-mt940-bank-statements"></a><span data-ttu-id="252c8-191">Impostare l'importazione di rendiconti bancari MT940</span><span class="sxs-lookup"><span data-stu-id="252c8-191">Set up the import of MT940 bank statements</span></span>
<span data-ttu-id="252c8-192">Innanzitutto, è necessario definire il gruppo di elaborazione formati rendiconti bancari per i rendiconti bancari MT940 utilizzando il framework di entità di dati.</span><span class="sxs-lookup"><span data-stu-id="252c8-192">First, you must define the bank statement format processing group for MT940 bank statements by using the data entity framework.</span></span>

1.  <span data-ttu-id="252c8-193">Passare a **Aree di lavoro** &gt; **Gestione dati**.</span><span class="sxs-lookup"><span data-stu-id="252c8-193">Go to **Workspaces** &gt; **Data management**.</span></span>
2.  <span data-ttu-id="252c8-194">Fare clic su **Importa**.</span><span class="sxs-lookup"><span data-stu-id="252c8-194">Click **Import**.</span></span>
3.  <span data-ttu-id="252c8-195">Immettere un nome per il formato, ad esempio **MT940**.</span><span class="sxs-lookup"><span data-stu-id="252c8-195">Enter a name for the format, such as **MT940**.</span></span>
4.  <span data-ttu-id="252c8-196">Impostare il campo **Formato dati di origine** su **XML-Element**.</span><span class="sxs-lookup"><span data-stu-id="252c8-196">Set the **Source data format** field to **XML-Element**.</span></span>
5.  <span data-ttu-id="252c8-197">Impostare il campo **Nome entità** su **Rendiconti bancari**.</span><span class="sxs-lookup"><span data-stu-id="252c8-197">Set the **Entity name** field to **Bank statements**.</span></span>
6.  <span data-ttu-id="252c8-198">Per caricare i file di importazione, fare clic su **Carica** e quindi individuare per selezionare il file **SampleBankCompositeEntity.xml** salvato in precedenza.</span><span class="sxs-lookup"><span data-stu-id="252c8-198">To upload import files, click **Upload**, and then browse to select the **SampleBankCompositeEntity.xml** file that you saved earlier.</span></span>
7.  <span data-ttu-id="252c8-199">Dopo avere caricato l'entità Rendiconti bancari e il mapping è stato completato, scegliere l'azione **Visualizza mapping** per l'entità.</span><span class="sxs-lookup"><span data-stu-id="252c8-199">After the Bank statements entity is uploaded and the mapping is completed, click the **View map** action for the entity.</span></span>
8.  <span data-ttu-id="252c8-200">L'entità Rendiconti bancari è un'entità composita costituita da quattro entità separate.</span><span class="sxs-lookup"><span data-stu-id="252c8-200">The Bank statements entity is a composite entity that consists of four separate entities.</span></span> <span data-ttu-id="252c8-201">Nell'elenco, selezionare **BankStatementDocumentEntity**, quindi scegliere l'azione **Visualizza mapping**.</span><span class="sxs-lookup"><span data-stu-id="252c8-201">In the list, select **BankStatementDocumentEntity**, and then click the **View map** action.</span></span>
9.  <span data-ttu-id="252c8-202">Nella scheda **Trasformazioni** , fare clic su **Nuovo**.</span><span class="sxs-lookup"><span data-stu-id="252c8-202">On the **Transformations** tab, click **New**.</span></span>
10. <span data-ttu-id="252c8-203">Per il numero di sequenza 1, fare clic su **Carica file** e selezionare il file **MT940TXT-to-MT940XML.xslt** salvato in precedenza.</span><span class="sxs-lookup"><span data-stu-id="252c8-203">For sequence number 1, click **Upload file**, and select the **MT940TXT-to-MT940XML.xslt** file that you saved earlier.</span></span>
11. <span data-ttu-id="252c8-204">Fare clic su **Nuovo**.</span><span class="sxs-lookup"><span data-stu-id="252c8-204">Click **New**.</span></span>
12. <span data-ttu-id="252c8-205">Per il numero di sequenza 2, fare clic su **Carica file** e selezionare il file **MT940XML-to-Reconciliation.xslt** salvato in precedenza.</span><span class="sxs-lookup"><span data-stu-id="252c8-205">For sequence number 2, click **Upload file**, and select the **MT940XML-to-Reconciliation.xslt** file that you saved earlier.</span></span> <span data-ttu-id="252c8-206">**Nota:** I file di trasformazione vengono generati per il formato standard.</span><span class="sxs-lookup"><span data-stu-id="252c8-206">**Note:** Transformation files are built for the standard format.</span></span> <span data-ttu-id="252c8-207">Poiché le banche spesso divergono da questo formato, potrebbe essere necessario aggiornare il file di trasformazione per eseguire il mapping allo specifico formato del rendiconto bancario.</span><span class="sxs-lookup"><span data-stu-id="252c8-207">Because banks often diverge from this format, you may have to update the transformation file to map to your bank statement format.</span></span> <!--- For details about the expected format for MT940, see [Dynamics AX MT940 Layout](./media/dynamicsaxmt940layout1.xlsx)-->
13. <span data-ttu-id="252c8-208">Fare clic su **Nuovo**.</span><span class="sxs-lookup"><span data-stu-id="252c8-208">Click **New**.</span></span>
14. <span data-ttu-id="252c8-209">Per il numero di sequenza 3, fare clic su **Carica file** e selezionare il file **BankReconciliation-to-Composite.xslt** salvato in precedenza.</span><span class="sxs-lookup"><span data-stu-id="252c8-209">For sequence number 3, click **Upload file**, and select the **BankReconciliation-to-Composite.xslt** file that you saved earlier.</span></span>
15. <span data-ttu-id="252c8-210">Fare clic su **Applica trasformazioni**.</span><span class="sxs-lookup"><span data-stu-id="252c8-210">Click **Apply transforms**.</span></span>

<span data-ttu-id="252c8-211">Dopo aver impostato il gruppo di elaborazione formati, il passaggio successivo consiste nel definire le regole di formato rendiconti bancari relative ai rendiconti bancari MT940.</span><span class="sxs-lookup"><span data-stu-id="252c8-211">After the format processing group is set up, the next step is to define the bank statement format rules for MT940 bank statements.</span></span>

1.  <span data-ttu-id="252c8-212">Andare a **Gestione cassa e banche** &gt; **Impostazioni** &gt; **Impostazione riconciliazione bancaria avanzata** &gt; **Formato rendiconto bancario**.</span><span class="sxs-lookup"><span data-stu-id="252c8-212">Go to **Cash and bank management** &gt; **Setup** &gt; **Advanced bank reconciliation setup** &gt; **Bank statement format**.</span></span>
2.  <span data-ttu-id="252c8-213">Fare clic su **Nuovo**.</span><span class="sxs-lookup"><span data-stu-id="252c8-213">Click **New**.</span></span>
3.  <span data-ttu-id="252c8-214">Specificare un formato di rendiconto, ad esempio **MT940**.</span><span class="sxs-lookup"><span data-stu-id="252c8-214">Specify a statement format, such as **MT940**.</span></span>
4.  <span data-ttu-id="252c8-215">Immettere un nome per il formato.</span><span class="sxs-lookup"><span data-stu-id="252c8-215">Enter a name for the format.</span></span>
5.  <span data-ttu-id="252c8-216">Impostare il campo **Gruppo di elaborazione** sul gruppo definito in precedenza, ad esempio **MT940**.</span><span class="sxs-lookup"><span data-stu-id="252c8-216">Set the **Processing group** field to the group that you defined earlier, such as **MT940**.</span></span>
6.  <span data-ttu-id="252c8-217">Impostare il campo **Tipo di file** su **txt**.</span><span class="sxs-lookup"><span data-stu-id="252c8-217">Set the **File type** field to **txt**.</span></span>

<span data-ttu-id="252c8-218">L'ultimo passaggio consiste nell'attivare la riconciliazione bancaria avanzata e impostare il formato di rendiconto sul conto bancario.</span><span class="sxs-lookup"><span data-stu-id="252c8-218">The last step is to enable Advanced bank reconciliation and set the statement format on the bank account.</span></span>

1.  <span data-ttu-id="252c8-219">Andare a **Gestione cassa e banche** &gt; **Conti bancari**.</span><span class="sxs-lookup"><span data-stu-id="252c8-219">Go to **Cash and bank management** &gt; **Bank accounts**.</span></span>
2.  <span data-ttu-id="252c8-220">Selezionare il conto bancario e aprirlo per visualizzare i dettagli.</span><span class="sxs-lookup"><span data-stu-id="252c8-220">Select the bank account, and open it to view the details.</span></span>
3.  <span data-ttu-id="252c8-221">Nella scheda **Riconciliazione**, impostare l'opzione **Riconciliazione bancaria avanzata** su **Sì**.</span><span class="sxs-lookup"><span data-stu-id="252c8-221">On the **Reconciliation** tab, set the **Advanced bank reconciliation** option to **Yes**.</span></span>
4.  <span data-ttu-id="252c8-222">Quando viene chiesto di confermare la selezione e attivare Riconciliazione bancaria avanzata, fare clic su **OK**.</span><span class="sxs-lookup"><span data-stu-id="252c8-222">When you're prompted to confirm your selection and enable Advanced bank reconciliation, click **OK**.</span></span>
5.  <span data-ttu-id="252c8-223">Impostare il campo **Formato rendiconto** sul formato creato in precedenza, ad esempio **MT940**.</span><span class="sxs-lookup"><span data-stu-id="252c8-223">Set the **Statement format** field to the format that you created earlier, such as **MT940**.</span></span>

## <a name="set-up-the-import-of-bai2-bank-statements"></a><span data-ttu-id="252c8-224">Impostare l'importazione di rendiconti bancari BAI2</span><span class="sxs-lookup"><span data-stu-id="252c8-224">Set up the import of BAI2 bank statements</span></span>
<span data-ttu-id="252c8-225">Innanzitutto, è necessario definire il gruppo di elaborazione formati rendiconti bancari per i rendiconti bancari BAI2 utilizzando il framework di entità di dati.</span><span class="sxs-lookup"><span data-stu-id="252c8-225">First, you must define the bank statement format processing group for BAI2 bank statements by using the data entity framework.</span></span>

1.  <span data-ttu-id="252c8-226">Passare a **Aree di lavoro** &gt; **Gestione dati**.</span><span class="sxs-lookup"><span data-stu-id="252c8-226">Go to **Workspaces** &gt; **Data management**.</span></span>
2.  <span data-ttu-id="252c8-227">Fare clic su **Importa**.</span><span class="sxs-lookup"><span data-stu-id="252c8-227">Click **Import**.</span></span>
3.  <span data-ttu-id="252c8-228">Immettere un nome per il formato, ad esempio **BAI2**.</span><span class="sxs-lookup"><span data-stu-id="252c8-228">Enter a name for the format, such as **BAI2**.</span></span>
4.  <span data-ttu-id="252c8-229">Impostare il campo **Formato dati di origine** su **XML-Element**.</span><span class="sxs-lookup"><span data-stu-id="252c8-229">Set the **Source data format** field to **XML-Element**.</span></span>
5.  <span data-ttu-id="252c8-230">Impostare il campo **Nome entità** su **Rendiconti bancari**.</span><span class="sxs-lookup"><span data-stu-id="252c8-230">Set the **Entity name** field to **Bank statements**.</span></span>
6.  <span data-ttu-id="252c8-231">Per caricare i file di importazione, fare clic su **Carica** e quindi individuare per selezionare il file **SampleBankCompositeEntity.xml** salvato in precedenza.</span><span class="sxs-lookup"><span data-stu-id="252c8-231">To upload import files, click **Upload**, and then browse to select the **SampleBankCompositeEntity.xml** file that you saved earlier.</span></span>
7.  <span data-ttu-id="252c8-232">Dopo avere caricato l'entità Rendiconti bancari e il mapping è stato completato, scegliere l'azione **Visualizza mapping** per l'entità.</span><span class="sxs-lookup"><span data-stu-id="252c8-232">After the Bank statements entity is uploaded and the mapping is completed, click the **View map** action for the entity.</span></span>
8.  <span data-ttu-id="252c8-233">L'entità Rendiconti bancari è un'entità composita costituita da quattro entità separate.</span><span class="sxs-lookup"><span data-stu-id="252c8-233">The Bank statements entity is a composite entity that consists of four separate entities.</span></span> <span data-ttu-id="252c8-234">Nell'elenco, selezionare **BankStatementDocumentEntity**, quindi scegliere l'azione **Visualizza mapping**.</span><span class="sxs-lookup"><span data-stu-id="252c8-234">In the list, select **BankStatementDocumentEntity**, and then click the **View map** action.</span></span>
9.  <span data-ttu-id="252c8-235">Nella scheda **Trasformazioni** , fare clic su **Nuovo**.</span><span class="sxs-lookup"><span data-stu-id="252c8-235">On the **Transformations** tab, click **New**.</span></span>
10. <span data-ttu-id="252c8-236">Per il numero di sequenza 1, fare clic su **Carica file** e selezionare il file **BAI2CSV-to-BAI2XML.xslt** salvato in precedenza.</span><span class="sxs-lookup"><span data-stu-id="252c8-236">For sequence number 1, click **Upload file**, and select the **BAI2CSV-to-BAI2XML.xslt** file that you saved earlier.</span></span>
11. <span data-ttu-id="252c8-237">Fare clic su **Nuovo**.</span><span class="sxs-lookup"><span data-stu-id="252c8-237">Click **New**.</span></span>
12. <span data-ttu-id="252c8-238">Per il numero di sequenza 2, fare clic su **Carica file** e selezionare il file **BAI2XML-to-Reconciliation.xslt** salvato in precedenza.</span><span class="sxs-lookup"><span data-stu-id="252c8-238">For sequence number 2, click **Upload file**, and select the **BAI2XML-to-Reconciliation.xslt** file that you saved earlier.</span></span> <span data-ttu-id="252c8-239">**Nota:** I file di trasformazione vengono generati per il formato standard.</span><span class="sxs-lookup"><span data-stu-id="252c8-239">**Note:** Transformation files are built for the standard format.</span></span> <span data-ttu-id="252c8-240">Poiché le banche spesso divergono da questo formato, potrebbe essere necessario aggiornare il file di trasformazione per eseguire il mapping allo specifico formato del rendiconto bancario.</span><span class="sxs-lookup"><span data-stu-id="252c8-240">Because banks often diverge from this format, and you may have to update the transformation file to map to your bank statement format.</span></span> <!--- For details about the expected format for BAI2, see [Dynamics AX BAI2 Layout](./media/dynamicsaxbai2layout1.xlsx).-->
13. <span data-ttu-id="252c8-241">Fare clic su **Nuovo**.</span><span class="sxs-lookup"><span data-stu-id="252c8-241">Click **New**.</span></span>
14. <span data-ttu-id="252c8-242">Per il numero di sequenza 3, fare clic su **Carica file** e selezionare il file **BankReconciliation-to-Composite.xslt** salvato in precedenza.</span><span class="sxs-lookup"><span data-stu-id="252c8-242">For sequence number 3, click **Upload file**, and select the **BankReconciliation-to-Composite.xslt** file that you saved earlier.</span></span>
15. <span data-ttu-id="252c8-243">Fare clic su **Applica trasformazioni**.</span><span class="sxs-lookup"><span data-stu-id="252c8-243">Click **Apply transforms**.</span></span>

<span data-ttu-id="252c8-244">Dopo aver impostato il gruppo di elaborazione formati, il passaggio successivo consiste nel definire le regole di formato rendiconti bancari relative ai rendiconti bancari BAI2.</span><span class="sxs-lookup"><span data-stu-id="252c8-244">After the format processing group is set up, the next step is to define the bank statement format rules for BAI2 bank statements.</span></span>

1.  <span data-ttu-id="252c8-245">Andare a **Gestione cassa e banche** &gt; **Impostazioni** &gt; **Impostazione riconciliazione bancaria avanzata** &gt; **Formato rendiconto bancario**.</span><span class="sxs-lookup"><span data-stu-id="252c8-245">Go to **Cash and bank management** &gt; **Setup** &gt; **Advanced bank reconciliation setup** &gt; **Bank statement format**.</span></span>
2.  <span data-ttu-id="252c8-246">Fare clic su **Nuovo**.</span><span class="sxs-lookup"><span data-stu-id="252c8-246">Click **New**.</span></span>
3.  <span data-ttu-id="252c8-247">Specificare un formato di rendiconto, ad esempio **BAI2**.</span><span class="sxs-lookup"><span data-stu-id="252c8-247">Specify a statement format, such as **BAI2**.</span></span>
4.  <span data-ttu-id="252c8-248">Immettere un nome per il formato.</span><span class="sxs-lookup"><span data-stu-id="252c8-248">Enter a name for the format.</span></span>
5.  <span data-ttu-id="252c8-249">Impostare il campo **Gruppo di elaborazione** sul gruppo definito in precedenza, ad esempio **BAI2**.</span><span class="sxs-lookup"><span data-stu-id="252c8-249">Set the **Processing group** field to the group that you defined earlier, such as **BAI2**.</span></span>
6.  <span data-ttu-id="252c8-250">Impostare il campo **Tipo di file** su **txt**.</span><span class="sxs-lookup"><span data-stu-id="252c8-250">Set the **File type** field to **txt**.</span></span>

<span data-ttu-id="252c8-251">L'ultimo passaggio consiste nell'attivare la riconciliazione bancaria avanzata e impostare il formato di rendiconto sul conto bancario.</span><span class="sxs-lookup"><span data-stu-id="252c8-251">The last step is to enable Advanced bank reconciliation and set the statement format on the bank account.</span></span>

1.  <span data-ttu-id="252c8-252">Andare a **Gestione cassa e banche** &gt; **Conti bancari**.</span><span class="sxs-lookup"><span data-stu-id="252c8-252">Go to **Cash and bank management** &gt; **Bank accounts**.</span></span>
2.  <span data-ttu-id="252c8-253">Selezionare il conto bancario e aprirlo per visualizzare i dettagli.</span><span class="sxs-lookup"><span data-stu-id="252c8-253">Select the bank account, and open it to view the details.</span></span>
3.  <span data-ttu-id="252c8-254">Nella scheda **Riconciliazione**, impostare l'opzione **Riconciliazione bancaria avanzata** su **Sì**.</span><span class="sxs-lookup"><span data-stu-id="252c8-254">On the **Reconciliation** tab, set the **Advanced bank reconciliation** option to **Yes**.</span></span>
4.  <span data-ttu-id="252c8-255">Quando viene chiesto di confermare la selezione e attivare Riconciliazione bancaria avanzata, fare clic su **OK**.</span><span class="sxs-lookup"><span data-stu-id="252c8-255">When you're prompted to confirm your selection and enable Advanced bank reconciliation, click **OK**.</span></span>
5.  <span data-ttu-id="252c8-256">Impostare il campo **Formato rendiconto** sul formato creato in precedenza, ad esempio **BAI2**.</span><span class="sxs-lookup"><span data-stu-id="252c8-256">Set the **Statement format** field to the format that you created earlier, such as **BAI2**.</span></span>

## <a name="test-the-bank-statement-import"></a><span data-ttu-id="252c8-257">Testare l'importazione rendiconto bancario</span><span class="sxs-lookup"><span data-stu-id="252c8-257">Test the bank statement import</span></span>
<span data-ttu-id="252c8-258">Il passaggio finale consiste nel verificare che è possibile importare il rendiconto bancario.</span><span class="sxs-lookup"><span data-stu-id="252c8-258">The final step is to test that you can import your bank statement.</span></span>

1.  <span data-ttu-id="252c8-259">Andare a **Gestione cassa e banche** &gt; **Conti bancari**.</span><span class="sxs-lookup"><span data-stu-id="252c8-259">Go to **Cash and bank management** &gt; **Bank accounts**.</span></span>
2.  <span data-ttu-id="252c8-260">Selezionare il conto bancario per cui è abilitata la funzionalità Riconciliazione bancaria avanzata.</span><span class="sxs-lookup"><span data-stu-id="252c8-260">Select the bank account that Advanced bank reconciliation functionality is enabled for.</span></span>
3.  <span data-ttu-id="252c8-261">Nella scheda **Riconcilia** , fare clic su **Rendiconti bancari**.</span><span class="sxs-lookup"><span data-stu-id="252c8-261">On the **Reconcile** tab, click **Bank statements**.</span></span>
4.  <span data-ttu-id="252c8-262">Nella pagina **Rendiconto bancario** fare clic su **Importa rendiconto**.</span><span class="sxs-lookup"><span data-stu-id="252c8-262">On the **Bank statement** page, click **Import statement**.</span></span>
5.  <span data-ttu-id="252c8-263">Impostare il campo **Conto bancario** sul conto bancario selezionato.</span><span class="sxs-lookup"><span data-stu-id="252c8-263">Set the **Bank account** field to the selected bank account.</span></span> <span data-ttu-id="252c8-264">Il campo **Formato rendiconto** verrà impostato automaticamente, in base all'impostazione del conto bancario.</span><span class="sxs-lookup"><span data-stu-id="252c8-264">The **Statement format** field will be set automatically, based on the setting on the bank account.</span></span>
6.  <span data-ttu-id="252c8-265">Fare clic su **Sfoglia** e selezionare il file di rendiconto bancario elettronico.</span><span class="sxs-lookup"><span data-stu-id="252c8-265">Click **Browse**, and select your electronic bank statement file.</span></span>
7.  <span data-ttu-id="252c8-266">Fare clic su **Carica**.</span><span class="sxs-lookup"><span data-stu-id="252c8-266">Click **Upload**.</span></span>
8.  <span data-ttu-id="252c8-267">Scegliere **OK**.</span><span class="sxs-lookup"><span data-stu-id="252c8-267">Click **OK**.</span></span>

<span data-ttu-id="252c8-268">Se l'importazione ha esito positivo, riceverai un messaggio che informa che il rendiconto è stato importato.</span><span class="sxs-lookup"><span data-stu-id="252c8-268">If the import is successful, you will receive a message that states that your statement was imported.</span></span> <span data-ttu-id="252c8-269">Se l'importazione non è stata completata correttamente, nell'area di lavoro **Gestione dati**, sezione **Storico processi**, trovare il processo.</span><span class="sxs-lookup"><span data-stu-id="252c8-269">If the import wasn't successful, in the **Data management** workspace, in the **Job history** section, find the job.</span></span> <span data-ttu-id="252c8-270">Fare clic su **Dettagli esecuzione** per il processo per aprire la pagina **Riepilogo esecuzione** e quindi fare clic su **Visualizza registro di esecuzione** per visualizzare gli errori di importazione.</span><span class="sxs-lookup"><span data-stu-id="252c8-270">Click **Execution details** for the job to open the **Execution summary** page, and then click **View execution log** to view the import errors.</span></span>



