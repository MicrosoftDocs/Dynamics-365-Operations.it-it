---
title: Esempio di integrazione di stampante fiscale per l'Italia
description: In questo argomento viene fornita una panoramica di esempio di integrazione fiscale per l'Italia.
author: josaw
manager: annbe
ms.date: 11/01/2018
ms.topic: article
ms.prod: 
ms.service: dynamics-365-retail
ms.technology: 
ms.search.form: RetailFunctionalityProfile, RetailFormLayout, RetailParameters
audience: Application User
ms.reviewer: josaw
ms.search.scope: Core, Operations, Retail
ms.search.region: Italy
ms.search.industry: Retail
ms.author: sepism
ms.search.validFrom: 2018-11-1
ms.dyn365.ops.version: 8.1.1
ms.translationtype: HT
ms.sourcegitcommit: 0450326dce0ba6be99aede4ebc871dc58c8039ab
ms.openlocfilehash: ff6ccd5fd1a0772aedba16dcc720dcfbd0c8bcab
ms.contentlocale: it-it
ms.lasthandoff: 11/01/2018

---
# <a name="fiscal-printer-integration-sample-for-italy"></a><span data-ttu-id="e22bb-103">Esempio di integrazione di stampante fiscale per l'Italia</span><span class="sxs-lookup"><span data-stu-id="e22bb-103">Fiscal printer integration sample for Italy</span></span>

[!include[banner](../includes/banner.md)]

## <a name="overview"></a><span data-ttu-id="e22bb-104">Panoramica</span><span class="sxs-lookup"><span data-stu-id="e22bb-104">Overview</span></span>

<span data-ttu-id="e22bb-105">L'integrazione fiscale per l'Italia include esempi dell'integrazione con la stampante fiscale EPSON FP-90III.</span><span class="sxs-lookup"><span data-stu-id="e22bb-105">The fiscal integration for Italy includes samples of the integration with the fiscal printer EPSON FP-90III.</span></span> <span data-ttu-id="e22bb-106">Questo è stato sviluppato in base al framework di integrazione fiscale.</span><span class="sxs-lookup"><span data-stu-id="e22bb-106">This was developed based on the fiscal integration framework.</span></span> <span data-ttu-id="e22bb-107">Per informazioni dettagliate sulla funzionalità di integrazione fiscale, vedere [Integrazione fiscale per il canale di vendita al dettaglio](fiscal-integration-for-retail-channel.md).</span><span class="sxs-lookup"><span data-stu-id="e22bb-107">For details about the fiscal integration functionality, see [Fiscal integration for Retail channel](fiscal-integration-for-retail-channel.md).</span></span>

<span data-ttu-id="e22bb-108">In questo esempio sono incluse le seguenti funzionalità:</span><span class="sxs-lookup"><span data-stu-id="e22bb-108">This sample includes the following functionality:</span></span>
- <span data-ttu-id="e22bb-109">Integrazione con la stampante fiscale Epson FP-90III tramite la soluzione modalità web-service - ePOS-Print.</span><span class="sxs-lookup"><span data-stu-id="e22bb-109">Integration with fiscal printer Epson FP-90III via web-service mode - ePOS-Print solution.</span></span>
- <span data-ttu-id="e22bb-110">Registrazione dei seguenti eventi nel POS:</span><span class="sxs-lookup"><span data-stu-id="e22bb-110">Registration of the following events in POS:</span></span>
    - <span data-ttu-id="e22bb-111">Stampa ricevuta per vendita:</span><span class="sxs-lookup"><span data-stu-id="e22bb-111">Print receipt for sale:</span></span>
      - <span data-ttu-id="e22bb-112">Stampa ricevuta per reso vendita.</span><span class="sxs-lookup"><span data-stu-id="e22bb-112">Print receipt for sale return.</span></span>
      - <span data-ttu-id="e22bb-113">Stampa report X.</span><span class="sxs-lookup"><span data-stu-id="e22bb-113">Print X report.</span></span>
      - <span data-ttu-id="e22bb-114">Stampa report Z.</span><span class="sxs-lookup"><span data-stu-id="e22bb-114">Print Z report.</span></span>

<span data-ttu-id="e22bb-115">Le ricevute per le operazioni di vendita e reso di vendita supportano anche i seguenti scenari:</span><span class="sxs-lookup"><span data-stu-id="e22bb-115">Receipts for sale and sale return operations also support the following scenarios:</span></span>  
- <span data-ttu-id="e22bb-116">Stampa di sconti.</span><span class="sxs-lookup"><span data-stu-id="e22bb-116">Printing of discounts.</span></span>
- <span data-ttu-id="e22bb-117">Esclusione di gift card dalla ricevuta.</span><span class="sxs-lookup"><span data-stu-id="e22bb-117">Excluding gift cards from the receipt.</span></span>
- <span data-ttu-id="e22bb-118">Ricevute per ordine cliente.</span><span class="sxs-lookup"><span data-stu-id="e22bb-118">Receipts to customer order.</span></span>

## <a name="design"></a><span data-ttu-id="e22bb-119">Progetto</span><span class="sxs-lookup"><span data-stu-id="e22bb-119">Design</span></span>

<span data-ttu-id="e22bb-120">L'integrazione per la stampnte fiscale Epson FP-90III è implementata in due estensioni:</span><span class="sxs-lookup"><span data-stu-id="e22bb-120">The integration for the fiscal printer Epson FP-90III is implemented in two extensions:</span></span>
- <span data-ttu-id="e22bb-121">Estensione CRT - genera documenti XML in formato specifico per la stampante (Runtime.Extensions.DocumentProvider.EpsonFP90IIISample).</span><span class="sxs-lookup"><span data-stu-id="e22bb-121">CRT extension - Generates XML documents in printer-specific format (Runtime.Extensions.DocumentProvider.EpsonFP90IIISample).</span></span>
- <span data-ttu-id="e22bb-122">Estensione stazione hardware - invia i documenti generati dall'estensione CRT alla stampante fiscale (tramite il protocollo HTTP) e gestisce la risposta da HardwareStation.Extensions.EpsonFP90IIIFiscalDeviceSample.</span><span class="sxs-lookup"><span data-stu-id="e22bb-122">Hardware station extension - Submits documents generated by CRT extension to the fiscal printer (via HTTP protocol) and handles the response from HardwareStation.Extensions.EpsonFP90IIIFiscalDeviceSample.</span></span>

<span data-ttu-id="e22bb-123">![testo alternativo](media/emea-ita-fpi-solution.png "Schema soluzione")</span><span class="sxs-lookup"><span data-stu-id="e22bb-123">![alt text](media/emea-ita-fpi-solution.png "Solution schema")</span></span>

## <a name="set-up-retail-for-italy"></a><span data-ttu-id="e22bb-124">Impostazione vendita al dettaglio per l'Italia</span><span class="sxs-lookup"><span data-stu-id="e22bb-124">Set up Retail for Italy</span></span>

### <a name="enabling-extensions"></a><span data-ttu-id="e22bb-125">Abilitazione delle estensioni</span><span class="sxs-lookup"><span data-stu-id="e22bb-125">Enabling extensions</span></span>

##### <a name="crt-extension-components"></a><span data-ttu-id="e22bb-126">Componenti dell'estensione CRT</span><span class="sxs-lookup"><span data-stu-id="e22bb-126">CRT extension components</span></span>

<span data-ttu-id="e22bb-127">I componenti dell'estensione CRT sono inclusi in Retail SDK.</span><span class="sxs-lookup"><span data-stu-id="e22bb-127">The CRT extension components are included in the Retail SDK.</span></span> <span data-ttu-id="e22bb-128">Per completare le seguenti procedure, aprire la soluzione CRT, CommerceRuntimeSamples.sln, in RetailSdk\SampleExtensions\CommerceRuntime.</span><span class="sxs-lookup"><span data-stu-id="e22bb-128">To complete the following procedures, open the CRT solution, CommerceRuntimeSamples.sln, under RetailSdk\SampleExtensions\CommerceRuntime.</span></span>

1. <span data-ttu-id="e22bb-129">Individuare il progetto Runtime.Extensions.DocumentProvider.EpsonFP90IIISample e compilarlo.</span><span class="sxs-lookup"><span data-stu-id="e22bb-129">Find the Runtime.Extensions.DocumentProvider.EpsonFP90IIISample project and build it.</span></span>
1. <span data-ttu-id="e22bb-130">Nella cartella Extensions.DocumentProvider.EpsonFP90IIISample\bin\Debug, trovare il file assembly Contoso.Commerce.Runtime.DocumentProvider.EpsonFP90IIISample.dll.</span><span class="sxs-lookup"><span data-stu-id="e22bb-130">In the Extensions.DocumentProvider.EpsonFP90IIISample\bin\Debug folder, find the Contoso.Commerce.Runtime.DocumentProvider.EpsonFP90IIISample.dll assembly file.</span></span>
1. <span data-ttu-id="e22bb-131">Copiare il file assembly alla cartella dell'estensione CRT:</span><span class="sxs-lookup"><span data-stu-id="e22bb-131">Copy the assembly file to the CRT extensions folder:</span></span>
    - <span data-ttu-id="e22bb-132">Server Retail: copiare l'assembly nella cartella \bin\ext nella posizione del sito del Server Retail Microsoft Internet Information Services (IIS).</span><span class="sxs-lookup"><span data-stu-id="e22bb-132">Retail Server: Copy the assembly to the \bin\ext folder under the Microsoft Internet Information Services (IIS) Retail Server site location.</span></span>
    - <span data-ttu-id="e22bb-133">CRT locale su POS moderno: copiare assembly nella cartella \ext nella posizione boker client CRT locale.</span><span class="sxs-lookup"><span data-stu-id="e22bb-133">Local CRT on Modern POS: Copy the assembly to the \ext folder under the local CRT client broker location.</span></span>
1. <span data-ttu-id="e22bb-134">Individuare il file di configurazione di estensioni per il CRT:</span><span class="sxs-lookup"><span data-stu-id="e22bb-134">Find the extensions configuration file for CRT:</span></span>
    - <span data-ttu-id="e22bb-135">Server Retail: Il file si chiama commerceruntime.ext.config e si trova nella cartella bin\ext nella posizione del sito del Server Retail IIS.</span><span class="sxs-lookup"><span data-stu-id="e22bb-135">Retail Server: The file is named commerceruntime.ext.config, and it's in the bin\ext folder under the IIS Retail Server site location.</span></span>
    - <span data-ttu-id="e22bb-136">CRT locale sul POS moderno: Il file si chiama CommerceRuntime.MPOSOffline.Ext.config e si trova nella posizione del broker client CRT locale.</span><span class="sxs-lookup"><span data-stu-id="e22bb-136">Local CRT on Modern POS: The file is named CommerceRuntime.MPOSOffline.Ext.config, and it's under the local CRT client broker location.</span></span>
1. <span data-ttu-id="e22bb-137">Registrare la modifica CRT nel file di configurazione di estensioni.</span><span class="sxs-lookup"><span data-stu-id="e22bb-137">Register the CRT change in the extensions configuration file.</span></span> <span data-ttu-id="e22bb-138">Aggiungere source="assembly" value="Contoso.Commerce.Runtime.DocumentProvider.EpsonFP90IIISample"</span><span class="sxs-lookup"><span data-stu-id="e22bb-138">Add source="assembly" value="Contoso.Commerce.Runtime.DocumentProvider.EpsonFP90IIISample"</span></span> 
1. <span data-ttu-id="e22bb-139">Riavviare il servizio vendita al dettaglio:</span><span class="sxs-lookup"><span data-stu-id="e22bb-139">Restart the Retail service:</span></span>
    - <span data-ttu-id="e22bb-140">Server Retail: riavviare il sito del servizio di vendita al dettaglio da Gestione IIS.</span><span class="sxs-lookup"><span data-stu-id="e22bb-140">Retail Server: Restart the Retail service site from IIS Manager.</span></span>
    - <span data-ttu-id="e22bb-141">Broker client: terminare il processo dllhost.exe in Gestione attività quindi riavviare il POS moderno.</span><span class="sxs-lookup"><span data-stu-id="e22bb-141">Client broker: End the dllhost.exe process in Task Manager, and then restart Modern POS.</span></span>

##### <a name="hardware-station-extension-components"></a><span data-ttu-id="e22bb-142">Componenti dell'estensione stazione hardware</span><span class="sxs-lookup"><span data-stu-id="e22bb-142">Hardware station extension components</span></span>
<span data-ttu-id="e22bb-143">I componenti dell'estensione stazione hardware sono inclusi in Retail SDK.</span><span class="sxs-lookup"><span data-stu-id="e22bb-143">The Hardware station extension components are included in the Retail SDK.</span></span> <span data-ttu-id="e22bb-144">Per completare le seguenti procedure, aprire la soluzione Stazione hardware, HardwareStationSamples.sln, under RetailSdk\SampleExtensions\HardwareStation.</span><span class="sxs-lookup"><span data-stu-id="e22bb-144">To complete the following procedures, open the Hardware Station solution, HardwareStationSamples.sln, under RetailSdk\SampleExtensions\HardwareStation.</span></span>

1. <span data-ttu-id="e22bb-145">Individuare il progetto HardwareStation.Extensions.EpsonFP90IIIFiscalDeviceSample e compilarlo.</span><span class="sxs-lookup"><span data-stu-id="e22bb-145">Find the HardwareStation.Extensions.EpsonFP90IIIFiscalDeviceSample project and build it.</span></span>
1. <span data-ttu-id="e22bb-146">Nella cartella Extensions.EpsonFP90IIIFiscalDeviceSample \bin\Debug, trovare il file assembly Contoso.Commerce.HardwareStation.EpsonFP90IIIFiscalDeviceSample.dll.</span><span class="sxs-lookup"><span data-stu-id="e22bb-146">In the Extensions.EpsonFP90IIIFiscalDeviceSample \bin\Debug folder, find the Contoso.Commerce.HardwareStation.EpsonFP90IIIFiscalDeviceSample.dll assembly file.</span></span>
1. <span data-ttu-id="e22bb-147">Copiare i file in un computer stazione hardware distribuito:</span><span class="sxs-lookup"><span data-stu-id="e22bb-147">Copy the files to a deployed Hardware station machine:</span></span>
    - <span data-ttu-id="e22bb-148">Stazione hardware remota: copiare i file nella cartella bin nella posizione del sito stazione hardware Microsoft Internet Information Services (IIS).</span><span class="sxs-lookup"><span data-stu-id="e22bb-148">Remote Hardware station: Copy the files to the bin folder under the Microsoft Internet Information Services (IIS) Hardware station site location.</span></span>
    - <span data-ttu-id="e22bb-149">Stazione hardware locale: Copiare i file nella posizione del broker client POS moderno.</span><span class="sxs-lookup"><span data-stu-id="e22bb-149">Local Hardware station: Copy the files to the Modern POS client broker location.</span></span>
1. <span data-ttu-id="e22bb-150">Individuare il file di configurazione per le estensioni della stazione hardware.</span><span class="sxs-lookup"><span data-stu-id="e22bb-150">Find the configuration file for the Hardware station's extensions.</span></span> <span data-ttu-id="e22bb-151">Il file si chiama HardwareStation.Extension.config:</span><span class="sxs-lookup"><span data-stu-id="e22bb-151">The file is named HardwareStation.Extension.config:</span></span>
    - <span data-ttu-id="e22bb-152">Stazione hardware remota: Il file è situato sotto all'ubicazione della stazione hardware IIS.</span><span class="sxs-lookup"><span data-stu-id="e22bb-152">Remote Hardware station: The file is located under the IIS Hardware station site location.</span></span>
    - <span data-ttu-id="e22bb-153">Stazione hardware locale: il file si trova nella posizione del broker client POS moderno.</span><span class="sxs-lookup"><span data-stu-id="e22bb-153">Local Hardware station: The file is located under the Modern POS client broker location.</span></span>
    
1. <span data-ttu-id="e22bb-154">Aggiungere la sezione seguente alla sezione di composizione del file di configurazione.</span><span class="sxs-lookup"><span data-stu-id="e22bb-154">Add the following section to the composition section of the config file.</span></span> 
    <add source="assembly" value="Contoso.Commerce.HardwareStation.Extension.EpsonFP90IIIFiscalDeviceSample" />
1. <span data-ttu-id="e22bb-155">Riavviare il servizio della stazione hardware:</span><span class="sxs-lookup"><span data-stu-id="e22bb-155">Restart the Hardware station service:</span></span>
    - <span data-ttu-id="e22bb-156">Stazione hardware remota: Riavviare il sito della stazione hardware da Gestione IIS.</span><span class="sxs-lookup"><span data-stu-id="e22bb-156">Remote Hardware station: Restart the Hardware station site from IIS Manager.</span></span>
    - <span data-ttu-id="e22bb-157">Stazione hardware locale: terminare il processo dllhost.exe in Gestione attività quindi riavviare il POS moderno.</span><span class="sxs-lookup"><span data-stu-id="e22bb-157">Local Hardware station: End the dllhost.exe process in Task Manager, and then restart Modern POS.</span></span>

### <a name="set-up-the-registration-process"></a><span data-ttu-id="e22bb-158">Impostare il processo di registrazione</span><span class="sxs-lookup"><span data-stu-id="e22bb-158">Set up the registration process</span></span>
<span data-ttu-id="e22bb-159">Per abilitare il processo di registrazione, impostare la sede centrale utilizzando i seguenti passaggi:</span><span class="sxs-lookup"><span data-stu-id="e22bb-159">To enable the registration process, set up the Headquarters using the following steps:</span></span>
1. <span data-ttu-id="e22bb-160">Aprire Vendita al dettaglio\Impostazione canale\Integrazione fiscale\Connettori fiscali.</span><span class="sxs-lookup"><span data-stu-id="e22bb-160">Open Retail\Channel Setup\Fiscal Integration\Fiscal Connectors.</span></span> <span data-ttu-id="e22bb-161">Importare la configurazione da RetailSdk\SampleExtensions\CommerceRuntime\Entension.DocumentProvider.EpsonFP90IIISample\Configuration\DocumentProviderEpsonFP90IIISample.xml.</span><span class="sxs-lookup"><span data-stu-id="e22bb-161">Import the configuration from RetailSdk\SampleExtensions\CommerceRuntime\Entension.DocumentProvider.EpsonFP90IIISample\Configuration\DocumentProviderEpsonFP90IIISample.xml.</span></span>

<span data-ttu-id="e22bb-162">![testo alternativo](media/emea-ita-fpi-fiscalconnector.png "Connettore fiscale")</span><span class="sxs-lookup"><span data-stu-id="e22bb-162">![alt text](media/emea-ita-fpi-fiscalconnector.png "Fiscal connector")</span></span>

2. <span data-ttu-id="e22bb-163">Aprire Vendita al dettaglio\Impostazione canale\Integrazione fiscale\Fornitori di documenti fiscali.</span><span class="sxs-lookup"><span data-stu-id="e22bb-163">Open Retail\Channel Setup\Fiscal Integration\Fiscal Document providers.</span></span> <span data-ttu-id="e22bb-164">Importare la configurazione da RetailSdk\SampleExtensions\HardwareStation\Entension.EpsonFP90IIIFiscalDeviceSample\Configuration\ConnectorEpsonFP90IIISample.xml.</span><span class="sxs-lookup"><span data-stu-id="e22bb-164">Import the configuration from RetailSdk\SampleExtensions\HardwareStation\Entension.EpsonFP90IIIFiscalDeviceSample\Configuration\ConnectorEpsonFP90IIISample.xml.</span></span>

<span data-ttu-id="e22bb-165">![testo alternativo](media/emea-ita-fpi-documentprovider.png "Fornitore di doumenti")</span><span class="sxs-lookup"><span data-stu-id="e22bb-165">![alt text](media/emea-ita-fpi-documentprovider.png "Document provider")</span></span>

3. <span data-ttu-id="e22bb-166">Aprire Vendita al dettaglio\Impostazione canale\Integrazione fiscale\Profili tecnici del connettore.</span><span class="sxs-lookup"><span data-stu-id="e22bb-166">Open Retail\Channel Setup\Fiscal Integration\Connector Technical profiles.</span></span> <span data-ttu-id="e22bb-167">Creare un nuovo profilo e selezionare il connettore caricato nel passaggio precedente.</span><span class="sxs-lookup"><span data-stu-id="e22bb-167">Create a new profile and select the loaded connector from the step above.</span></span> <span data-ttu-id="e22bb-168">Aggiornare le impostazioni di connessione se necessario.</span><span class="sxs-lookup"><span data-stu-id="e22bb-168">Update connection settings if needed.</span></span>

<span data-ttu-id="e22bb-169">![testo alternativo](media/emea-ita-fpi-technicalprofile.png "Profilo tecnico")</span><span class="sxs-lookup"><span data-stu-id="e22bb-169">![alt text](media/emea-ita-fpi-technicalprofile.png "Technical profile")</span></span>

4. <span data-ttu-id="e22bb-170">Aprire Vendita al dettaglio\Impostazione canale\Integrazione fiscale\Profili funzionali del connettore.</span><span class="sxs-lookup"><span data-stu-id="e22bb-170">Open Retail\Channel Setup\Fiscal Integration\Connector Functional profiles.</span></span> <span data-ttu-id="e22bb-171">Creare un nuovo profilo e selezionare il connettore caricato e il fornitore di documenti dal passaggio precedente.</span><span class="sxs-lookup"><span data-stu-id="e22bb-171">Create a new profile and select the loaded connector and document provider from the steps above.</span></span> <span data-ttu-id="e22bb-172">Aggiornare le impostazioni di mapping dei dati se necessario</span><span class="sxs-lookup"><span data-stu-id="e22bb-172">Update data mapping settings if needed</span></span>

<span data-ttu-id="e22bb-173">![testo alternativo](media/emea-ita-fpi-fiscalfunctionalityprofile.png "Profilo funzionale del connettore")</span><span class="sxs-lookup"><span data-stu-id="e22bb-173">![alt text](media/emea-ita-fpi-fiscalfunctionalityprofile.png "Connector functional profile")</span></span>

5. <span data-ttu-id="e22bb-174">Aprire Vendita al dettaglio\Impostazione canale\Integrazione fiscale\Gruppo funzionale di connettori.</span><span class="sxs-lookup"><span data-stu-id="e22bb-174">Open Retail\Channel Setup\Fiscal Integration\Connector Functional group.</span></span> <span data-ttu-id="e22bb-175">Creare un nuovo gruppo e selezionare il profilo funzionale del connettore dal passaggio precedente.</span><span class="sxs-lookup"><span data-stu-id="e22bb-175">Create a new group and select the connector functional profile from the step above.</span></span>

<span data-ttu-id="e22bb-176">![testo alternativo](media/emea-ita-fpi-connectorgroup.png "Gruppo di connettori")</span><span class="sxs-lookup"><span data-stu-id="e22bb-176">![alt text](media/emea-ita-fpi-connectorgroup.png "Connector group")</span></span>

6. <span data-ttu-id="e22bb-177">Aprire Vendita al dettaglio\Impostazione canale\Integrazione fiscale\Processo di registrazione.</span><span class="sxs-lookup"><span data-stu-id="e22bb-177">Open Retail\Channel Setup\Fiscal Integration\Registration process.</span></span> <span data-ttu-id="e22bb-178">Creare un nuovo processo.</span><span class="sxs-lookup"><span data-stu-id="e22bb-178">Create a new process.</span></span> <span data-ttu-id="e22bb-179">Selezionare il gruppo funzionale di connettori dal passaggio precedente.</span><span class="sxs-lookup"><span data-stu-id="e22bb-179">Select the connector functional group from the step above.</span></span>

<span data-ttu-id="e22bb-180">![testo alternativo](media/emea-ita-fpi-registrationprocess.png "Processo di registrazione")</span><span class="sxs-lookup"><span data-stu-id="e22bb-180">![alt text](media/emea-ita-fpi-registrationprocess.png "Registration process")</span></span>

7. <span data-ttu-id="e22bb-181">Aprire il profilo Funzionalità collegato al punto vendita in cui il processo di registrazione deve essere attivato.</span><span class="sxs-lookup"><span data-stu-id="e22bb-181">Open Functionality profile linked to the store where the registration process should be activated.</span></span> <span data-ttu-id="e22bb-182">Espandere la scheda dettaglio **Processo di registrazione fiscale**.</span><span class="sxs-lookup"><span data-stu-id="e22bb-182">Expand the **Fiscal registration process** FastTab.</span></span> <span data-ttu-id="e22bb-183">Selezionare il processo di registrazione creato nel passaggio precedente.</span><span class="sxs-lookup"><span data-stu-id="e22bb-183">Select the created registration process from the step above.</span></span>

<span data-ttu-id="e22bb-184">![testo alternativo](media/emea-ita-fpi-functionalityprofile.png "Profilo funzionalità POS")</span><span class="sxs-lookup"><span data-stu-id="e22bb-184">![alt text](media/emea-ita-fpi-functionalityprofile.png "POS functionality profile")</span></span>

8. <span data-ttu-id="e22bb-185">Apre il profilo hardware collegato alla stazione hardware a cui la stampante fiscale sarà collegata.</span><span class="sxs-lookup"><span data-stu-id="e22bb-185">Open the Hardware profile that is linked to the hardware station to which the fiscal printer will be connected.</span></span> <span data-ttu-id="e22bb-186">Espandere la scheda dettaglio **Periferiche fiscali**.</span><span class="sxs-lookup"><span data-stu-id="e22bb-186">Expand the **Fiscal peripherals** FastTab.</span></span> <span data-ttu-id="e22bb-187">Selezionare il profilo tecnico del connettore.</span><span class="sxs-lookup"><span data-stu-id="e22bb-187">Select the connector technical profile.</span></span>

<span data-ttu-id="e22bb-188">![testo alternativo](media/emea-ita-fpi-hardwareprofile.png "Profilo hardware")</span><span class="sxs-lookup"><span data-stu-id="e22bb-188">![alt text](media/emea-ita-fpi-hardwareprofile.png "Hardware profile")</span></span>

9. <span data-ttu-id="e22bb-189">Aprire la programmazione di distribuzione e selezionare il processo **1070** per trasferire i dati nel database canale.</span><span class="sxs-lookup"><span data-stu-id="e22bb-189">Open Distribution scheduler and select job **1070** to transfer data to the Channel database.</span></span>

<span data-ttu-id="e22bb-190">![testo alternativo](media/emea-ita-fpi-distributionjobs.png "Programmazione di distribuzione")</span><span class="sxs-lookup"><span data-stu-id="e22bb-190">![alt text](media/emea-ita-fpi-distributionjobs.png "Distribution scheduler")</span></span>

## <a name="commerce-runtime-extension-design"></a><span data-ttu-id="e22bb-191">Progettazione dell'estensione di Commerce Runtime</span><span class="sxs-lookup"><span data-stu-id="e22bb-191">Commerce runtime extension design</span></span>

<span data-ttu-id="e22bb-192">Lo scopo dell'estensione (Fornitore di documenti) è di generare documenti specifici per la stampante e di gestire le risposte dalla stampante fiscale.</span><span class="sxs-lookup"><span data-stu-id="e22bb-192">The purpose of the extension (Document provider) is to generate printer-specific documents and handle responses from the fiscal printer.</span></span> 

### <a name="request-handler"></a><span data-ttu-id="e22bb-193">Gestore richieste</span><span class="sxs-lookup"><span data-stu-id="e22bb-193">Request handler</span></span>
    
<span data-ttu-id="e22bb-194">Il gestore richieste DocumentProviderEpsonFP90III è il punto di ingresso per la richiesta di generare documenti dalla stampante fiscale.</span><span class="sxs-lookup"><span data-stu-id="e22bb-194">The request handler DocumentProviderEpsonFP90III is the entry point for the request to generate documents from the fiscal printer.</span></span>

<span data-ttu-id="e22bb-195">Il gestore viene ereditato dall'interfaccia INamedRequestHandler.</span><span class="sxs-lookup"><span data-stu-id="e22bb-195">The handler is inherited from the INamedRequestHandler interface.</span></span> <span data-ttu-id="e22bb-196">Metodo HandlerName è responsabile della restituzione del nome del gestore.</span><span class="sxs-lookup"><span data-stu-id="e22bb-196">The Method HandlerName is responsible for returning the name of the handler.</span></span> <span data-ttu-id="e22bb-197">Deve corrispondere al nome del fornitore di documenti del connettore specificato in sede centrale.</span><span class="sxs-lookup"><span data-stu-id="e22bb-197">It should match the connector document provider name specified in HQ.</span></span>

<span data-ttu-id="e22bb-198">Il connettore supporta le seguenti richieste:</span><span class="sxs-lookup"><span data-stu-id="e22bb-198">The connector supports the following requests:</span></span>
- <span data-ttu-id="e22bb-199">GetFiscalDocumentDocumentProviderRequest- contiene informazioni su quale documento dovrà essere generato.</span><span class="sxs-lookup"><span data-stu-id="e22bb-199">GetFiscalDocumentDocumentProviderRequest- Contains information about what document should be generated.</span></span> <span data-ttu-id="e22bb-200">Restituisce un documento specifico per la stampante che deve essere registrato nella stampante fiscale.</span><span class="sxs-lookup"><span data-stu-id="e22bb-200">Returns a printer-specific document that should be registered in the fiscal printer.</span></span>
- <span data-ttu-id="e22bb-201">GetSupportedRegistrableEventsDocumentProviderRequest - restituisce l'elenco degli eventi da sottoscrivere.</span><span class="sxs-lookup"><span data-stu-id="e22bb-201">GetSupportedRegistrableEventsDocumentProviderRequest - Returns the list of events to subscribe to.</span></span> <span data-ttu-id="e22bb-202">Attualmente, i seguenti eventi sono supportati: vendita, stampa del report X e stampa del report Z.</span><span class="sxs-lookup"><span data-stu-id="e22bb-202">Currently, the following events are supported: sales, printing X report, and printing Z report.</span></span>
- <span data-ttu-id="e22bb-203">SaveFiscalRegistrationResultDocumentProviderRequest- salva la risposta dalla stampante.</span><span class="sxs-lookup"><span data-stu-id="e22bb-203">SaveFiscalRegistrationResultDocumentProviderRequest- Saves the response from the printer.</span></span>


### <a name="configuration"></a><span data-ttu-id="e22bb-204">Configurazione</span><span class="sxs-lookup"><span data-stu-id="e22bb-204">Configuration</span></span>
<span data-ttu-id="e22bb-205">Il file di configurazione si trova nella cartella Configuration del Progetto di estensione.</span><span class="sxs-lookup"><span data-stu-id="e22bb-205">The configuration file is found in the Configuration folder of the extension project.</span></span> <span data-ttu-id="e22bb-206">Lo scopo del file è di consentire di configurare le impostazioni per il fornitore di documenti dalla sede centrale.</span><span class="sxs-lookup"><span data-stu-id="e22bb-206">The purpose of the file is to allow to configure settings for the document provider from the HQ.</span></span> <span data-ttu-id="e22bb-207">Il formato di file si allinea ai requisiti di configurazione dell'integrazione fiscale.</span><span class="sxs-lookup"><span data-stu-id="e22bb-207">The file format aligns fiscal integration configuration requirements.</span></span> <span data-ttu-id="e22bb-208">Sono stati aggiunte i seguenti impostazioni:</span><span class="sxs-lookup"><span data-stu-id="e22bb-208">The following settings have been added:</span></span>
- <span data-ttu-id="e22bb-209">Mapping aliquote IVA</span><span class="sxs-lookup"><span data-stu-id="e22bb-209">VAT rates mapping</span></span>
- <span data-ttu-id="e22bb-210">Mapping tipo di metodo di pagamento</span><span class="sxs-lookup"><span data-stu-id="e22bb-210">Tender type mapping</span></span>

## <a name="hardware-station-extension-design"></a><span data-ttu-id="e22bb-211">Progettazione dell'estensione stazione hardware</span><span class="sxs-lookup"><span data-stu-id="e22bb-211">Hardware station extension design</span></span>

<span data-ttu-id="e22bb-212">Lo scopo dell'estensione (Connettore) è di comunicare con la stampante fiscale.</span><span class="sxs-lookup"><span data-stu-id="e22bb-212">The purpose of the extension (Connector) is to communicate with the fiscal printer.</span></span>

### <a name="request-handler"></a><span data-ttu-id="e22bb-213">Gestore richieste</span><span class="sxs-lookup"><span data-stu-id="e22bb-213">Request handler</span></span>
<span data-ttu-id="e22bb-214">Il gestore richieste EpsonFP90IIISample è il punto di ingresso per la gestione della richiesta alla periferica fiscale.</span><span class="sxs-lookup"><span data-stu-id="e22bb-214">The request handler EpsonFP90IIISample is the entry point for handling request to the fiscal peripheral device.</span></span> <span data-ttu-id="e22bb-215">Il gestore viene ereditato dall'interfaccia INamedRequestHandler.</span><span class="sxs-lookup"><span data-stu-id="e22bb-215">The handler is inherited from INamedRequestHandler interface.</span></span> <span data-ttu-id="e22bb-216">Metodo HandlerName è responsabile della restituzione del nome del gestore, deve corrispondere al nome del connettore fiscale specificato nella sede centrale.</span><span class="sxs-lookup"><span data-stu-id="e22bb-216">Method HandlerName is responsible for returning the name of the handler, it should match the fiscal connector name specified in HQ.</span></span>

<span data-ttu-id="e22bb-217">Il connettore supporta le seguenti richieste:</span><span class="sxs-lookup"><span data-stu-id="e22bb-217">The connector supports the following requests:</span></span>
- <span data-ttu-id="e22bb-218">SubmitDocumentFiscalDeviceRequest - invia il documento alle stampanti e restituisce la risposta dalla stampante fiscale.</span><span class="sxs-lookup"><span data-stu-id="e22bb-218">SubmitDocumentFiscalDeviceRequest - Sends document to printers and returns response from the fiscal printer.</span></span>
- <span data-ttu-id="e22bb-219">IsReadyFiscalDeviceRequest - Utilizzato per un controllo di integrità del dispositivo.</span><span class="sxs-lookup"><span data-stu-id="e22bb-219">IsReadyFiscalDeviceRequest - Used for a health check of the device.</span></span>
- <span data-ttu-id="e22bb-220">InitializeFiscalDeviceRequest - utilizzato per l'inizializzazione della stampante.</span><span class="sxs-lookup"><span data-stu-id="e22bb-220">InitializeFiscalDeviceRequest - Used for printer initialization.</span></span>


### <a name="configuration"></a><span data-ttu-id="e22bb-221">Configurazione</span><span class="sxs-lookup"><span data-stu-id="e22bb-221">Configuration</span></span>
<span data-ttu-id="e22bb-222">Il file di configurazione si trova nella cartella **Configuration** del Progetto di estensione.</span><span class="sxs-lookup"><span data-stu-id="e22bb-222">The configuration file is found in **Configuration** folder of the extension project.</span></span> <span data-ttu-id="e22bb-223">Lo scopo del file è di consentire di configurare le impostazioni per il fornitore di connettore dalla sede centrale.</span><span class="sxs-lookup"><span data-stu-id="e22bb-223">The purpose of the file is to allow to configure settings for the connector provider from the HQ.</span></span> <span data-ttu-id="e22bb-224">Il formato di file si allinea ai requisiti di configurazione dell'integrazione fiscale.</span><span class="sxs-lookup"><span data-stu-id="e22bb-224">The file format aligned fiscal Integration configuration requirements.</span></span> <span data-ttu-id="e22bb-225">Sono stati aggiunte i seguenti impostazioni:</span><span class="sxs-lookup"><span data-stu-id="e22bb-225">The following settings have been added:</span></span>
- <span data-ttu-id="e22bb-226">Indirizzo endpoint - URL della stampante.</span><span class="sxs-lookup"><span data-stu-id="e22bb-226">Endpoint address - URL of the printer.</span></span>
- <span data-ttu-id="e22bb-227">Sincronizzazione data e ora - indica se è necessaria la sincronizzazione di data e ora della stampante con la stazione hardware collegata.</span><span class="sxs-lookup"><span data-stu-id="e22bb-227">Date and time synchronization - This indicates if you need to the sync date and time of the printer with the connected hardware station.</span></span> <span data-ttu-id="e22bb-228">La data e l'ora della stampante verranno sincronizzate con l'orario della stazione hardware.</span><span class="sxs-lookup"><span data-stu-id="e22bb-228">The date and time of the printer will be synchronized with the Hardware station time.</span></span>

