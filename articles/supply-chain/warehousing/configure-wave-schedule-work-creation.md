---
title: Pianificare la creazione del lavoro nel corso del ciclo
description: Questo argomento descrive come configurare e utilizzare il metodo di elaborazione del ciclo Pianifica creazione lavoro.
author: perlynne
ms.date: 01/14/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: WHSPostMethod, WHSWavePostMethodTaskConfig, WHSWaveTemplateTable, WHSParameters, WHSWaveTableListPage, WHSWorkTableListPage, WHSWorkTable, BatchJobEnhanced, WHSPlannedWorkOrder
audience: Application User
ms.reviewer: ''
ms.search.scope: Core, Operations
ms.search.region: Global
ms.author: kamaybac
ms.search.validFrom: 2021-01-14
ms.dyn365.ops.version: 10.0.17
ms.openlocfilehash: e4258c03b12a80a5bd81328ae7418835d68f82e7
ms.sourcegitcommit: 0e8db169c3f90bd750826af76709ef5d621fd377
ms.translationtype: HT
ms.contentlocale: it-IT
ms.lasthandoff: 04/01/2021
ms.locfileid: "5835704"
---
# <a name="schedule-work-creation-during-wave"></a><span data-ttu-id="5c938-103">Pianificare la creazione del lavoro nel corso del ciclo</span><span class="sxs-lookup"><span data-stu-id="5c938-103">Schedule work creation during wave</span></span>

[!include [banner](../../includes/banner.md)]

<span data-ttu-id="5c938-104">Utilizza la funzionalità *Pianifica creazione lavoro* come parte del processo di creazione dei cicli per aumentare la velocità di elaborazione dei cicli facendo in modo che il sistema crei il lavoro utilizzando l'elaborazione parallela.</span><span class="sxs-lookup"><span data-stu-id="5c938-104">Use the *Schedule work creation* feature as part of your waving process to help increase wave processing throughput by having the system create work using parallel processing.</span></span>

<span data-ttu-id="5c938-105">Quando la funzionalità è abilitata, viene automaticamente creato il lavoro pianificato, che il sistema elaborerà in seguito per creare il lavoro effettivo.</span><span class="sxs-lookup"><span data-stu-id="5c938-105">When the functionality is enabled, planned work will automatically get created, which the system will eventually process to create actual work.</span></span> <span data-ttu-id="5c938-106">Se il numero di righe di carico del ciclo raggiunge una soglia predeterminata, il sistema creerà il lavoro effettivo più rapidamente applicando l'elaborazione parallela e asincrona.</span><span class="sxs-lookup"><span data-stu-id="5c938-106">If the number of wave load lines reaches a predetermined threshold, the system will create actual work more quickly by applying parallel, asynchronous processing.</span></span>

## <a name="turn-on-the-scheduled-work-creation-features-in-feature-management"></a><span data-ttu-id="5c938-107">Attivare le funzionalità di creazione del lavoro programmato nella gestione delle funzionalità</span><span class="sxs-lookup"><span data-stu-id="5c938-107">Turn on the scheduled work creation features in feature management</span></span>

<span data-ttu-id="5c938-108">Per utilizzare le funzionalità descritte in questo argomento, è necessario attivarle per il sistema.</span><span class="sxs-lookup"><span data-stu-id="5c938-108">To use the features described in this topic, they must be turned on for your system.</span></span> <span data-ttu-id="5c938-109">Usa l'area di lavoro [Gestione funzionalità](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md) per attivare le seguenti funzionalità nel seguente ordine:</span><span class="sxs-lookup"><span data-stu-id="5c938-109">Use [Feature management](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md) workspace to turn on the following features in the following order:</span></span>

1. <span data-ttu-id="5c938-110">**Blocco del lavoro a livello di organizzazione** - Necessario per la configurazione sia manuale che automatica della creazione del lavoro programmato.</span><span class="sxs-lookup"><span data-stu-id="5c938-110">**Organization-wide work blocking** - Required for both manual and automatic configuration of scheduled work creation.</span></span>
1. <span data-ttu-id="5c938-111">**Programma creazione lavoro** - Necessario per la configurazione sia manuale che automatica della creazione del lavoro programmato.</span><span class="sxs-lookup"><span data-stu-id="5c938-111">**Schedule work creation** - Required for both manual and automatic configuration of scheduled work creation.</span></span>
1. <span data-ttu-id="5c938-112">**Metodo ciclo "Programma creazione lavoro" a livello di organizzazione** - Necessario per la configurazione sia manuale che automatica della creazione del lavoro programmato.</span><span class="sxs-lookup"><span data-stu-id="5c938-112">**Organization-wide "Schedule work creation" wave method** - Required for automatic configuration of scheduled work creation.</span></span> <span data-ttu-id="5c938-113">Non hai bisogno di questa funzione se utilizzi solo la configurazione manuale.</span><span class="sxs-lookup"><span data-stu-id="5c938-113">You don't need this feature if you will only use manual configuration.</span></span>

<a name="Auto-enable-schedule-work-creation"></a>

## <a name="automatically-configure-scheduled-work-creation"></a><span data-ttu-id="5c938-114">Configurare automaticamente la creazione del lavoro programmato</span><span class="sxs-lookup"><span data-stu-id="5c938-114">Automatically configure scheduled work creation</span></span>

<span data-ttu-id="5c938-115">Se abiliti la funzionalità *Metodo ciclo "Programma creazione lavoro" a livello di organizzazione*, sul sistema si verifica automaticamente quanto segue:</span><span class="sxs-lookup"><span data-stu-id="5c938-115">If you enable the *Organization-wide "Schedule work creation" wave method* feature, the following automatically occurs on your system:</span></span>

- <span data-ttu-id="5c938-116">Il metodo ciclo *Programma creazione lavoro* (`WHSScheduleWorkCreationWaveStepMethod`) viene aggiunto e configurato per essere eseguito in parallelo tra tutte le persone giuridiche.</span><span class="sxs-lookup"><span data-stu-id="5c938-116">The *Schedule work creation* wave method (`WHSScheduleWorkCreationWaveStepMethod`) is added and configured to run in parallel across all legal entities.</span></span>
- <span data-ttu-id="5c938-117">I modelli ciclo di tutte le persone giuridiche che hanno **Tipo di modello ciclo** impostato su *Spedizione* e **Stato modello** impostato su *Valido* avrà il metodo *Crea lavoro* sostituito dal metodo *Programma creazione lavoro*.</span><span class="sxs-lookup"><span data-stu-id="5c938-117">Wave templates from all legal entities that have **Wave template type** set to *Shipping* and **Template status** set to *Valid* will have the *Create work* method replaced by the *Schedule work creation* method.</span></span> <span data-ttu-id="5c938-118">Tuttavia, i modelli ciclo delle persone giuridiche in cui il metodo *Crea lavoro* può essere ripetibile non verranno modificati.</span><span class="sxs-lookup"><span data-stu-id="5c938-118">However, wave templates from legal entities where the *Create work* method is allowed to be repeatable will not be modified.</span></span>
- <span data-ttu-id="5c938-119">Le configurazioni delle attività per il metodo *Programma creazione lavoro* verranno create per tutti i magazzini di tutte le persone giuridiche che hanno **Usa processi di gestione magazzino** abilitato.</span><span class="sxs-lookup"><span data-stu-id="5c938-119">Task configurations for the *Schedule work creation* method will be created for all warehouses from all legal entities that have **Use warehouse management processes** enabled.</span></span> <span data-ttu-id="5c938-120">Ciò significa che il metodo *Programma creazione lavoro* verrà ora eseguito in parallelo per impostazione predefinita.</span><span class="sxs-lookup"><span data-stu-id="5c938-120">This means that the *Schedule work creation* method will now run in parallel by default.</span></span> <span data-ttu-id="5c938-121">Anche i magazzini esistenti per i quali cambi **Usa processi di gestione magazzino** da *No* a *Sì* eseguiranno questo metodo in parallelo per impostazione predefinita.</span><span class="sxs-lookup"><span data-stu-id="5c938-121">Existing warehouses for which you change **Use warehouse management processes** from *No* to *Yes* will also run this method in parallel by default.</span></span>
- <span data-ttu-id="5c938-122">Tutte le persone giuridiche elaboreranno i cicli in batch e **Attesa blocco (ms)** verrà impostato sul valore predefinito di *60.000* ms se era precedentemente impostato su *0* ms.</span><span class="sxs-lookup"><span data-stu-id="5c938-122">All legal entities will process waves in batches and **Wait for lock (ms)** will be set to a default value of *60,000* ms if it was previously set to *0* ms.</span></span>
- <span data-ttu-id="5c938-123">Tutti i nuovi modelli ciclo che crei avranno il metodo ciclo *Programma creazione lavoro* invece del metodo *Crea lavoro*.</span><span class="sxs-lookup"><span data-stu-id="5c938-123">All the new wave templates that you create will have the *Schedule work creation* wave method instead of the *Create Work* method.</span></span>

<span data-ttu-id="5c938-124">Le configurazioni esistenti di elaborazione delle attività e dei cicli verranno mantenute anche per tutte le persone giuridiche che sono già configurate per elaborare i cicli in batch e per tutti i magazzini che sono già configurati per utilizzare il metodo *Programma creazione lavoro* in parallelo.</span><span class="sxs-lookup"><span data-stu-id="5c938-124">The existing task and wave processing configurations will also be kept for all legal entities that are already configured to process waves in batches, and for all warehouses that are already configured to use the *Schedule work creation* method in parallel.</span></span>

<span data-ttu-id="5c938-125">Se necessario, puoi ripristinare manualmente alcune o tutte le impostazioni effettuate automaticamente quando hai abilitato la funzionalità *Metodo ciclo "Programma creazione lavoro" a livello di organizzazione* effettuando le seguenti operazioni:</span><span class="sxs-lookup"><span data-stu-id="5c938-125">If necessary, you can manually revert any or all of the settings made automatically when you enabled the *Organization-wide Schedule work creation wave method* feature by doing the following:</span></span>

- <span data-ttu-id="5c938-126">Per i modelli ciclo, vai a **Gestione magazzino \> Impostazioni \> Ondate \> Modelli ondata**.</span><span class="sxs-lookup"><span data-stu-id="5c938-126">For wave templates, go to **Warehouse management \> Setup \> Waves \> Wave templates**.</span></span> <span data-ttu-id="5c938-127">Sostituisci il metodo *Programma creazione lavoro* con *Crea lavoro*.</span><span class="sxs-lookup"><span data-stu-id="5c938-127">Replace *Schedule work creation* method with *Create work*.</span></span>
- <span data-ttu-id="5c938-128">Per i parametri di magazzino, vai a **Gestione magazzino\> Impostazioni \> Parametri di gestione magazzino**.</span><span class="sxs-lookup"><span data-stu-id="5c938-128">For warehouse parameters, go to **Warehouse management \> Setup \> Warehouse management parameters**.</span></span> <span data-ttu-id="5c938-129">Nella scheda **Elaborazione ciclo** applica i tuoi valori preferiti per **Elabora cicli in batch** e **Attesa blocco (ms)**.</span><span class="sxs-lookup"><span data-stu-id="5c938-129">On the **Wave processing** tab, apply your preferred values for **Process waves in batch** and **Wait for lock (ms)**.</span></span>
- <span data-ttu-id="5c938-130">Per i metodi ciclo, vai a **Gestione magazzino \> Impostazione \> Cicli \> Metodi di elaborazione ciclo**.</span><span class="sxs-lookup"><span data-stu-id="5c938-130">For the wave methods, go to **Warehouse management \> Setup \> Waves \> Wave process methods**.</span></span> <span data-ttu-id="5c938-131">Seleziona `WHSScheduleWorkCreationWaveStepMethod` e nel riquadro azioni seleziona **Configurazione attività**.</span><span class="sxs-lookup"><span data-stu-id="5c938-131">Select `WHSScheduleWorkCreationWaveStepMethod` and, on the Action Pane, select **Task configuration**.</span></span> <span data-ttu-id="5c938-132">Modifica o elimina il numero di attività batch e il gruppo di cicli assegnato per ogni magazzino elencato in base alle esigenze.</span><span class="sxs-lookup"><span data-stu-id="5c938-132">Modify or delete the number of batch tasks and the assigned wave group for each listed warehouse as needed.</span></span>

## <a name="manually-configure-scheduled-work-creation"></a><span data-ttu-id="5c938-133">Configurare manualmente la creazione del lavoro programmato</span><span class="sxs-lookup"><span data-stu-id="5c938-133">Manually configure scheduled work creation</span></span>

<span data-ttu-id="5c938-134">Se non hai abilitato la funzionalità [*Metodo ciclo "Programma creazione lavoro" a livello di organizzazione*](#Auto-enable-schedule-work-creation), puoi utilizzare le procedure fornite in questa sezione per configurare manualmente la creazione del lavoro programmato secondo le necessità.</span><span class="sxs-lookup"><span data-stu-id="5c938-134">If you didn't enable the [*Organization-wide "Schedule work creation" wave method* feature](#Auto-enable-schedule-work-creation), then you can use the procedures provided in this section to manually configure scheduled work creation as needed.</span></span>

### <a name="manually-enable-batch-processing-of-waves"></a><span data-ttu-id="5c938-135">Abilitare manualmente l'elaborazione in batch dei cicli</span><span class="sxs-lookup"><span data-stu-id="5c938-135">Manually enable batch processing of waves</span></span>

<span data-ttu-id="5c938-136">Per sfruttare un metodo asincrono parallelo per creare il lavoro di magazzino, il processo di ciclo deve essere eseguito in batch.</span><span class="sxs-lookup"><span data-stu-id="5c938-136">To take advantage of a parallel asynchronous method to create warehouse work, your wave process must be running in batch.</span></span> <span data-ttu-id="5c938-137">Per configurarlo:</span><span class="sxs-lookup"><span data-stu-id="5c938-137">To set this up:</span></span>

1. <span data-ttu-id="5c938-138">Andare a  **Gestione magazzino\>Imposta \> Parametri di gestione magazzino**.</span><span class="sxs-lookup"><span data-stu-id="5c938-138">Go to **Warehouse management \> Setup \> Warehouse management parameters**.</span></span>
1. <span data-ttu-id="5c938-139">Nella scheda **Generale**, imposta **Elabora cicli in batch** su *Sì*.</span><span class="sxs-lookup"><span data-stu-id="5c938-139">On the **General** tab, set **Process waves in batch** to *Yes*.</span></span> <span data-ttu-id="5c938-140">Facoltativamente, puoi anche selezionare un **Gruppo batch elaborazione ondata** per impedire che l'elaborazione della coda batch venga eseguita contemporaneamente ad altri processi.</span><span class="sxs-lookup"><span data-stu-id="5c938-140">Optionally, you can also select a dedicated **Wave processing batch group** to prevent your batch queue processing from running at the same time as other processes.</span></span>
1. <span data-ttu-id="5c938-141">Imposta il **Tempo di attesa per il blocco (ms)**, che si applica quando il sistema elabora più ondate contemporaneamente.</span><span class="sxs-lookup"><span data-stu-id="5c938-141">Set the **Wait for lock (ms) time**, which applies when the system is processing several waves at the same time.</span></span> <span data-ttu-id="5c938-142">Per la maggior parte dei processi di ondata più grandi, è consigliabile impostare un valore pari a *60000*.</span><span class="sxs-lookup"><span data-stu-id="5c938-142">For most larger waving processes, we recommend a value of *60000*.</span></span>

### <a name="manually-enable-the-new-wave-step-method-for-existing-wave-templates"></a><span data-ttu-id="5c938-143">Abilitare manualmente il nuovo metodo del passaggio ondata per i modelli di ondata esistenti</span><span class="sxs-lookup"><span data-stu-id="5c938-143">Manually enable the new wave step method for existing wave templates</span></span>

<span data-ttu-id="5c938-144">Inizia creando il nuovo metodo di passaggio di ondata e abilitandolo per l'elaborazione parallela di attività asincrone.</span><span class="sxs-lookup"><span data-stu-id="5c938-144">Start by creating the new wave step method and enabling it for parallel asynchronous task processing.</span></span>

1. <span data-ttu-id="5c938-145">Andare a  **Gestione magazzino \> Imposta \> Ondate \> Metodi di elaborazione ondata**.</span><span class="sxs-lookup"><span data-stu-id="5c938-145">Go to **Warehouse management \> Setup \> Waves \> Wave process methods**.</span></span>
1. <span data-ttu-id="5c938-146">Selezionare  **Rigenera metodo** e notare come *WHSScheduleWorkCreationWaveStepMethod* sia stato aggiunto all'elenco dei metodi di elaborazione ondata che puoi utilizzare nei modelli di ondate di spedizione.</span><span class="sxs-lookup"><span data-stu-id="5c938-146">Select  **Regenerate method** and note that *WHSScheduleWorkCreationWaveStepMethod* has been added to the list of wave process methods you can use in your shipping wave templates.</span></span>
1. <span data-ttu-id="5c938-147">Selezionare il record con il **Nome metodo** *WHSScheduleWorkCreationWaveStepMethod* e selezionare **Configurazione attività**.</span><span class="sxs-lookup"><span data-stu-id="5c938-147">Select the record with the **Method name** *WHSScheduleWorkCreationWaveStepMethod* and select **Task configuration**.</span></span>
1. <span data-ttu-id="5c938-148">Per aggiungere una nuova riga alla griglia, selezionare **Nuovo** nel riquadro azioni e utilizzare le impostazioni seguenti:</span><span class="sxs-lookup"><span data-stu-id="5c938-148">To add a new row to the grid, select **New** on the Action Pane and use the following settings:</span></span>

    - <span data-ttu-id="5c938-149">**Magazzino**: seleziona il magazzino che utilizzerai per l'elaborazione di Pianifica creazione lavoro.</span><span class="sxs-lookup"><span data-stu-id="5c938-149">**Warehouse** - Select the warehouse you will use to schedule work creation processing.</span></span>
    - <span data-ttu-id="5c938-150">**Numero massimo di attività batch**: specifica un numero massimo di attività batch.</span><span class="sxs-lookup"><span data-stu-id="5c938-150">**Maximum number of batch tasks** - Specify a maximum number of batch tasks.</span></span> <span data-ttu-id="5c938-151">Nella maggior parte dei casi, questo valore dovrebbe essere compreso tra 8 e 16, tuttavia è consigliabile sperimentare l'impostazione ottimale in base ai tuoi scenari.</span><span class="sxs-lookup"><span data-stu-id="5c938-151">In most cases, this value should be in the range from 8-16, however we recommend that you experiment with the optimal setting based on your scenarios.</span></span>
    - <span data-ttu-id="5c938-152">**Gruppo batch elaborazione ondata**: selezionare un gruppo batch di elaborazione ondata dedicato per ottimizzare l'elaborazione della coda batch.</span><span class="sxs-lookup"><span data-stu-id="5c938-152">**Wave processing batch group** - Select a dedicated wave processing batch group to optimize your batch queue processing.</span></span>

<span data-ttu-id="5c938-153">Ora sei pronto per aggiornare un modello di ondata esistente (o crearne uno nuovo) per il metodo di elaborazione ondata *Pianifica creazione lavoro*.</span><span class="sxs-lookup"><span data-stu-id="5c938-153">Now you are ready to update an existing wave template (or create a new one) to use the *Schedule work creation* wave processing method.</span></span>

1. <span data-ttu-id="5c938-154">Passare a  **Gestione magazzino \> Imposta \> Ondate \> Modelli ondata**.</span><span class="sxs-lookup"><span data-stu-id="5c938-154">Go to **Warehouse management \> Setup \> Waves \> Wave templates**.</span></span>
1. <span data-ttu-id="5c938-155">Selezionare **Modifica** nel riquadro azioni.</span><span class="sxs-lookup"><span data-stu-id="5c938-155">Select **Edit** on the Action Pane.</span></span>
1. <span data-ttu-id="5c938-156">Nel riquadro dell'elenco, seleziona il modello di ondata che desideri aggiornare (se stai testando utilizzando i dati demo, puoi usare *Spedizione predefinita 24*).</span><span class="sxs-lookup"><span data-stu-id="5c938-156">In the list pane, select the wave template you would like to update (if you are testing using demo data, then you could use *24 Shipping default*).</span></span>
1. <span data-ttu-id="5c938-157">Espandi la Scheda dettaglio **Metodi** e seleziona la riga con il **Nome** *Pianifica creazione lavoro* nella griglia **Metodi rimanenti**.</span><span class="sxs-lookup"><span data-stu-id="5c938-157">Expand the **Methods** FastTab and select the row with the **Name** *Schedule work creation* in the **Remaining methods** grid.</span></span>
1. <span data-ttu-id="5c938-158">Seleziona la freccia che punta alla colonna **Metodi selezionati** per spostare la riga selezionata in quella colonna.</span><span class="sxs-lookup"><span data-stu-id="5c938-158">Select the arrow pointing to the **Selected methods** column to move the selected row to that column.</span></span> <span data-ttu-id="5c938-159">Puoi avere solo un metodo selezionato alla volta che utilizza `WHSScheduleWorkCreationWaveStepMethod` o `createWork`, quindi la riga esistente con **Nome del metodo** `createWork` viene automaticamente spostata nella griglia **Metodi rimanenti**.</span><span class="sxs-lookup"><span data-stu-id="5c938-159">(You can only have one selected method at a time that uses either `WHSScheduleWorkCreationWaveStepMethod` or `createWork`, so the existing row with **Method name** `createWork` is automatically moved to the **Remaining methods** grid.)</span></span>

## <a name="set-wave-task-processing-threshold-data"></a><span data-ttu-id="5c938-160">Impostare i dati della soglia di elaborazione dell'attività di ondata</span><span class="sxs-lookup"><span data-stu-id="5c938-160">Set wave task processing threshold data</span></span>

<span data-ttu-id="5c938-161">Il sistema creerà i dati della soglia di elaborazione dell'attività di ondata predefinita la prima volta che un processo di ondata viene eseguito utilizzando un'elaborazione basata su attività.</span><span class="sxs-lookup"><span data-stu-id="5c938-161">The system will create default wave task processing threshold data the first time a wave process runs using any task-based processing.</span></span> <span data-ttu-id="5c938-162">I dati vengono utilizzati per controllare quando l'elaborazione di ondata verrà eseguita in modo asincrono e sarà basata su attività, il che consente di elaborare e creare lavoro in parallelo.</span><span class="sxs-lookup"><span data-stu-id="5c938-162">The data is used to control when wave processing will run asynchronously and be task-based, which enables it to process and create work in parallel.</span></span>

<span data-ttu-id="5c938-163">I dati predefiniti utilizzeranno inizialmente un valore di soglia di 15 per il numero minimo di righe di carico (`MINIMUMWAVELOADLINES`).</span><span class="sxs-lookup"><span data-stu-id="5c938-163">The default data will initially use a threshold value of 15 for the minimum number of load lines (`MINIMUMWAVELOADLINES`).</span></span> <span data-ttu-id="5c938-164">Ciò significa che quando il sistema elabora un'ondata con più di 15 righe di carico, utilizzerà l'elaborazione delle attività asincrone.</span><span class="sxs-lookup"><span data-stu-id="5c938-164">This means that when the system processes a wave with more than 15 loads lines, it will use asynchronous task processing.</span></span> <span data-ttu-id="5c938-165">Puoi inserire/aggiornare manualmente questi dati nella tabela `WHSWaveTaskProcessingThresholdParameters` negli ambienti di test.</span><span class="sxs-lookup"><span data-stu-id="5c938-165">You can manually insert/update this data in the `WHSWaveTaskProcessingThresholdParameters` table in your test environments.</span></span> <span data-ttu-id="5c938-166">Se è necessario modificare questa impostazione in un ambiente di produzione, devi contattare il supporto Microsoft per richiedere l'aggiornamento.</span><span class="sxs-lookup"><span data-stu-id="5c938-166">If you need to change this setting in a production environment, you must contact Microsoft Support to request the update.</span></span>

## <a name="work-with-the-scheduled-work-creation"></a><span data-ttu-id="5c938-167">Lavorare con la creazione del lavoro programmato</span><span class="sxs-lookup"><span data-stu-id="5c938-167">Work with the scheduled work creation</span></span>

<span data-ttu-id="5c938-168">Per i dettagli su come lavorare con la creazione del lavoro programmato, vedi [Creazione ed elaborazione dei cicli](wave-processing.md).</span><span class="sxs-lookup"><span data-stu-id="5c938-168">For details about how to work with scheduled work creation, see [Wave creation and processing](wave-processing.md).</span></span> 


[!INCLUDE[footer-include](../../includes/footer-banner.md)]
