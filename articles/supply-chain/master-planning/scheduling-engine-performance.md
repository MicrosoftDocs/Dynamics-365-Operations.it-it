---
title: Migliorare le prestazioni del motore di pianificazione
description: In questo argomento vengono fornite informazioni sul motore di pianificazione e su come migliorarne le prestazioni.
author: ChristianRytt
ms.date: 09/03/2020
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ''
audience: Application User
ms.reviewer: kamaybac
ms.custom: 19311
ms.assetid: 5ffb1486-2e08-4cdc-bd34-b47ae795ef0f
ms.search.region: Global
ms.search.industry: ''
ms.author: kamaybac
ms.search.validFrom: 2020-09-03
ms.dyn365.ops.version: ''
ms.openlocfilehash: d1378ae652ea70cba941316f4667052dcb05f717
ms.sourcegitcommit: 0e8db169c3f90bd750826af76709ef5d621fd377
ms.translationtype: HT
ms.contentlocale: it-IT
ms.lasthandoff: 04/01/2021
ms.locfileid: "5812910"
---
# <a name="improve-scheduling-engine-performance"></a><span data-ttu-id="3a88c-103">Migliorare le prestazioni del motore di pianificazione</span><span class="sxs-lookup"><span data-stu-id="3a88c-103">Improve scheduling engine performance</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="3a88c-104">Il motore di pianificazione delle risorse viene utilizzato quando si pianificano cicli di lavorazione per ordini di produzione pianificati e rilasciati.</span><span class="sxs-lookup"><span data-stu-id="3a88c-104">The resource scheduling engine is used when scheduling routes for planned and released production orders.</span></span> <span data-ttu-id="3a88c-105">Il motore è stato originariamente rilasciato come parte di Dynamics AX 2012 e ha subito diversi miglioramenti da allora.</span><span class="sxs-lookup"><span data-stu-id="3a88c-105">The engine was originally released as part of Dynamics AX 2012 and has gone through several improvements since its release.</span></span>

<span data-ttu-id="3a88c-106">Il [problema di pianificazione in officina](https://en.wikipedia.org/wiki/Job_shop_scheduling) è un problema combinatorio estremamente complesso in cui il tempo di soluzione cresce esponenzialmente con il numero di variabili decisionali.</span><span class="sxs-lookup"><span data-stu-id="3a88c-106">The [job shop scheduling problem](https://en.wikipedia.org/wiki/Job_shop_scheduling) is an extremely complex combinatorial problem where solution time grows exponentially with the number of decision variables.</span></span> <span data-ttu-id="3a88c-107">Spesso, i clienti impostano cicli di produzione e dati correlati in modo tale da creare un problema di pianificazione che non può essere risolto in tempi ragionevoli anche con l'hardware più moderno.</span><span class="sxs-lookup"><span data-stu-id="3a88c-107">Oftentimes, customers set up production routes and related data in a way that results in a scheduling problem that can't be solved in reasonable time even on the most modern hardware.</span></span> <span data-ttu-id="3a88c-108">Questo argomento ti aiuterà a comprendere il motore di pianificazione e il modo in cui una configurazione specifica può influire sulle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="3a88c-108">This topic will help you understand the scheduling engine and how a specific setup can have influence on the performance.</span></span>

<span data-ttu-id="3a88c-109">Quando si tratta di migliorare le prestazioni della pianificazione, le linee guida generali raccomandano di ridurre la complessità del problema che il motore deve risolvere.</span><span class="sxs-lookup"><span data-stu-id="3a88c-109">When it comes to improving the performance of the scheduling, general guidelines recommend reducing the complexity of the problem the engine needs to solve.</span></span> <span data-ttu-id="3a88c-110">Alcuni dei principali fattori che possono influire sulle prestazioni sono:</span><span class="sxs-lookup"><span data-stu-id="3a88c-110">Some of the main factors that can affect performance include:</span></span>

- <span data-ttu-id="3a88c-111">Cicli di lavorazione con molte operazioni</span><span class="sxs-lookup"><span data-stu-id="3a88c-111">Routes with many operations</span></span>
- <span data-ttu-id="3a88c-112">Cicli di lavorazione con operazioni parallele</span><span class="sxs-lookup"><span data-stu-id="3a88c-112">Routes with parallel operations</span></span>
- <span data-ttu-id="3a88c-113">Operazioni con una quantità di risorse superiore a uno</span><span class="sxs-lookup"><span data-stu-id="3a88c-113">Operations with quantity of resources higher than one</span></span>
- <span data-ttu-id="3a88c-114">Operazioni con molte risorse applicabili</span><span class="sxs-lookup"><span data-stu-id="3a88c-114">Operations with many applicable resources</span></span>
- <span data-ttu-id="3a88c-115">Uso di collegamenti rigidi</span><span class="sxs-lookup"><span data-stu-id="3a88c-115">Use of hard links</span></span>
- <span data-ttu-id="3a88c-116">Uso di una capacità limitata</span><span class="sxs-lookup"><span data-stu-id="3a88c-116">Use of finite capacity</span></span>
- <span data-ttu-id="3a88c-117">Il numero di differenti calendari utilizzati</span><span class="sxs-lookup"><span data-stu-id="3a88c-117">The number of different calendars used</span></span>
- <span data-ttu-id="3a88c-118">Il numero di fasce orarie di lavoro giornaliere nel calendario</span><span class="sxs-lookup"><span data-stu-id="3a88c-118">The number of working time slots per day in the calendar</span></span>
- <span data-ttu-id="3a88c-119">La durata totale del ciclo di lavorazione</span><span class="sxs-lookup"><span data-stu-id="3a88c-119">Total duration of the route</span></span>
- <span data-ttu-id="3a88c-120">Esecuzione di più motori di pianificazione in parallelo</span><span class="sxs-lookup"><span data-stu-id="3a88c-120">Running multiple scheduling engines in parallel</span></span>

## <a name="overview-of-basic-scheduling-flow"></a><span data-ttu-id="3a88c-121">Panoramica del flusso di pianificazione di base</span><span class="sxs-lookup"><span data-stu-id="3a88c-121">Overview of basic scheduling flow</span></span>

<span data-ttu-id="3a88c-122">Per comprendere come una determinata configurazione può influenzare le prestazioni, è importante capire lo svolgimento del processo, sia all'interno del motore che nel codice X++ circostante.</span><span class="sxs-lookup"><span data-stu-id="3a88c-122">To understand how a given setup can affect performance, it is important to understand something about how the process flows, both inside the engine and in the X++ code that surrounds it.</span></span>

<span data-ttu-id="3a88c-123">Il processo di base della pianificazione di un ordine comporta tre passaggi principali:</span><span class="sxs-lookup"><span data-stu-id="3a88c-123">The basic process of scheduling an order consists of three main steps:</span></span>

- <span data-ttu-id="3a88c-124">**Caricamento dei dati** - I modelli di dati X++ vengono trasformati nel modello di dati interno del motore sotto forma di processi e vincoli.</span><span class="sxs-lookup"><span data-stu-id="3a88c-124">**Loading data** – Here, the X++ data models are transformed into the engine's internal data model in the form of jobs and constraints.</span></span>
- <span data-ttu-id="3a88c-125">**Pianificazione** - È l'origine principale della pianificazione che elabora il modello e i vincoli dati e genera un risultato.</span><span class="sxs-lookup"><span data-stu-id="3a88c-125">**Scheduling** – This is the main source for scheduling that processes the given model and constraints, and generates a result.</span></span> <span data-ttu-id="3a88c-126">Durante questo processo, il motore richiederà informazioni sull'orario di lavoro e le prenotazioni della capacità esistenti in X++ come necessario.</span><span class="sxs-lookup"><span data-stu-id="3a88c-126">During this process, the engine will request working time information and existing capacity reservations from X++ as needed.</span></span>
- <span data-ttu-id="3a88c-127">**Salvataggio dei dati** - Il risultato del motore sotto forma di slot di prenotazione della capacità dei processi viene elaborato mediante il codice X++ per salvare le prenotazioni della capacità e aggiornare l'ora di inizio e di fine di processi/operazione/ordine.</span><span class="sxs-lookup"><span data-stu-id="3a88c-127">**Save data** – The engine result in the form of job capacity reservation slots is processed by X++ code to save capacity reservations and update the start and end times of the jobs/operation/order.</span></span>

## <a name="load-data-into-the-engine"></a><span data-ttu-id="3a88c-128">Caricare i dati nel motore</span><span class="sxs-lookup"><span data-stu-id="3a88c-128">Load data into the engine</span></span>

<span data-ttu-id="3a88c-129">Il motore di pianificazione ha un modello di dati più astratto rispetto al database di Supply Chain Management perché è stato creato come motore generico in grado di gestire diverse origini di dati.</span><span class="sxs-lookup"><span data-stu-id="3a88c-129">The scheduling engine has a more abstract data model than the Supply Chain Management database because it has been built as a generic engine that can handle different sources of data.</span></span> <span data-ttu-id="3a88c-130">I concetti di ciclo di lavorazione, operazioni secondarie e tempo di esecuzione devono essere "tradotti" nel modello di processo e vincolo generico che il motore espone.</span><span class="sxs-lookup"><span data-stu-id="3a88c-130">The concepts of route, secondary operations, and run time need to be "translated" into the generic job and constraint model that the engine exposes.</span></span> <span data-ttu-id="3a88c-131">La logica per la creazione del modello include una quantità significativa di logica aziendale ed è diversa a seconda dei dati di origine.</span><span class="sxs-lookup"><span data-stu-id="3a88c-131">The logic for building the model has a significant amount of business logic to it and is different depending on the source data.</span></span> <span data-ttu-id="3a88c-132">La classe X++ responsabile è `WrkCtrScheduler` e ha classi derivate per ordini di produzione pianificati, ordini di produzione rilasciati e previsioni di progetto.</span><span class="sxs-lookup"><span data-stu-id="3a88c-132">The responsible X++ class is `WrkCtrScheduler` and it has derived classes for planned production orders, released production orders, and project forecasts.</span></span>

<span data-ttu-id="3a88c-133">Ad esempio, considera un ciclo di lavorazione nella tabella e nell'immagine seguenti, che sembra relativamente semplice.</span><span class="sxs-lookup"><span data-stu-id="3a88c-133">As an example, consider a route shown in the following table and image, which seems relatively simple.</span></span>

| <span data-ttu-id="3a88c-134">Oper.</span><span class="sxs-lookup"><span data-stu-id="3a88c-134">Oper.</span></span> <span data-ttu-id="3a88c-135">n.</span><span class="sxs-lookup"><span data-stu-id="3a88c-135">No.</span></span> | <span data-ttu-id="3a88c-136">Priorità</span><span class="sxs-lookup"><span data-stu-id="3a88c-136">Priority</span></span> | <span data-ttu-id="3a88c-137">Tempo di attrezzaggio</span><span class="sxs-lookup"><span data-stu-id="3a88c-137">Setup time</span></span> | <span data-ttu-id="3a88c-138">Tempo di esecuzione</span><span class="sxs-lookup"><span data-stu-id="3a88c-138">Run time</span></span> | <span data-ttu-id="3a88c-139">Tempo di attesa dopo</span><span class="sxs-lookup"><span data-stu-id="3a88c-139">Queue time after</span></span> | <span data-ttu-id="3a88c-140">Quantità di risorse</span><span class="sxs-lookup"><span data-stu-id="3a88c-140">Quantity of resources</span></span> | <span data-ttu-id="3a88c-141">Indietro</span><span class="sxs-lookup"><span data-stu-id="3a88c-141">Next</span></span> |
| --- | --- | --- | --- | --- | --- | --- |
| <span data-ttu-id="3a88c-142">10</span><span class="sxs-lookup"><span data-stu-id="3a88c-142">10</span></span> | <span data-ttu-id="3a88c-143">Primaria</span><span class="sxs-lookup"><span data-stu-id="3a88c-143">Primary</span></span> | <span data-ttu-id="3a88c-144">1.00</span><span class="sxs-lookup"><span data-stu-id="3a88c-144">1.00</span></span> | <span data-ttu-id="3a88c-145">2.00</span><span class="sxs-lookup"><span data-stu-id="3a88c-145">2.00</span></span> | | <span data-ttu-id="3a88c-146">1</span><span class="sxs-lookup"><span data-stu-id="3a88c-146">1</span></span> | <span data-ttu-id="3a88c-147">20</span><span class="sxs-lookup"><span data-stu-id="3a88c-147">20</span></span> |
| <span data-ttu-id="3a88c-148">10</span><span class="sxs-lookup"><span data-stu-id="3a88c-148">10</span></span> | <span data-ttu-id="3a88c-149">Secondaria&nbsp;1</span><span class="sxs-lookup"><span data-stu-id="3a88c-149">Secondary&nbsp;1</span></span> | | | | <span data-ttu-id="3a88c-150">1</span><span class="sxs-lookup"><span data-stu-id="3a88c-150">1</span></span> | <span data-ttu-id="3a88c-151">20</span><span class="sxs-lookup"><span data-stu-id="3a88c-151">20</span></span> |
| <span data-ttu-id="3a88c-152">20</span><span class="sxs-lookup"><span data-stu-id="3a88c-152">20</span></span> | <span data-ttu-id="3a88c-153">Primario</span><span class="sxs-lookup"><span data-stu-id="3a88c-153">Primary</span></span> | | <span data-ttu-id="3a88c-154">3.00</span><span class="sxs-lookup"><span data-stu-id="3a88c-154">3.00</span></span> | <span data-ttu-id="3a88c-155">1.00</span><span class="sxs-lookup"><span data-stu-id="3a88c-155">1.00</span></span> | <span data-ttu-id="3a88c-156">3</span><span class="sxs-lookup"><span data-stu-id="3a88c-156">3</span></span> | <span data-ttu-id="3a88c-157">0</span><span class="sxs-lookup"><span data-stu-id="3a88c-157">0</span></span> |

<span data-ttu-id="3a88c-158">![Esempio di diagramma di ciclo di lavorazione](media/scheduling-engine-route.png "Esempio di diagramma di ciclo di lavorazione")</span><span class="sxs-lookup"><span data-stu-id="3a88c-158">![Example rout diagram](media/scheduling-engine-route.png "Example rout diagram")</span></span>

<span data-ttu-id="3a88c-159">Quando inviato al motore, questo ciclo di lavorazione viene suddiviso in otto processi, come mostrato nell'illustrazione seguente (seleziona l'immagine per ingrandirla).</span><span class="sxs-lookup"><span data-stu-id="3a88c-159">When sending this to the engine, it is split out into eight jobs, as shown in the following illustration (select the image to enlarge it).</span></span>

<span data-ttu-id="3a88c-160">[![Processi del motore di pianificazione](media/scheduling-engine-jobs.png "Processi del motore di pianificazione")](media/scheduling-engine-jobs-large.png)</span><span class="sxs-lookup"><span data-stu-id="3a88c-160">[![Scheduling engine jobs](media/scheduling-engine-jobs.png "Scheduling engine jobs")](media/scheduling-engine-jobs-large.png)</span></span>

<span data-ttu-id="3a88c-161">Il collegamento standard tra due processi è `FinishStart`, il che significa che l'ora di fine di un processo deve essere precedente all'ora di inizio di un altro processo.</span><span class="sxs-lookup"><span data-stu-id="3a88c-161">The standard link between two jobs is `FinishStart`, meaning that the end time of one job must be before the start time of another job.</span></span> <span data-ttu-id="3a88c-162">Poiché la configurazione deve essere eseguita dalla stessa risorsa che in seguito eseguirà il processo, ci sono vincoli `OnSameResource` tra gli stessi.</span><span class="sxs-lookup"><span data-stu-id="3a88c-162">Because the setup must be performed by the same resource that will later do the process, there are `OnSameResource` constraints between them.</span></span> <span data-ttu-id="3a88c-163">Tra i processi per l'operazione primaria e secondaria per 10, ci sono collegamenti `StartStart` e `FinishFinish`, il che significa che i processi devono iniziare e finire allo stesso tempo, e ci sono vincoli `NotOnSameResource` , che impediranno l'utilizzo della stessa risorsa per l'operazione primaria e quella secondaria.</span><span class="sxs-lookup"><span data-stu-id="3a88c-163">Between the jobs for primary and secondary operation for 10, there are `StartStart` and `FinishFinish` links, which means that the jobs must both start and end at the same time, and there are `NotOnSameResource` constraints, which will prevent the same resource for primary and secondary.</span></span>

<span data-ttu-id="3a88c-164">Per l'operazione 20, in cui la quantità di risorse è stata impostata su 3, il processo è stato suddiviso in tre processi distinti dove tutti i processi devono essere eseguiti contemporaneamente.</span><span class="sxs-lookup"><span data-stu-id="3a88c-164">For operation 20, where the quantity of resources has been set to 3, the process job has been split into three distinct jobs where all the jobs must run at the exact same time.</span></span>
<span data-ttu-id="3a88c-165">In questo caso, il gruppo di cicli di lavorazione è stato impostato in modo da non riservare capacità per la coda dopo i tempi prestabiliti ed è questo il motivo per cui c'è un solo processo per la coda che segue.</span><span class="sxs-lookup"><span data-stu-id="3a88c-165">In this case, the route group has been set up to not reserve capacity for queue after times, which is why there is only a single job for the queue after.</span></span>

<span data-ttu-id="3a88c-166">Il motore di pianificazione comprende solo la nozione di processo e non quella di operazione.</span><span class="sxs-lookup"><span data-stu-id="3a88c-166">The scheduling engine only understands the concepts of jobs and has no notion of operations.</span></span> <span data-ttu-id="3a88c-167">Ciò significa che quando si esegue la pianificazione delle operazioni, anche le operazioni vengono suddivise in lavori, sebbene questi non vengano mantenuti nel database.</span><span class="sxs-lookup"><span data-stu-id="3a88c-167">This means that when doing operation scheduling, the operations are also split into jobs, although these will not be persisted in the database.</span></span>

<span data-ttu-id="3a88c-168">Per ogni processo, definiremo anche qual è il fabbisogno di capacità del processo (il numero di secondi necessari).</span><span class="sxs-lookup"><span data-stu-id="3a88c-168">For each job, we will also define what the job capacity requirement is (the number of seconds required).</span></span> <span data-ttu-id="3a88c-169">A seconda di come sono stati definiti i fabbisogni delle risorse, per ogni processo possiamo anche inviare un elenco di tutte le potenziali risorse applicabili su cui il processo potrebbe essere eseguito e dei requisiti di capacità per quella specifica risorsa.</span><span class="sxs-lookup"><span data-stu-id="3a88c-169">Depending on how the resource requirements have been defined, we may also, for each job, send a list of all the potential applicable resources that the job could run on and what the capacity requirement is for that specific resource.</span></span> <span data-ttu-id="3a88c-170">Anche se l'elenco di risorse applicabili viene inviato durante la creazione del modello, il motore dovrà comunque garantire che l'assegnazione delle risorse sia effettivamente valida per l'intera durata del processo.</span><span class="sxs-lookup"><span data-stu-id="3a88c-170">Even though the list of applicable resources is sent when building the model, the engine will still need to ensure that the resource assignment is actually valid for the entire job duration.</span></span>

## <a name="scheduling-engine-internals"></a><span data-ttu-id="3a88c-171">Componenti interni del motore di pianificazione</span><span class="sxs-lookup"><span data-stu-id="3a88c-171">Scheduling engine internals</span></span>

### <a name="scheduling-engine-interface"></a><span data-ttu-id="3a88c-172">Interfaccia del motore di pianificazione</span><span class="sxs-lookup"><span data-stu-id="3a88c-172">Scheduling engine interface</span></span>

<span data-ttu-id="3a88c-173">Per avere un'idea del funzionamento interno del motore, è meglio esaminare le funzionalità che espone esternamente.</span><span class="sxs-lookup"><span data-stu-id="3a88c-173">To get an idea of how the engine works internally, it is best to look at the functionality it exposes externally.</span></span> <span data-ttu-id="3a88c-174">In X++, l'interfaccia principale è `WrkCtrSchedulerEngineInterface`.</span><span class="sxs-lookup"><span data-stu-id="3a88c-174">In X++, the main interface is `WrkCtrSchedulerEngineInterface`.</span></span> <span data-ttu-id="3a88c-175">Questa interfaccia comporta i metodi descritti nelle sottosezioni seguenti.</span><span class="sxs-lookup"><span data-stu-id="3a88c-175">It has the methods described in the following subsections.</span></span>

#### <a name="general-engine"></a><span data-ttu-id="3a88c-176">Motore generale</span><span class="sxs-lookup"><span data-stu-id="3a88c-176">General engine</span></span>

| <span data-ttu-id="3a88c-177">**Metodo**</span><span class="sxs-lookup"><span data-stu-id="3a88c-177">**Method**</span></span> | <span data-ttu-id="3a88c-178">**Scopo**</span><span class="sxs-lookup"><span data-stu-id="3a88c-178">**Purpose**</span></span> |
| --- | --- |
| `run` | <span data-ttu-id="3a88c-179">Pianifica tutti i processi caricati e restituisce il codice di errore.</span><span class="sxs-lookup"><span data-stu-id="3a88c-179">Schedules all loaded jobs and returns the error code.</span></span> |
| `getJobSchedulingSequenceResult` | <span data-ttu-id="3a88c-180">Ottiene il risultato della pianificazione e il primo processo di errore per la sequenza identificata da un processo specifico.</span><span class="sxs-lookup"><span data-stu-id="3a88c-180">Gets the scheduling result and the first error job for the sequence identified by a specific job.</span></span> |
| `validateJobCapacityReservations` | <span data-ttu-id="3a88c-181">Convalida le prenotazioni della capacità per tutti i processi archiviati dal motore.</span><span class="sxs-lookup"><span data-stu-id="3a88c-181">Validates the capacity reservations for all the jobs stored by the engine.</span></span> |
| `setReservationsTimeStamp` | <span data-ttu-id="3a88c-182">Invia un timestamp al motore impostato su tutte le nuove prenotazioni della capacità per i lavori pianificati nella cache del motore.</span><span class="sxs-lookup"><span data-stu-id="3a88c-182">Sends a timestamp to the engine set on all new capacity reservations for the scheduled jobs in the cache of the engine.</span></span> |
| `addPropertyToGroupAggregation` | <span data-ttu-id="3a88c-183">Aggiunge un prefisso di proprietà all'insieme di proprietà utilizzate quando la capacità viene aggregata.</span><span class="sxs-lookup"><span data-stu-id="3a88c-183">Adds a property prefix to the set of properties used when capacity is aggregated.</span></span> |
| `addResource` | <span data-ttu-id="3a88c-184">Aggiunge una risorsa al pool di risorse del motore di pianificazione.</span><span class="sxs-lookup"><span data-stu-id="3a88c-184">Adds a resource to the scheduling engine resource pool.</span></span> |
| `addResourceGroup` | <span data-ttu-id="3a88c-185">Aggiunge un gruppo di risorse al pool di gruppi di risorse del motore di pianificazione.</span><span class="sxs-lookup"><span data-stu-id="3a88c-185">Adds a resource group to the scheduling engine resource group pool.</span></span> |
| `addResourceGroupMembership` | <span data-ttu-id="3a88c-186">Aggiunge una risorsa come membro a un gruppo di risorse.</span><span class="sxs-lookup"><span data-stu-id="3a88c-186">Adds a resource as a member to a resource group.</span></span> |
| `addOptimizationGoal` | <span data-ttu-id="3a88c-187">Aggiunge un obiettivo di ottimizzazione della pianificazione (durata o priorità).</span><span class="sxs-lookup"><span data-stu-id="3a88c-187">Adds a scheduling optimization goal (duration or priority).</span></span> |

#### <a name="individual-jobs"></a><span data-ttu-id="3a88c-188">Singoli processi</span><span class="sxs-lookup"><span data-stu-id="3a88c-188">Individual jobs</span></span>

| <span data-ttu-id="3a88c-189">**Metodo**</span><span class="sxs-lookup"><span data-stu-id="3a88c-189">**Method**</span></span> | <span data-ttu-id="3a88c-190">**Scopo**</span><span class="sxs-lookup"><span data-stu-id="3a88c-190">**Purpose**</span></span> |
| --- | --- |
| `addJobInfo` | <span data-ttu-id="3a88c-191">Aggiunge un record di informazioni di processo che informa il motore su un processo che deve essere pianificato.</span><span class="sxs-lookup"><span data-stu-id="3a88c-191">Adds a job information record that informs the engine about a job that should be scheduled.</span></span> |
| `addConstraintJobEndsAt` | <span data-ttu-id="3a88c-192">Aggiunge un vincolo in base al quale un processo deve terminare a una data e un'ora specificate.</span><span class="sxs-lookup"><span data-stu-id="3a88c-192">Adds a constraint that a job should end at a specified date and time.</span></span> |
| `addConstraintJobStartsAt` | <span data-ttu-id="3a88c-193">Aggiunge un vincolo in base al quale un processo deve iniziare a una data e un'ora specificate.</span><span class="sxs-lookup"><span data-stu-id="3a88c-193">Adds a constraint that a job should start at a specified date and time.</span></span> |
| `addConstraintMaxJobDays` | <span data-ttu-id="3a88c-194">Definisce il vincolo indicante che un processo può estendersi su un numero massimo di giorni specificato.</span><span class="sxs-lookup"><span data-stu-id="3a88c-194">Defines the constraint that a job can span over a specified maximal number of days.</span></span> |
| `addConstraintResourceRequirement` | <span data-ttu-id="3a88c-195">Aggiunge il vincolo indicante che il processo deve essere pianificato su una risorsa specifica.</span><span class="sxs-lookup"><span data-stu-id="3a88c-195">Adds the constraint that the job must be scheduled on a specific resource.</span></span> |
| `addJobBindPriority` | <span data-ttu-id="3a88c-196">Aggiunge una priorità di associazione di processo per una coppia (processo, livello di vincolo).</span><span class="sxs-lookup"><span data-stu-id="3a88c-196">Adds a job bind priority for a (job, constraint level) pair.</span></span> <span data-ttu-id="3a88c-197">Un valore di priorità più alto indica che le variabili di processo verranno associate prima.</span><span class="sxs-lookup"><span data-stu-id="3a88c-197">A higher priority value means the job variables will be bound earlier.</span></span> <span data-ttu-id="3a88c-198">Il processo verrà elaborato prima dei processi con un valore di priorità inferiore nella stessa sequenza.</span><span class="sxs-lookup"><span data-stu-id="3a88c-198">The job will be processed before jobs with lower priority value in the same sequence.</span></span> |
| `addJobCapacity` | <span data-ttu-id="3a88c-199">Aggiunge informazioni sul carico di capacità per un processo (come il runtime di processo richiesto) indipendentemente dalla risorsa su cui viene eseguito il processo.</span><span class="sxs-lookup"><span data-stu-id="3a88c-199">Adds capacity load information for a job (like the required job runtime) independent on which resource the job runs on.</span></span> |
| `addJobResourceCapacity` | <span data-ttu-id="3a88c-200">Aggiunge una risorsa all'insieme di risorse che possono essere utilizzate per eseguire un processo e indica la capacità necessaria durante l'esecuzione su quella risorsa.</span><span class="sxs-lookup"><span data-stu-id="3a88c-200">Adds a resource to the set of resources that may be used to perform a job, and states the capacity required when running on that resource.</span></span> |
| `addJobGoal` | <span data-ttu-id="3a88c-201">Aggiunge informazioni sull'obiettivo del processo per un livello di vincolo specifico (prima ora di fine o ultima ora di inizio).</span><span class="sxs-lookup"><span data-stu-id="3a88c-201">Adds job goal information for a specific constraint level (earliest end time or latest start time).</span></span> |
| `addJobResourcePriority` | <span data-ttu-id="3a88c-202">Aggiunge la priorità da utilizzare quando un processo è pianificato su una risorsa.</span><span class="sxs-lookup"><span data-stu-id="3a88c-202">Adds the priority to use when a job is scheduled on a resource.</span></span> |
| `addJobResourceRuntime` | <span data-ttu-id="3a88c-203">Specifica la durata del processo che dipende dalla risorsa su cui verrà pianificato il processo.</span><span class="sxs-lookup"><span data-stu-id="3a88c-203">Specifies a job time that is dependent of the resource the job will be scheduled on.</span></span> |
| `addJobRuntime` | <span data-ttu-id="3a88c-204">Specifica la durata del processo che è indipendente dalla risorsa su cui verrà pianificato il processo.</span><span class="sxs-lookup"><span data-stu-id="3a88c-204">Specifies a job time that is independent of the resource on which the job will be scheduled.</span></span> |
| `scheduleJobOnResourceGroup` | <span data-ttu-id="3a88c-205">Contrassegna un processo per la pianificazione a livello di gruppo di risorse.</span><span class="sxs-lookup"><span data-stu-id="3a88c-205">Marks a job for scheduling on the resource group level.</span></span> |
| `setJobResourcePreemptionAllowed` | <span data-ttu-id="3a88c-206">Determina se la precedenza è consentita per un processo su una risorsa (se il motore è autorizzato a pianificare il processo in slot di capacità non contigui).</span><span class="sxs-lookup"><span data-stu-id="3a88c-206">Sets whether preemption is allowed for a job on a resource (if engine is allowed to schedule the job in noncontiguous capacity slots).</span></span> |
| `setRequiredNumberOfResources` | <span data-ttu-id="3a88c-207">Imposta il numero di risorse necessarie per pianificare un processo (solo per la pianificazione delle operazioni).</span><span class="sxs-lookup"><span data-stu-id="3a88c-207">Sets the number of resources required to schedule a job (only for operations scheduling).</span></span> |

#### <a name="constraints-between-jobs"></a><span data-ttu-id="3a88c-208">Vincoli tra processi</span><span class="sxs-lookup"><span data-stu-id="3a88c-208">Constraints between jobs</span></span>

| <span data-ttu-id="3a88c-209">**Metodo**</span><span class="sxs-lookup"><span data-stu-id="3a88c-209">**Method**</span></span> | <span data-ttu-id="3a88c-210">**Scopo**</span><span class="sxs-lookup"><span data-stu-id="3a88c-210">**Purpose**</span></span> |
| --- | --- |
| `addJobLink` | <span data-ttu-id="3a88c-211">Aggiunge un collegamento (come terminare\>iniziare) tra due processi.</span><span class="sxs-lookup"><span data-stu-id="3a88c-211">Adds a link (such as finish\>start) between two jobs.</span></span> |
| `addConstraintEndsDelayed` | <span data-ttu-id="3a88c-212">Definisce il vincolo secondo cui un processo non può terminare prima della fine di un altro processo più un ritardo.</span><span class="sxs-lookup"><span data-stu-id="3a88c-212">Defines the constraint that a job cannot end before another jobs end plus some delay time.</span></span> |
| `addConstraintJobListWorkingTimeIntersect` | <span data-ttu-id="3a88c-213">Aggiunge un vincolo secondo cui gli slot di capacità riservati per i processi devono trovarsi su orari di lavoro che si sovrappongono per le due risorse utilizzate nei processi.</span><span class="sxs-lookup"><span data-stu-id="3a88c-213">Adds a constraint that the capacity slots reserved for the jobs must be on the intersecting working times for the two resources used by the jobs.</span></span> |
| `addConstraintJobOverlap` | <span data-ttu-id="3a88c-214">Aggiunge un vincolo che definisce il modo in cui i processi vengono sequenziati quando una data quantità di un articolo può essere spostata tra due risorse allorché l'elaborazione della prima risorsa non è ancora completata, di modo che la seconda risorsa possa iniziare l'elaborazione.</span><span class="sxs-lookup"><span data-stu-id="3a88c-214">Add a constraint that defines how jobs are sequenced when a given quantity of an item can be moved between two resources while the first resource is still not finished processing, so that the second resource can start processing.</span></span> |
| `addConstraintNotOnSameResource` | <span data-ttu-id="3a88c-215">Aggiunge un vincolo per cui due lavori non devono essere pianificati sulla stessa risorsa.</span><span class="sxs-lookup"><span data-stu-id="3a88c-215">Adds a constraint that two jobs should not be scheduled on the same resource.</span></span> |
| `addConstraintOnSameResource` | <span data-ttu-id="3a88c-216">Aggiunge un vincolo per cui due lavori devono utilizzare la stessa risorsa.</span><span class="sxs-lookup"><span data-stu-id="3a88c-216">Adds a constraint that two jobs must be using the same resource.</span></span> |
| `addJobSameReservations` | <span data-ttu-id="3a88c-217">Aggiunge un vincolo per cui un lavoro deve finire avendo prenotazioni della capacità per le stesse fasce orarie del processo primario.</span><span class="sxs-lookup"><span data-stu-id="3a88c-217">Adds a constraint that a job must end up having capacity reservations for the same time slots as the primary job.</span></span> |
| `setPrimaryParallelJob` | <span data-ttu-id="3a88c-218">Aggiunge informazioni su quale processo è quello primario in un set di processi paralleli.</span><span class="sxs-lookup"><span data-stu-id="3a88c-218">Adds information about what job is the primary job in a set of parallel jobs.</span></span> |

### <a name="solver"></a><span data-ttu-id="3a88c-219">Risolutore</span><span class="sxs-lookup"><span data-stu-id="3a88c-219">Solver</span></span>

<span data-ttu-id="3a88c-220">Il motore stesso è essenzialmente un risolutore di vincoli specializzato a cui è aggiunta un'euristica personalizzata.</span><span class="sxs-lookup"><span data-stu-id="3a88c-220">The engine itself is essentially a specialized constraint solver with custom heuristics added.</span></span> <span data-ttu-id="3a88c-221">Il risolutore si basa su due elementi principali: variabili e vincoli.</span><span class="sxs-lookup"><span data-stu-id="3a88c-221">The solver is based on two main elements: variables and constraints.</span></span>

#### <a name="variable"></a><span data-ttu-id="3a88c-222">Variabile</span><span class="sxs-lookup"><span data-stu-id="3a88c-222">Variable</span></span>

<span data-ttu-id="3a88c-223">Una variabile rappresenta un dominio di possibili valori.</span><span class="sxs-lookup"><span data-stu-id="3a88c-223">A variable represents a domain of possible values.</span></span> <span data-ttu-id="3a88c-224">Il motore di pianificazione ha due tipi di variabili:</span><span class="sxs-lookup"><span data-stu-id="3a88c-224">Scheduling engine has two types of variables:</span></span>

- <span data-ttu-id="3a88c-225">**Variabile DateTime** - Ha un dominio di tutte le date e ore e il dominio può essere limitato avvicinando i limiti inferiore e superiore di tempo della variabile.</span><span class="sxs-lookup"><span data-stu-id="3a88c-225">**DateTime variable** - Has a domain of all dates and times, and the domain can be restricted by moving the lower and upper bound for the time of the variable closer to each other.</span></span>
- <span data-ttu-id="3a88c-226">**Variabile Resource** - Ha un dominio di risorse applicabili e il dominio può essere limitato eliminando le risorse dall'elenco.</span><span class="sxs-lookup"><span data-stu-id="3a88c-226">**Resource variable** - Has a domain of applicable resources, and the domain can be restricted by eliminating resources from the list.</span></span>

#### <a name="constraint"></a><span data-ttu-id="3a88c-227">Vincolo</span><span class="sxs-lookup"><span data-stu-id="3a88c-227">Constraint</span></span>

<span data-ttu-id="3a88c-228">Un vincolo agisce sulle variabili limitandone i domini, ma dipende anche dalle variabili, quindi viene attivato quando queste cambiano.</span><span class="sxs-lookup"><span data-stu-id="3a88c-228">A constraint acts on variables by restricting their domains, but it also depends on variables so it gets activated when variables change.</span></span> <span data-ttu-id="3a88c-229">Il processo di "propagazione del vincolo" avviene quando un vincolo svolge la sua funzione principale e, in caso di operazione riuscita, lo segnala alla logica principale.</span><span class="sxs-lookup"><span data-stu-id="3a88c-229">The process of "constraint propagation" is when a constraint performs its main function and reports back to the main logic if successful.</span></span>

<span data-ttu-id="3a88c-230">Una variabile è considerata associata quando non può essere limitata ulteriormente, il che per la variabile DateTime significa che il limite superiore e inferiore sono identici mentre per la variabile Resource significa che ha soltanto una singola risorsa applicabile.</span><span class="sxs-lookup"><span data-stu-id="3a88c-230">A variable is considered bound when it can't be restricted further, which for DateTime variable means that upper and lower bound is the same, and for the Resource variable that it has only a single applicable resource.</span></span> <span data-ttu-id="3a88c-231">Quando tutte le variabili sono associate, viene trovata una soluzione.</span><span class="sxs-lookup"><span data-stu-id="3a88c-231">When all variables are bound, a solution is found.</span></span>

### <a name="constraint-levels"></a><span data-ttu-id="3a88c-232">Livelli di vincolo</span><span class="sxs-lookup"><span data-stu-id="3a88c-232">Constraint levels</span></span>

<span data-ttu-id="3a88c-233">Quando la pianificazione viene eseguita come parte della fase di copertura della pianificazione dei fabbisogni materiali (MRP), gli ordini verranno pianificati a ritroso dalla data del fabbisogno.</span><span class="sxs-lookup"><span data-stu-id="3a88c-233">When scheduling is executed as part of the material requirements planning (MRP) coverage phase, the orders will be scheduled backward from requirement date.</span></span> <span data-ttu-id="3a88c-234">Tuttavia, se non è possibile trovare una pianificazione che inizi oggi o successivamente e termini prima della data del fabbisogno, la direzione della pianificazione cambierà in avanti a partire dalla data corrente.</span><span class="sxs-lookup"><span data-stu-id="3a88c-234">However, if it is not possible to find a schedule that starts today or later and ends before the requirement date, then the scheduling direction will change to forward from today.</span></span>

<span data-ttu-id="3a88c-235">Questa regola aziendale principale viene gestita organizzando i vincoli in livelli.</span><span class="sxs-lookup"><span data-stu-id="3a88c-235">This main business rule is handled by organizing the constraints in levels.</span></span> <span data-ttu-id="3a88c-236">Se non viene trovata alcuna soluzione quando si utilizzano i vincoli al livello più alto, i vincoli a quel livello vengono tutti eliminati e viene provato il livello inferiore.</span><span class="sxs-lookup"><span data-stu-id="3a88c-236">If no solution is found when using the constraints on the highest level, then the constraints on that level are all dropped, and the lower level is tried.</span></span> <span data-ttu-id="3a88c-237">In pratica, ciò significa che per la pianificazione a ritroso, il modello conterrà un livello 1 con obiettivi di processo di ultima ora di inizio dato un vincolo massimo di ora di fine (la data del fabbisogno) e un livello 0 con obiettivi di processo di prima ora di fine dato un vincolo minimo di ora iniziale oggi.</span><span class="sxs-lookup"><span data-stu-id="3a88c-237">In praxis, this means that for backward scheduling the model will contain a level 1 with job goals of latest start time given a maximum end time constraint (the requirement date), and a level 0 with job goals of earliest end time and given a minimum start time constraint of today.</span></span>

### <a name="algorithm"></a><span data-ttu-id="3a88c-238">Algoritmo</span><span class="sxs-lookup"><span data-stu-id="3a88c-238">Algorithm</span></span>

<span data-ttu-id="3a88c-239">I passaggi principali dell'algoritmo del motore sono:</span><span class="sxs-lookup"><span data-stu-id="3a88c-239">The main steps of the engine algorithm are:</span></span>

1. <span data-ttu-id="3a88c-240">Trovare sequenze (catene di lavoro) che possono essere risolte separatamente.</span><span class="sxs-lookup"><span data-stu-id="3a88c-240">Find sequences (job chains) which can be solved separately.</span></span>
1. <span data-ttu-id="3a88c-241">Cercare di trovare una soluzione iniziale per la sequenza per il livello di vincolo più alto.</span><span class="sxs-lookup"><span data-stu-id="3a88c-241">Try to find an initial solution for the sequence for the highest constraint level.</span></span>
    1. <span data-ttu-id="3a88c-242">Ordinare i processi nella sequenza in base all'obiettivo e alle priorità del processo, di modo che sia possibile trovare un processo iniziale.</span><span class="sxs-lookup"><span data-stu-id="3a88c-242">Sort the jobs in the sequence based on job goal and priorities, such that a start job can be found.</span></span>
    1. <span data-ttu-id="3a88c-243">Ripetere i lavori nella seguente sequenza:</span><span class="sxs-lookup"><span data-stu-id="3a88c-243">Loop the jobs in the following sequence:</span></span>
        1. <span data-ttu-id="3a88c-244">Trovare tutti i vincoli che devono essere propagati ed eseguire la propagazione.</span><span class="sxs-lookup"><span data-stu-id="3a88c-244">Find all constraints that need to be propagated and run propagation.</span></span>
        1. <span data-ttu-id="3a88c-245">Se tutte le variabili per il processo sono state associate, è stata trovata una soluzione per quel processo.</span><span class="sxs-lookup"><span data-stu-id="3a88c-245">If all variables for the job have been bound, then a solution for that job has been found.</span></span>
        1. <span data-ttu-id="3a88c-246">Se non è stato possibile associare una delle variabili senza violare i vincoli, eseguire il rollback dell'associazione della variabile, provare un valore diverso nel dominio (per la variabile Resource) ed eseguire nuovamente la propagazione del vincolo.</span><span class="sxs-lookup"><span data-stu-id="3a88c-246">If one of the variables could not be bound without violating the constraints, then roll back the variable binding, try a different value in the domain (for resource variable), and rerun the constraint propagation.</span></span>
1. <span data-ttu-id="3a88c-247">Se non è stata trovata alcuna soluzione, tutti i vincoli sul livello di vincolo corrente vengono rimossi, il livello di vincolo viene abbassato (se sono disponibili livelli inferiori) e viene ripetuta la ricerca della soluzione con il nuovo insieme di vincoli.</span><span class="sxs-lookup"><span data-stu-id="3a88c-247">If no solution was found, then all constraints on the current constraint level is removed, the constraint level lowered (if any lower levels are available) and solution search retried with the new set of constraint.</span></span>
1. <span data-ttu-id="3a88c-248">Se viene trovata una soluzione fattibile, viene avviata la fase di ottimizzazione, che tenterà di trovare una soluzione migliore fino al raggiungimento del timeout di ottimizzazione o all'esaurimento di tutte le combinazioni di risorse.</span><span class="sxs-lookup"><span data-stu-id="3a88c-248">If a feasible solution was found, then the optimization phase is started, which will try to find a better solution until the optimization timeout is reached or all resource combinations have been exhausted.</span></span>

<span data-ttu-id="3a88c-249">Il risolutore di vincoli non riconosce le specifiche dell'algoritmo di pianificazione.</span><span class="sxs-lookup"><span data-stu-id="3a88c-249">The constraint solver is not aware of the specifics of the scheduling algorithm.</span></span> <span data-ttu-id="3a88c-250">È nella definizione e combinazione dei vari vincoli che avviene la "magia".</span><span class="sxs-lookup"><span data-stu-id="3a88c-250">It is in the definition and combination of the various constraints that the "magic" happens.</span></span>

### <a name="determining-working-times"></a><span data-ttu-id="3a88c-251">Determinazione degli orari di lavoro</span><span class="sxs-lookup"><span data-stu-id="3a88c-251">Determining working times</span></span>

<span data-ttu-id="3a88c-252">La maggior parte dei vincoli (interni) nel motore controlla l'orario di lavoro e la capacità di una risorsa.</span><span class="sxs-lookup"><span data-stu-id="3a88c-252">A large part of the (internal) constraints in the engine controls the working time and capacity of a resource.</span></span> <span data-ttu-id="3a88c-253">In sostanza, l'attività consiste nel percorrere le fasce orarie lavorative di una risorsa a partire da un dato punto in una data direzione e trovare un intervallo sufficientemente lungo in cui la capacità (tempo) richiesta per i processi può rientrare.</span><span class="sxs-lookup"><span data-stu-id="3a88c-253">Essentially, the task is to traverse the working time slots for a resource from a given point in a given direction, and find a long enough interval in which the jobs required capacity (time) can fit.</span></span>

<span data-ttu-id="3a88c-254">A questo proposito, il motore deve conoscere gli orari di lavoro di una risorsa.</span><span class="sxs-lookup"><span data-stu-id="3a88c-254">To do this, the engine needs to know the working times of a resource.</span></span> <span data-ttu-id="3a88c-255">Contrariamente ai dati del modello principale, gli orari di lavoro sono *caricati alla domanda*, a significare che vengono caricati nel motore secondo necessità.</span><span class="sxs-lookup"><span data-stu-id="3a88c-255">Opposite to the main model data, the working times are *lazy loaded*, meaning that they are loaded into the engine as needed.</span></span> <span data-ttu-id="3a88c-256">La ragione di questo approccio è che spesso in Supply Chain Management vi sono degli orari di lavoro che coprono un periodo molto lungo e in genere molti calendari, a tal punto che i dati da caricare sarebbero molto voluminosi.</span><span class="sxs-lookup"><span data-stu-id="3a88c-256">The reason for this approach is that there are often working times in Supply Chain Management for a calendar for a very long period and typically many calendars exist so the data would be quite large to pre-load.</span></span>

<span data-ttu-id="3a88c-257">Le informazioni di calendario vengono richieste dal motore in blocchi, invocando il metodo della classe X++ `WrkCtrSchedulingInteropDataProvider.getWorkingTimes`.</span><span class="sxs-lookup"><span data-stu-id="3a88c-257">Calendar information is requested by the engine in chunks, by invoking the X++ class method `WrkCtrSchedulingInteropDataProvider.getWorkingTimes`.</span></span> <span data-ttu-id="3a88c-258">La richiesta riguarda è un ID calendario specifico in un intervallo di tempo specifico.</span><span class="sxs-lookup"><span data-stu-id="3a88c-258">The request is for a specific calendar ID in a specific time interval.</span></span> <span data-ttu-id="3a88c-259">A seconda dello stato della cache del server in Supply Chain Management, ognuna di queste richieste può finire in diverse chiamate di database, il che richiede molto tempo (rispetto al tempo di calcolo puro).</span><span class="sxs-lookup"><span data-stu-id="3a88c-259">Depending on the state of the server cache in Supply Chain Management, each of these requests could end up in several database calls, which takes a long time (relative to the pure computational time).</span></span> <span data-ttu-id="3a88c-260">Inoltre, se il calendario contiene definizioni dell'orario di lavoro molto elaborate con molti intervalli di orari di lavoro al giorno, la durata del caricamento aumenta.</span><span class="sxs-lookup"><span data-stu-id="3a88c-260">Also, if the calendar contains very elaborate working time definitions with many working time intervals per day, this adds to the time the loading takes.</span></span>

<span data-ttu-id="3a88c-261">Quando i dati sull'orario di lavoro vengono caricati nel motore di pianificazione, questi vengono conservati nella cache interna per il calendario specifico, il che significa che se altri processi o risorse utilizzano lo stesso calendario, le successive ricerche possono essere eseguite rapidamente nella memoria.</span><span class="sxs-lookup"><span data-stu-id="3a88c-261">When the working time data is loaded in the scheduling engine, this is retained in its internal cache for the specific calendar, meaning that if any other jobs or resources are using the same calendar then the next lookups can be performed quickly from memory.</span></span> <span data-ttu-id="3a88c-262">Una causa frequente di cattive prestazioni è l'utilizzo di un ID calendario distinto per ciascuna risorsa, perché i dati dovranno essere richiesti per ogni calendario, anche se il contenuto dei calendari potrebbe essere identico.</span><span class="sxs-lookup"><span data-stu-id="3a88c-262">One common cause of bad performance is if a separate calendar ID is used for each resource, because data will then need to be requested for each calendar, even though the content of the calendars might be the same.</span></span>

### <a name="finite-capacity"></a><span data-ttu-id="3a88c-263">Capacità limitata</span><span class="sxs-lookup"><span data-stu-id="3a88c-263">Finite capacity</span></span>

<span data-ttu-id="3a88c-264">Quando si utilizza la capacità finita, le fasce orarie di lavoro del calendario vengono suddivise e ridotte in base alle prenotazioni della capacità esistenti.</span><span class="sxs-lookup"><span data-stu-id="3a88c-264">When using finite capacity, the working time slots from the calendar are split and reduced based on the existing capacity reservations.</span></span> <span data-ttu-id="3a88c-265">Anche queste prenotazioni, come i calendari, vengono recuperate tramite la stessa classe `WrkCtrSchedulingInteropDataProvider`, ma utilizzano invece il metodo `getCapacityReservations`.</span><span class="sxs-lookup"><span data-stu-id="3a88c-265">These reservations are also fetched through the same `WrkCtrSchedulingInteropDataProvider` class as the calendars, but instead use the method `getCapacityReservations`.</span></span> <span data-ttu-id="3a88c-266">Durante la pianificazione generale, vengono prese in considerazione le prenotazioni per il piano generale specifico e se abilitate nella pagina **Parametri di pianificazione generale**, sono incluse anche le prenotazioni da ordini di produzione stabilizzati.</span><span class="sxs-lookup"><span data-stu-id="3a88c-266">When scheduling during master planning, the reservations for the specific master plan are considered and if enabled on the **Master planning parameters** page, the reservations from firmed production orders are also included.</span></span> <span data-ttu-id="3a88c-267">Allo stesso modo, quando si pianifica un ordine di produzione, è anche possibile includere prenotazioni di ordini pianificati esistenti, sebbene questo metodo non sia così frequente come l'altro.</span><span class="sxs-lookup"><span data-stu-id="3a88c-267">Similarly, when scheduling a production order, it is also an option to include reservations from existing planned orders, although this is not as common as the other way around.</span></span>

<span data-ttu-id="3a88c-268">L'utilizzo della capacità finita aumenterà la durata della pianificazione per diversi motivi:</span><span class="sxs-lookup"><span data-stu-id="3a88c-268">Using finite capacity will cause scheduling to take longer due to several reasons:</span></span>

- <span data-ttu-id="3a88c-269">Il recupero delle informazioni sulla capacità dal database è un'operazione lenta e la memorizzazione nella cache lato server delle informazioni sulla capacità in genere non è efficace come per gli orari di lavoro perché non sono condivise tra le risorse come in genere i calendari.</span><span class="sxs-lookup"><span data-stu-id="3a88c-269">Fetching the capacity information from database is a slow operation and the server-side caching of capacity information is typically not as good as for working times because they are not shared among resources like calendars typically are.</span></span>
- <span data-ttu-id="3a88c-270">Il numero di fasce orarie di lavoro da percorrere aumenta a causa delle suddivisioni e in genere le fasce orarie per un periodo di tempo più lungo devono essere esaminate prima di poter trovare una soluzione.</span><span class="sxs-lookup"><span data-stu-id="3a88c-270">The number of working time slots to traverse increases due to the splits, and slots for a longer time period must typically be investigated before a solution can be found.</span></span>
- <span data-ttu-id="3a88c-271">Al termine della pianificazione, è necessario eseguire un controllo per determinare la presenza di prenotazioni in conflitto (vedi la sezione "Esecuzione di motori di pianificazione in parallelo" per i dettagli).</span><span class="sxs-lookup"><span data-stu-id="3a88c-271">After the scheduling is complete, a check for conflicting reservations must be performed (see the "Running scheduling engines in parallel" section for details).</span></span>

### <a name="examining-the-resource-combinations"></a><span data-ttu-id="3a88c-272">Esame delle combinazioni di risorse</span><span class="sxs-lookup"><span data-stu-id="3a88c-272">Examining the resource combinations</span></span>

<span data-ttu-id="3a88c-273">Se la sequenza di processi contiene solo i collegamenti `FinishStart` standard, nel senso che forma una catena semplice senza diramazioni, un risultato ottimale (dal punto di vista di un singolo ordine, non di più ordini) può essere ottenuto trovando la soluzione migliore per il primo processo e poi passando alla ricerca della soluzione migliore per il processo successivo.</span><span class="sxs-lookup"><span data-stu-id="3a88c-273">If the job sequence only contains the standard `FinishStart` links, meaning it forms a simple chain without any branches, an optimal result (seen from the single order, not across orders) can be achieved by finding the best solution for the first job and then moving on to find the best solution for the next job.</span></span> <span data-ttu-id="3a88c-274">La migliore soluzione per un processo significa trovare la risorsa che può avere la data di inizio e fine del processo più vicina all'obiettivo del processo (nella pianificazione in avanti ciò significa avere la data di fine del processo il prima possibile) pur rispettando i vincoli.</span><span class="sxs-lookup"><span data-stu-id="3a88c-274">The best solution for a job means finding the resource that can get the from and to date of the job closest to the job goal (in forward scheduling this means getting the end date of the job as early as possible) while still respecting the constraints.</span></span>

<span data-ttu-id="3a88c-275">Quando ci sono processi paralleli, trovare una soluzione può comportare l'analisi di diverse combinazioni di risorse.</span><span class="sxs-lookup"><span data-stu-id="3a88c-275">When there are parallel jobs, finding a solution may involve examining different combinations of resources.</span></span> <span data-ttu-id="3a88c-276">Il numero di possibili combinazioni di risorse è il prodotto del numero di risorse applicabili per i lavori paralleli connessi.</span><span class="sxs-lookup"><span data-stu-id="3a88c-276">The number of possible resource combinations is the product of the number of applicable resources for the connected parallel jobs.</span></span> <span data-ttu-id="3a88c-277">Soprattutto quando si pianifica un ordine a ritroso da una data di fabbisogno, può essere necessario un po' di tempo prima che la logica determini che non esiste una soluzione al problema che renderà i lavori paralleli adatti prima della data odierna. In effetti, deve controllare tutte le combinazioni in quanto potrebbero esserci alcune risorse che presentano una maggiore efficacia o un altro calendario in grado d'offrire un risultato.</span><span class="sxs-lookup"><span data-stu-id="3a88c-277">Especially when scheduling an order backwards from a requirement date, it can take quite a while for the logic to realize that there is no solution to the problem that will make the parallel jobs fit before today's date, as it will need to check all the combinations because there could be some resources that had a higher efficiency or a different calendar that might give a result.</span></span> <span data-ttu-id="3a88c-278">Ciò significa che se non è stato impostato alcun limite di timeout, verrà eseguita per molto tempo prima di passare alla direzione in avanti.</span><span class="sxs-lookup"><span data-stu-id="3a88c-278">This means that if no timeout limit has been set it will run for a long time before changing the direction to forward.</span></span>

<span data-ttu-id="3a88c-279">Questa logica combinatoria significa anche che l'aggiunta di più risorse applicabili può rallentare il funzionamento del motore.</span><span class="sxs-lookup"><span data-stu-id="3a88c-279">This combinatorial logic also means that adding more applicable resources may make the engine run slower.</span></span> <span data-ttu-id="3a88c-280">Se si verificano problemi di prestazioni durante le operazioni parallele e si esegue la pianificazione con una capacità infinita, è possibile risolverli in parte chiedendo allo sviluppatore dei cicli di lavorazione di decidere quale risorsa utilizzare e quindi di assegnare la risorsa direttamente all'operazione (perché il motore nella maggior parte dei casi finisce sempre per scegliere la stessa risorsa, quindi il risultato finale sarà lo stesso).</span><span class="sxs-lookup"><span data-stu-id="3a88c-280">If performance problems occur when having parallel operations and scheduling with infinite capacity, it can partly be fixed by having the route designer take a decision on which resource should be used and then assign the resource directly on the operation (because the engine in most cases will always end up picking the same resource, so the end result will be the same).</span></span>

### <a name="hard-links"></a><span data-ttu-id="3a88c-281">Collegamenti reali</span><span class="sxs-lookup"><span data-stu-id="3a88c-281">Hard links</span></span>

<span data-ttu-id="3a88c-282">L'impostazione del tipo di collegamento tra due processi su Rigido, garantisce che non vi sia alcun intervallo temporale tra la fine di un processo e l'inizio di quello successivo.</span><span class="sxs-lookup"><span data-stu-id="3a88c-282">Setting the link type between two jobs to hard, ensures that there is no time gap between the finish of one job and the start of the next one.</span></span> <span data-ttu-id="3a88c-283">Ciò può essere molto utile in scenari in cui il metallo viene riscaldato in un processo e poi lavorato in quello successivo e non deve quindi avere il tempo di raffreddarsi.</span><span class="sxs-lookup"><span data-stu-id="3a88c-283">This can be very useful in scenarios like when metal is heated in one job and then processed in the next job, where it is not desirable to have the metal cool down in between.</span></span>

<span data-ttu-id="3a88c-284">Con i collegamenti flessibili standard e la programmazione in avanti, se il ciclo di lavorazione forma una catena semplice senza diramazioni, è possibile ottenere un risultato trovando una soluzione per il primo processo che soddisfi i relatiovi vincoli e quindi proseguendo lungo la catena propagando l'ora di fine dal processo precedente al processo successivo.</span><span class="sxs-lookup"><span data-stu-id="3a88c-284">With standard soft links and forward scheduling, if the route forms a simple chain without any branches, a result can be achieved by finding a solution for the first job that satisfies its own constraints and then moving on through the chain propagating the end time from the previous job to the next job.</span></span> <span data-ttu-id="3a88c-285">Se il processo corrente non trova alcuna capacità, l'ora di inizio verrà spostata ulteriormente, senza alcuna conseguenza per i processi precedenti, creando potenzialmente intervalli tra i processi.</span><span class="sxs-lookup"><span data-stu-id="3a88c-285">If the current job can't find any capacity, the start time for it will be moved out further, without any consequence for the previous jobs potentially creating gaps between the jobs.</span></span> <span data-ttu-id="3a88c-286">Tuttavia, con i collegamenti rigidi (specialmente in relazione a capacità finite) nello stesso scenario, il fatto che un processo successivo nella catena non possa trovare capacità, significa che tutti i processi programmati precedenti dovranno essere "trascinati" uno a uno e quindi riprogrammati più volte.</span><span class="sxs-lookup"><span data-stu-id="3a88c-286">However with hard links (especially in connection with finite capacity) for the same scenario, the fact that one job later in the chain cannot find capacity, will mean that all previous scheduled jobs will have to be "dragged" along one by one and thereby rescheduled a number of times.</span></span> <span data-ttu-id="3a88c-287">Soprattutto in scenari con un carico elevato per più risorse, i collegamenti rigidi possono causare una reazione a catena in cui i processi si influenzeranno a vicenda e sarà necessario eseguire una serie di iterazioni prima che il risultato si stabilizzi in una pianificazione fattibile.</span><span class="sxs-lookup"><span data-stu-id="3a88c-287">Especially in scenarios with high load for multiple resources, the hard links can cause a chain reaction where the jobs will affect each other and a number of iterations will have to be performed before the result stabilizes into a feasible schedule.</span></span>

## <a name="running-scheduling-engines-in-parallel"></a><span data-ttu-id="3a88c-288">Esecuzione di motori di pianificazione in parallelo</span><span class="sxs-lookup"><span data-stu-id="3a88c-288">Running scheduling engines in parallel</span></span>

<span data-ttu-id="3a88c-289">Quando si esegue la pianificazione come parte di un'esecuzione di pianificazione generale in cui vengono utilizzati gli helper, ciascuno dei thread degli helper della pianificazione generale può anche scegliere attività di pianificazione degli ordini di produzione.</span><span class="sxs-lookup"><span data-stu-id="3a88c-289">When performing scheduling as part of a master planning run where helpers are used, each of the master planning helper threads can also pick up production order scheduling tasks.</span></span> <span data-ttu-id="3a88c-290">Ciò significa che più motori di pianificazione possono essere eseguiti contemporaneamente.</span><span class="sxs-lookup"><span data-stu-id="3a88c-290">This means that multiple scheduling engines can be running at the same time.</span></span> <span data-ttu-id="3a88c-291">Sebbene il multithreading in generale rappresenti un vantaggio altamente significativo in termini di prestazioni, vi sono anche alcuni aspetti negativi funzionali quando si tratta di pianificazione.</span><span class="sxs-lookup"><span data-stu-id="3a88c-291">While multithreading in general is a highly significant performance benefit, there are also some functional downsides when it comes to scheduling.</span></span>

<span data-ttu-id="3a88c-292">Nella MRP, tutti gli ordini di produzione per un determinato livello di distinta base sono programmati in sequenza di date di fabbisogno, il che significa che gli ordini con la prima data di fabbisogno devono essere pianificati per primi e quindi hanno le maggiori possibilità di ottenere la capacità di risorse disponibile.</span><span class="sxs-lookup"><span data-stu-id="3a88c-292">In MRP, all production orders for a given bill of materials (BOM) level are scheduled in requirement date sequence, meaning that those orders with the earliest requirement date should be scheduled first and thereby have the highest chance of getting the available resource capacity.</span></span> <span data-ttu-id="3a88c-293">Tuttavia, con più motori che selezionano dall'elenco di ordini non pianificati, la sequenza non è più garantita, poiché uno potrebbe completarsi più velocemente dell'altro.</span><span class="sxs-lookup"><span data-stu-id="3a88c-293">However, with multiple engines picking from the list of unscheduled orders the sequence is no longer ensured, as one might complete faster than the other.</span></span>

<span data-ttu-id="3a88c-294">Inoltre, quando si esegue la pianificazione utilizzando una capacità finita e quando più istanze del motore tentano di pianificare ordini che potenzialmente utilizzano le stesse risorse nello stesso intervallo di tempo, può verificarsi una race condition.</span><span class="sxs-lookup"><span data-stu-id="3a88c-294">Also, when scheduling using finite capacity and when multiple engine instances are trying to schedule orders that are potentially using the same resources at the same time interval, a race condition can occur.</span></span> <span data-ttu-id="3a88c-295">Il numero di tali race condition è registrato nel campo **Conflitti di pianificazione** nella pagina dello storico dei piani generali.</span><span class="sxs-lookup"><span data-stu-id="3a88c-295">The number of such race conditions is recorded in the **Scheduling conflicts** field on the master plans history page.</span></span> <span data-ttu-id="3a88c-296">La logica di risoluzione dei conflitti è la seguente:</span><span class="sxs-lookup"><span data-stu-id="3a88c-296">The conflict resolution logic is as follows:</span></span>

- <span data-ttu-id="3a88c-297">Pianificare un ordine (senza blocco) e ottenere prenotazioni della capacità.</span><span class="sxs-lookup"><span data-stu-id="3a88c-297">Schedule an order (lock-free) and get capacity reservations.</span></span>
- <span data-ttu-id="3a88c-298">Applicare il blocco.</span><span class="sxs-lookup"><span data-stu-id="3a88c-298">Take the lock.</span></span>
- <span data-ttu-id="3a88c-299">Verificare se esistono prenotazioni della capacità più recenti per le risorse pianificate nell'intervallo di tempo.</span><span class="sxs-lookup"><span data-stu-id="3a88c-299">Check if newer capacity reservations exist for the scheduled resources in the timespan.</span></span>
  - <span data-ttu-id="3a88c-300">Se non esistono, scrivere la capacità e rilasciare il blocco.</span><span class="sxs-lookup"><span data-stu-id="3a88c-300">If no, write the capacity and release the lock.</span></span>
  - <span data-ttu-id="3a88c-301">Se esistono, rilasciare il blocco e ripianificare l'ordine dall'inizio.</span><span class="sxs-lookup"><span data-stu-id="3a88c-301">If yes, release the lock and reschedule the order from the beginning.</span></span>

<span data-ttu-id="3a88c-302">Quindi, quando si esegue la pianificazione con più istanze del motore, il risultato non è completamente deterministico perché dipenderà dalla tempistica esatta di ogni thread.</span><span class="sxs-lookup"><span data-stu-id="3a88c-302">So, when scheduling with multiple engine instances, the result is not fully deterministic because it will depend on the exact timing of each of the threads.</span></span>

## <a name="operation-scheduling-performance"></a><span data-ttu-id="3a88c-303">Prestazioni di pianificazione delle operazioni</span><span class="sxs-lookup"><span data-stu-id="3a88c-303">Operation scheduling performance</span></span>

<span data-ttu-id="3a88c-304">Anche se la pianificazione delle operazioni è nota anche come pianificazione approssimativa della capacità, vista dal punto di vista del motore, può essere un problema più difficile da risolvere se viene utilizzata la capacità finita, poiché sono necessari più dati per determinare la fattibilità.</span><span class="sxs-lookup"><span data-stu-id="3a88c-304">Even though operation scheduling is also known as rough-cut capacity planning, seen from an engine standpoint, it can be a harder problem to solve if finite capacity is used, as more data is needed to determine feasibility.</span></span>

<span data-ttu-id="3a88c-305">La capacità di un gruppo di risorse dipende da quali e quante risorse sono membri del gruppo di risorse.</span><span class="sxs-lookup"><span data-stu-id="3a88c-305">The capacity of a resource group depends on which and how many resources are members of the resource group.</span></span> <span data-ttu-id="3a88c-306">Un gruppo di risorse di per sé non ha alcuna capacità: ne avrà solo quando le risorse sono un membro del gruppo.</span><span class="sxs-lookup"><span data-stu-id="3a88c-306">A resource group in itself does not have any capacity&mdash;only when resources are a member of the group will it have capacity.</span></span> <span data-ttu-id="3a88c-307">Poiché l'appartenenza al gruppo di risorse può variare nel tempo, la capacità deve essere valutata ogni giorno.</span><span class="sxs-lookup"><span data-stu-id="3a88c-307">Because the resource group membership can vary over time, capacity must be evaluated per day.</span></span>

<span data-ttu-id="3a88c-308">Nella pianificazione delle operazioni, il calendario del gruppo di risorse viene utilizzato per determinare l'ora di inizio e di fine di ciascuna operazione.</span><span class="sxs-lookup"><span data-stu-id="3a88c-308">In operations scheduling, the resource group's calendar is used to determine the start and end times for each operation.</span></span> <span data-ttu-id="3a88c-309">Ciò significa che il calendario del gruppo di risorse pone un limite al tempo che può essere pianificato per un'operazione in un giorno in un gruppo di risorse.</span><span class="sxs-lookup"><span data-stu-id="3a88c-309">This means that the resource group's calendar places a limit on how much time can be operations scheduled for one operation on one day in one resource group.</span></span> <span data-ttu-id="3a88c-310">Contrariamente al calendario delle risorse specifiche, i dati di efficienza del calendario vengono ignorati per il gruppo di risorse poiché indicano semplicemente gli orari di apertura e non la capacità effettiva.</span><span class="sxs-lookup"><span data-stu-id="3a88c-310">Opposite the calendar for the specific resources, the efficiency data of the calendar is ignored for the resource group as it simply denotes opening hours and not actual capacity.</span></span>

<span data-ttu-id="3a88c-311">Ad esempio, se l'orario di lavoro di un gruppo di risorse in una data specifica è compreso tra le 8:00 e le 16:00, un'operazione non può imporre più carico al gruppo di risorse di quanto possa gestirne in 8 ore, qualunque sia la capacità disponibile del gruppo di risorse in quel giorno.</span><span class="sxs-lookup"><span data-stu-id="3a88c-311">For example, if the working time for a resource group on one specific date is from 8:00 to 16:00, one operation can't put more load on the resource group than what can be fit into 8 hours, no matter how much capacity that the resource group has available in total on that day.</span></span> <span data-ttu-id="3a88c-312">La capacità disponibile può tuttavia limitare ulteriormente il carico.</span><span class="sxs-lookup"><span data-stu-id="3a88c-312">The available capacity can however limit the load further.</span></span>

<span data-ttu-id="3a88c-313">Il carico della pianificazione del processo su tutte le risorse incluse nel gruppo di risorse in un dato giorno viene considerato quando viene calcolata la capacità disponibile del gruppo di risorse nello stesso giorno.</span><span class="sxs-lookup"><span data-stu-id="3a88c-313">The load from job scheduling on all the resources included in the resource group on a given day is considered when the available capacity for the resource group on the same day is calculated.</span></span> <span data-ttu-id="3a88c-314">Per ogni data, il calcolo è:</span><span class="sxs-lookup"><span data-stu-id="3a88c-314">For each date, the calculation is:</span></span>

<span data-ttu-id="3a88c-315">*Capacità del gruppo di risorse disponibile = Capacità per le risorse nel gruppo in base al loro calendario &ndash; Caricamento pianificato del lavoro sulle risorse nel gruppo &ndash; Caricamento pianificato delle operazioni sulle risorse del gruppo &ndash; Caricamento pianificato delle operazioni sul gruppo di risorse*</span><span class="sxs-lookup"><span data-stu-id="3a88c-315">*Available resource group capacity = Capacity for resources in the group based on their calendar &ndash; Job scheduled load on the resources in the group &ndash; Operations scheduled load on the resources in the group &ndash; Operations scheduled load on the resource group*</span></span>

<span data-ttu-id="3a88c-316">Nella scheda **Requisiti risorsa** dell'operazione del ciclo di lavorazione, i requisiti delle risorse possono essere specificati utilizzando una risorsa specifica (nel qual caso l'operazione verrà pianificata utilizzando quella risorsa), per un gruppo di risorse, per un tipo di risorsa o per una o più abilità, competenze, corsi o certificati.</span><span class="sxs-lookup"><span data-stu-id="3a88c-316">On the **Resource requirements** tab on the route operation, the resource requirements can be specified using either a specific resource (in which case the operation will be scheduled using that resource), for a resource group, for a resource type, or for one or more capabilities, skill, course, or certificate.</span></span> <span data-ttu-id="3a88c-317">Sebbene da un lato l'utilizzo di tutte queste opzioni offra una grande flessibilità nella progettazione dei cicli di lavorazione, dall'altro complica la programmazione per il motore poiché la capacità deve essere considerata per "proprietà" (il nome astratto utilizzato nel motore per abilità, competenza e così via).</span><span class="sxs-lookup"><span data-stu-id="3a88c-317">While using all of these options gives a great flexibility on the route design, it also complicates the scheduling for the engine as the capacity must be accounted for per "property" (the abstract name used in the engine for capability, skills, and so on).</span></span>

<span data-ttu-id="3a88c-318">La capacità del gruppo di risorse per una competenza è la somma della capacità di tutte le risorse nel gruppo di risorse che possiede la competenza in questione.</span><span class="sxs-lookup"><span data-stu-id="3a88c-318">The resource group's capacity for a capability is the sum of the capacity for all resources in the resource group that has the capability in question.</span></span> <span data-ttu-id="3a88c-319">Se una risorsa nel gruppo possiede una competenza, verrà presa in considerazione indipendentemente dal livello di capacità richiesto.</span><span class="sxs-lookup"><span data-stu-id="3a88c-319">If a resource in the group has a capability, it will be considered no matter what level of the capacity is required.</span></span>

<span data-ttu-id="3a88c-320">Nella pianificazione delle operazioni, la capacità disponibile per una determinata competenza di un gruppo di risorse verrà ridotta quando viene caricata con un'operazione che richiede la competenza in questione.</span><span class="sxs-lookup"><span data-stu-id="3a88c-320">In operations scheduling, the available capacity for a certain capability for a resource group will be reduced when it is loaded with an operation that requires the capability in question.</span></span> <span data-ttu-id="3a88c-321">Se l'operazione richiede più competenze, la capacità sarà ridotta per tutte le competenze richieste.</span><span class="sxs-lookup"><span data-stu-id="3a88c-321">If the operation requires more than one capability, the capacity will be reduced for all required capabilities.</span></span>

<span data-ttu-id="3a88c-322">Per ogni data, il calcolo necessario è:</span><span class="sxs-lookup"><span data-stu-id="3a88c-322">For each date, the required calculation is:</span></span>

<span data-ttu-id="3a88c-323">*Capacità disponibile per una capacità = Capacità per la capacità &ndash; Caricamento pianificato del lavoro sulle risorse con la capacità specifica, incluse nel gruppo di risorse &ndash; Caricamento pianificato delle operazioni sulle risorse con la capacità specifica, incluse nel gruppo di risorse &ndash; Caricamento pianificato delle operazioni sul gruppo di risorse stesso che richiedono la capacità specifica*</span><span class="sxs-lookup"><span data-stu-id="3a88c-323">*Available capacity for a capability = Capacity for the capability &ndash; Job scheduled load on the resources with the specific capability, included in the resource group &ndash; Operations scheduled load on the resources with the specific capability, included in the resource group &ndash; Operations scheduled load on the resource group itself that require the specific capability*</span></span>

<span data-ttu-id="3a88c-324">Ciò significa che se c'è un carico su una risorsa specifica, quel carico viene considerato nel calcolo della capacità disponibile del gruppo di risorse per competenza, perché il carico su una risorsa specifica riduce il relativo contributo alla capacità del gruppo di risorse per una competenza, indipendentemente dal fatto che il carico sulla risorsa specifica sia o meno per quella competenza specifica.</span><span class="sxs-lookup"><span data-stu-id="3a88c-324">This means that if there is load on a specific resource, the load is considered in the calculation of the resource group's available capacity per capability, because the load on a specific resource reduces its contribution to the resource group's capacity for a capability no matter if the load on the specific resource is for that specific capability.</span></span> <span data-ttu-id="3a88c-325">Se è presente un carico a livello di gruppo di risorse, viene considerato nel calcolo della capacità disponibile del gruppo di risorse per competenza solo se il carico proviene da un'operazione che richiede la competenza specifica.</span><span class="sxs-lookup"><span data-stu-id="3a88c-325">If there is load on the resource group level, it is considered in the calculation of the resource group's available capacity per capability only if the load is from an operation that requires the specific capability.</span></span>

<span data-ttu-id="3a88c-326">La logica sopra è complicata, poiché è la stessa per ogni tipo di "proprietà", quindi l'utilizzo della pianificazione delle operazioni con capacità finita richiede il caricamento di una quantità significativa di dati.</span><span class="sxs-lookup"><span data-stu-id="3a88c-326">The above logic is complicated, as this is the same for each type of "property" so using operations scheduling with finite capacity requires a significant amount of data to be loaded.</span></span>

## <a name="viewing-scheduling-engine-input-and-output"></a><span data-ttu-id="3a88c-327">Visualizzazione di input e output del motore di pianificazione</span><span class="sxs-lookup"><span data-stu-id="3a88c-327">Viewing scheduling engine input and output</span></span>

<span data-ttu-id="3a88c-328">Per ottenere dettagli specifici dell'input e dell'output del processo di pianificazione, abilita la registrazione selezionando **Amministrazione organizzazione \> Impostazioni \> Pianificazione \> Pannello di controllo tracciatura di programmazione**.</span><span class="sxs-lookup"><span data-stu-id="3a88c-328">To get specific details of the input and output of the scheduling process,  enable logging by going to **Organization administration \> Setup \> Scheduling \> Scheduling tracing cockpit**.</span></span>

<span data-ttu-id="3a88c-329">In questa pagina, seleziona dapprima **Abilita registrazione** nel riquadro azioni.</span><span class="sxs-lookup"><span data-stu-id="3a88c-329">On this page, first select **Enable logging** on the Action Pane.</span></span> <span data-ttu-id="3a88c-330">Quindi esegui la pianificazione per l'ordine di produzione.</span><span class="sxs-lookup"><span data-stu-id="3a88c-330">Then run the scheduling for the production order.</span></span> <span data-ttu-id="3a88c-331">Al termine, torna alla pagina **Pannello di controllo tracciatura di programmazione** e seleziona **Disabilita registrazione** nel riquadro azioni.</span><span class="sxs-lookup"><span data-stu-id="3a88c-331">When complete, return to the **Scheduling tracing cockpit** page and select **Disable logging** on the Action Pane.</span></span> <span data-ttu-id="3a88c-332">Aggiorna la pagina. Una nuova riga verrà visualizzata nella griglia.</span><span class="sxs-lookup"><span data-stu-id="3a88c-332">Refresh the page and a new line will appear in the grid.</span></span> <span data-ttu-id="3a88c-333">Seleziona la nuova riga e seleziona **Scarica** nel riquadro azioni.</span><span class="sxs-lookup"><span data-stu-id="3a88c-333">Select the new line and select **Download** on the Action Pane.</span></span> <span data-ttu-id="3a88c-334">Viene scaricata una cartella compressa contenente i seguenti file:</span><span class="sxs-lookup"><span data-stu-id="3a88c-334">This will give you a .zip compressed folder containing the following files:</span></span>

- <span data-ttu-id="3a88c-335">**Log.txt** - Il file di registro che descrive i passaggi del motore.</span><span class="sxs-lookup"><span data-stu-id="3a88c-335">**Log.txt** - This is the log file that describes the steps that the engine goes through.</span></span> <span data-ttu-id="3a88c-336">È molto elaborato e complesso, ma quando è utilizzato per sperimentare la configurazione dei cicli di lavorazione per risolvere i problemi di prestazioni la prima cosa da cercare è la differenza di tempo tra la prima e l'ultima riga, poiché indica il tempo esatto impiegato dall'utilità di pianificazione.</span><span class="sxs-lookup"><span data-stu-id="3a88c-336">It is very elaborate and can be a bit overwhelming, but when used as part of experimenting with the route setup to resolve performance problems the first thing to look for is the difference in time between the first and the last line, as this will give you the exact time the scheduler has spent.</span></span>
- <span data-ttu-id="3a88c-337">**XmlModel.xml** - Contiene il modello creato in X++ e su cui viene eseguito il motore.</span><span class="sxs-lookup"><span data-stu-id="3a88c-337">**XmlModel.xml** - This contains the model that is built in X++ and that the engine operates on.</span></span> <span data-ttu-id="3a88c-338">Il `JobId` utilizzato nel file è correlato al `RecId` nella tabella di origine contenente i processi (`ReqRouteJob` o`ProdRouteJob`).</span><span class="sxs-lookup"><span data-stu-id="3a88c-338">The `JobId` used in the file correlates to the `RecId` from the source table containing the jobs (`ReqRouteJob` or `ProdRouteJob`).</span></span> <span data-ttu-id="3a88c-339">Ciò che bisogna verificare in questo file è che le date in `ConstraintJobStartsAt` e `ConstraintJobEndsAt` siano quelle previste, che la proprietà `JobGoal` sia impostata correttamente e che i lavori siano correlati tra loro tramite i vincoli `JobLink`.</span><span class="sxs-lookup"><span data-stu-id="3a88c-339">The typical thing to look for in this file is that the dates given in `ConstraintJobStartsAt` and `ConstraintJobEndsAt` are as expected, that the `JobGoal` property is set correctly, and that the jobs are related to each other through the `JobLink` constraints.</span></span>
- <span data-ttu-id="3a88c-340">**XmlSlots.xml** - Contiene tutti i orari di lavoro e le prenotazioni della capacità che il motore ha richiesto.</span><span class="sxs-lookup"><span data-stu-id="3a88c-340">**XmlSlots.xml** - This contains all the working times and capacity reservations that the engine has requested.</span></span> <span data-ttu-id="3a88c-341">Gli orari di lavoro e le prenotazioni del calendario saranno richiesti dal motore solo per i periodi di tempo in cui cerca di posizionare i processi (con un buffer aggiuntivo), quindi se il file contiene orari molto distanti nel futuro, potrebbe essere un'indicazione di un problema con la configurazione.</span><span class="sxs-lookup"><span data-stu-id="3a88c-341">The calendar working times and reservations will only be requested by the engine for the time periods where it tries to place the jobs (and an extra buffer), so if the file contains times very far in the future, it might be an indication of a problem with the setup.</span></span> <span data-ttu-id="3a88c-342">I nodi `ResourceProperty` mostreranno il gruppo di risorse e le competenze a cui ogni risorsa è associata e per quali periodi.</span><span class="sxs-lookup"><span data-stu-id="3a88c-342">The `ResourceProperty` nodes will show for each resource which resource group and capabilities it is associated with for which periods.</span></span>
- <span data-ttu-id="3a88c-343">**Result.xml** - Contiene il risultato dell'esecuzione della pianificazione.</span><span class="sxs-lookup"><span data-stu-id="3a88c-343">**Result.xml** - This contains the result of the scheduling run.</span></span>

<span data-ttu-id="3a88c-344">Tieni presente che la funzionalità di tracciabilità può alterare le prestazioni, quindi utilizzala solo per esaminare la pianificazione di ordini specifici.</span><span class="sxs-lookup"><span data-stu-id="3a88c-344">Note that the tracing functionality can add significant performance overhead, so only use it for investigating scheduling of specific orders in a controlled manner.</span></span> <span data-ttu-id="3a88c-345">Se è attivata durante un'esecuzione di pianificazione generale, raggiungerà rapidamente il relativo limite di dimensioni e si arresterà.</span><span class="sxs-lookup"><span data-stu-id="3a88c-345">If it is turned on during a master planning run it will quickly reach its size limit and stop.</span></span>

## <a name="troubleshooting-performance"></a><span data-ttu-id="3a88c-346">Risoluzione dei problemi relativi alle prestazioni</span><span class="sxs-lookup"><span data-stu-id="3a88c-346">Troubleshooting performance</span></span>

<span data-ttu-id="3a88c-347">Come si può capire leggendo tutte le sezioni precedenti, la configurazione e l'utilizzo del motore di pianificazione presentano alcune insidie che possono condurre a problemi di prestazioni.</span><span class="sxs-lookup"><span data-stu-id="3a88c-347">As can be understood from all of the previous sections, there are some pitfalls when it comes to the setup and usage of the scheduling engine, which can lead to performance problems.</span></span> <span data-ttu-id="3a88c-348">Il seguente elenco di controllo può essere utilizzato per la risoluzione di tali problemi.</span><span class="sxs-lookup"><span data-stu-id="3a88c-348">The following check list can be used for troubleshooting such issues.</span></span> <span data-ttu-id="3a88c-349">È importante esaminare tutti i punti poiché molto spesso i problemi sono dovuti a una combinazione di più fattori.</span><span class="sxs-lookup"><span data-stu-id="3a88c-349">It is important to look at all the points as it is most often a combination of multiple factors that leads to problems.</span></span>

### <a name="performing-scheduling-as-part-of-mrp-when-it-is-not-needed"></a><span data-ttu-id="3a88c-350">Esecuzione della pianificazione nel quadro della pianificazione MRP quando non è necessaria</span><span class="sxs-lookup"><span data-stu-id="3a88c-350">Performing scheduling as part of MRP when it is not needed</span></span>

<span data-ttu-id="3a88c-351">Anche se i cicli di lavorazione vengono utilizzati per scopi di controllo della produzione come la determinazione dei costi e il reporting, potrebbe non essere necessario prenderli in considerazione durante la pianificazione MRP.</span><span class="sxs-lookup"><span data-stu-id="3a88c-351">Even though routes are used for the production control purposes such as costing and reporting, it might not be necessary to consider them during MRP.</span></span> <span data-ttu-id="3a88c-352">In alcuni casi, per la pianificazione sarà sufficiente avere un lead time di produzione standard specificato per l'articolo.</span><span class="sxs-lookup"><span data-stu-id="3a88c-352">In some cases, having a standard production lead time specified for the item will be sufficient for planning.</span></span> <span data-ttu-id="3a88c-353">Per disattivare la pianificazione dei cicli di lavorazione, imposta l'intervallo temporale di capacità su zero.</span><span class="sxs-lookup"><span data-stu-id="3a88c-353">To turn off route scheduling, set the capacity time fence to zero.</span></span> <span data-ttu-id="3a88c-354">Se è necessario eseguire la pianificazione, l'intervallo temporale di capacità deve essere impostato c on attenzione perché potrebbe non essere necessario prendere in considerazione i cicli di lavorazione per l'intera estensione dell'intervallo temporale di copertura della pianificazione MRP.</span><span class="sxs-lookup"><span data-stu-id="3a88c-354">If scheduling should be done, then the capacity time fence must be carefully set because it might not be necessary to consider routes for the full extent of the MRP's coverage time fence.</span></span>

<span data-ttu-id="3a88c-355">Nota che se l'ordine non è pianificato durante la pianificazione MRP, sarà invece necessario pianificarlo quando l'ordine pianificato viene stabilizzato.</span><span class="sxs-lookup"><span data-stu-id="3a88c-355">Note that if the order is not scheduled during MRP, then it will instead need to be scheduled when the planned order is firmed.</span></span> <span data-ttu-id="3a88c-356">Ciò significa che il processo di stabilizzazione richiederà più tempo, quindi a seconda di quanti degli ordini pianificati suggeriti vengono stabilizzati, il miglioramento delle prestazioni durante la pianificazione MRP potrebbe essere annullato durante la stabilizzazione.</span><span class="sxs-lookup"><span data-stu-id="3a88c-356">This means that the firming process will take longer, so depending on how many of the suggested planned orders get firmed the performance gain during MRP might be lost at firming.</span></span>

### <a name="route-with-unnecessary-operations"></a><span data-ttu-id="3a88c-357">Ciclo di lavorazione con operazioni non necessarie</span><span class="sxs-lookup"><span data-stu-id="3a88c-357">Route with unnecessary operations</span></span>

<span data-ttu-id="3a88c-358">Quando si progetta il ciclo di lavorazione, si è tentati di provare a modellare il mondo reale esattamente con tutti i passaggi della produzione.</span><span class="sxs-lookup"><span data-stu-id="3a88c-358">When designing the route, it is tempting to try to model the real world exactly with all the steps the production goes through.</span></span> <span data-ttu-id="3a88c-359">Sebbene ciò possa essere utile in alcuni casi, dal punto di vista delle prestazioni è controproducente poiché le dimensioni del modello su cui il motore deve lavorare aumentano (sia in termini di processi che di vincoli) e verranno eseguite più istruzioni SQL per l'inserimento e l'aggiornamento dei processi e delle prenotazioni della capacità.</span><span class="sxs-lookup"><span data-stu-id="3a88c-359">While this can be useful in some cases, it is not good for the performance as the model the engine needs to work on gets larger (both in terms of jobs and constraints) and more SQL statements will be executed for insertion and update of the jobs and capacity reservations.</span></span> <span data-ttu-id="3a88c-360">Inoltre, si ha l'effetto downstream di dover infine segnalare l'avanzamento nei processi, che può essere mitigato con registrazioni automatiche.</span><span class="sxs-lookup"><span data-stu-id="3a88c-360">Also, there is the downstream effect of having to eventually report progress on the jobs, which can be mitigated with automatic postings.</span></span> <span data-ttu-id="3a88c-361">Se i dati non vengono utilizzati, creano un carico non necessario.</span><span class="sxs-lookup"><span data-stu-id="3a88c-361">If the data is not used for anything, it creates unnecessary load.</span></span>

<span data-ttu-id="3a88c-362">Si consiglia di creare solo operazioni strettamente necessarie per la pianificazione (che in genere saranno le risorse collo di bottiglia) e/o per la determinazione dei costi.</span><span class="sxs-lookup"><span data-stu-id="3a88c-362">We recommend that you only create operations that are strictly needed for scheduling (which will typically be the bottleneck resources) and/or costing purposes.</span></span> <span data-ttu-id="3a88c-363">In alternativa, devi raggruppare molte operazioni distinte più piccole in un'operazione più grande che rappresenta una parte maggiore del processo.</span><span class="sxs-lookup"><span data-stu-id="3a88c-363">Alternatively you should group many smaller distinct operations into one larger operation that represents a greater part of the process.</span></span>

### <a name="many-applicable-resources-for-an-operation"></a><span data-ttu-id="3a88c-364">Molte risorse applicabili per un'operazione</span><span class="sxs-lookup"><span data-stu-id="3a88c-364">Many applicable resources for an operation</span></span>

<span data-ttu-id="3a88c-365">Il numero di risorse applicabili per un'operazione viene determinato mediante requisiti di risorse impostati nella relazione operativa.</span><span class="sxs-lookup"><span data-stu-id="3a88c-365">The number of applicable resources for an operation is determined by the resource requirements set on the operation relation.</span></span> <span data-ttu-id="3a88c-366">Il requisito può essere per una risorsa (individuale) specifica oppure può essere basato sull'appartenenza della risorsa a un gruppo di risorse o una competenza.</span><span class="sxs-lookup"><span data-stu-id="3a88c-366">The requirement can either be for a specific (individual) resource or it can be based on the resource's membership of a resource group or capability.</span></span>

<span data-ttu-id="3a88c-367">Se la pianificazione non viene eseguita utilizzando la capacità finita e tutte le risorse applicabili hanno lo stesso calendario ed efficienza, il motore di pianificazione finirà sempre per scegliere la stessa risorsa per un'operazione, ma solo dopo aver provato tutte le risorse applicabili per verificare se ce n'è una che è "migliore" delle altre.</span><span class="sxs-lookup"><span data-stu-id="3a88c-367">If scheduling is not done using finite capacity and all the applicable resources have the same calendar and efficiency, then the scheduling engine will always end up picking the same resource for an operation, but only after trying all the applicable resources to check if there is one that is "better" than the others.</span></span> <span data-ttu-id="3a88c-368">In questo caso, il carico della pianificazione può essere notevolmente ridotto semplicemente assegnando sempre una specifica risorsa all'operazione durante la progettazione del ciclo di lavorazione.</span><span class="sxs-lookup"><span data-stu-id="3a88c-368">In this case, the load of the scheduling can be greatly reduced simply by always assigning a specific resource to the operation at the route design time.</span></span>

### <a name="route-with-parallel-operations"></a><span data-ttu-id="3a88c-369">Ciclo di lavorazione con operazioni parallele</span><span class="sxs-lookup"><span data-stu-id="3a88c-369">Route with parallel operations</span></span>

<span data-ttu-id="3a88c-370">Sebbene le operazioni parallele (primarie/secondarie) siano un potente strumento per modellare scenari in cui una macchina e un operatore sono entrambi necessari per eseguire un'attività specifica, sono anche l'origine di molti problemi di prestazioni.</span><span class="sxs-lookup"><span data-stu-id="3a88c-370">While parallel operations (primary/secondary) are a powerful tool to model scenarios like when a machine and an operator are both needed to perform a specific task, it is also the source of many performance issues.</span></span> <span data-ttu-id="3a88c-371">Se un requisito per una singola risorsa specifica viene assegnato sia all'operazione primaria che a quella secondaria, in genere non è un problema.</span><span class="sxs-lookup"><span data-stu-id="3a88c-371">If a requirement for a specific individual resource is assigned to both the primary and secondary operation, it is typically not a problem.</span></span> <span data-ttu-id="3a88c-372">Ma se ci sono molte risorse possibili per ciascuna delle operazioni, allora aggiunge una significativa complessità computazionale alla pianificazione.</span><span class="sxs-lookup"><span data-stu-id="3a88c-372">But if there are many possible resources for each of the operations, then it adds significant computational complexity to the scheduling.</span></span>

<span data-ttu-id="3a88c-373">Un'alternativa all'uso di operazioni parallele è modellare le coppie come risorse "virtuali" (che rappresenteranno quindi il team sempre associato all'operazione) o semplicemente non modellare una delle operazioni se non rappresenta un collo di bottiglia.</span><span class="sxs-lookup"><span data-stu-id="3a88c-373">An alternative to using parallel operations is either to model the pairs as "virtual" resources (which will then represent the team that always goes together for the operation) or to simply not model one of the operations if it doesn't represent a bottleneck.</span></span>

### <a name="route-with-quantity-of-resources-higher-than-1"></a><span data-ttu-id="3a88c-374">Ciclo di lavorazione con una quantità di risorse superiore a uno</span><span class="sxs-lookup"><span data-stu-id="3a88c-374">Route with quantity of resources higher than 1</span></span>

<span data-ttu-id="3a88c-375">Se si imposta la quantità di risorse necessarie per un'operazione su un valore superiore a uno, risulta effettivamente uguale all'utilizzo di operazioni primarie/secondarie poiché più lavori paralleli vengono inviati al motore.</span><span class="sxs-lookup"><span data-stu-id="3a88c-375">If setting the quantity of resources needed for an operation higher than one, then it results effectively the same as using primary/secondary operations because multiple parallel jobs are sent to the engine.</span></span> <span data-ttu-id="3a88c-376">Tuttavia, per questo caso non è possibile utilizzare assegnazioni di risorse specifiche, poiché una quantità superiore a una richiede che più di una risorsa sia applicabile per l'operazione.</span><span class="sxs-lookup"><span data-stu-id="3a88c-376">However, for this case there is not an option of using specific resource assignments, because a quantity higher than one requires that more than one resource is applicable for the operation.</span></span>

### <a name="excessive-use-of-finite-capacity"></a><span data-ttu-id="3a88c-377">Uso eccessivo di una capacità finita</span><span class="sxs-lookup"><span data-stu-id="3a88c-377">Excessive use of finite capacity</span></span>

<span data-ttu-id="3a88c-378">L'utilizzo di una capacità finita richiede che il motore carichi le informazioni sulla capacità da un database e può avere un sovraccarico di calcolo in quanto sarà più difficile trovare una soluzione soprattutto negli ambienti in cui le risorse sono prenotate quasi alla loro capacità massima.</span><span class="sxs-lookup"><span data-stu-id="3a88c-378">Use of finite capacity requires the engine to load the capacity information from a database and can have a computational overhead because it will be harder to find a solution especially in environments where the resources are booked close to their maximum capacity.</span></span> <span data-ttu-id="3a88c-379">Di conseguenza, è importante valutare attentamente se una risorsa ha davvero bisogno di utilizzare una capacità finita o se può essere prenotata in eccesso.</span><span class="sxs-lookup"><span data-stu-id="3a88c-379">As a result, it is important to carefully evaluate if a resource really needs to use finite capacity or they can be overbooked.</span></span> <span data-ttu-id="3a88c-380">Poiché l'importanza di non prenotare in eccesso le risorse a capacità finita è variabile, si consiglia di utilizzare l'opzione collo di bottiglia su una risorsa in combinazione con un valore distinto sul piano in "Intervallo temporale capacità per risorse collo di bottiglia".</span><span class="sxs-lookup"><span data-stu-id="3a88c-380">Because there might be a difference among finite capacity resources in how important they are not to overbook, we recommend using the bottleneck option on a resource in combination with a separate value on the plan in "Capacity time fence for bottleneck resources".</span></span> <span data-ttu-id="3a88c-381">L'utilizzo del concetto di collo di bottiglia può consentire di abbassare il limite temporale generale della capacità finita.</span><span class="sxs-lookup"><span data-stu-id="3a88c-381">Using the bottleneck concept can enable that the general finite capacity time fence can be lowered.</span></span>

### <a name="setting-hard-links"></a><span data-ttu-id="3a88c-382">Impostazione di collegamenti rigidi</span><span class="sxs-lookup"><span data-stu-id="3a88c-382">Setting hard links</span></span>

<span data-ttu-id="3a88c-383">Il tipo di collegamento standard del ciclo di lavorazione è *flessibile*, il che significa che è consentito un intervallo temporale tra l'ora di fine di un'operazione e l'inizio di quella successiva.</span><span class="sxs-lookup"><span data-stu-id="3a88c-383">The standard link type of the route is *soft*, which means that a time gap is allowed between the finishing time of one operation and the start of the next.</span></span> <span data-ttu-id="3a88c-384">Questa tolleranza può avere l'effetto indesiderabile di interrompere la produzione per un determinato periodo di tempo e quindi implicare un aumento del lavoro in corso se i materiali o la capacità non sono disponibili per una delle operazioni per un periodo molto lungo.</span><span class="sxs-lookup"><span data-stu-id="3a88c-384">Allowing this can have the unfortunate effect that, if materials or capacity are not available for one of the operations for a very long time, the production could be idle for quite a while, meaning a possible increase of work in progress.</span></span> <span data-ttu-id="3a88c-385">Ciò non avviene con i collegamenti rigidi perché l'inizio devono essere perfettamente allineati.</span><span class="sxs-lookup"><span data-stu-id="3a88c-385">This will not happen with hard links because the finish and start must align perfectly.</span></span> <span data-ttu-id="3a88c-386">Tuttavia, l'impostazione di collegamenti rigidi complica il problema della pianificazione perché l'intersezione tra l'orario di lavoro e la capacità deve essere calcolata per due risorse delle operazioni.</span><span class="sxs-lookup"><span data-stu-id="3a88c-386">But setting hard links makes the scheduling problem more difficult because working time and capacity intersections must be calculated for the two resources of the operations.</span></span> <span data-ttu-id="3a88c-387">Se sono coinvolte anche operazioni parallele, ciò aggiunge un tempo di calcolo significativo.</span><span class="sxs-lookup"><span data-stu-id="3a88c-387">If there are also parallel operations involved, this adds significant computational time.</span></span> <span data-ttu-id="3a88c-388">Se le risorse delle due operazioni hanno calendari diversi che non si sovrappongono affatto, il problema è irrisolvibile.</span><span class="sxs-lookup"><span data-stu-id="3a88c-388">If the resources of the two operations have different calendars that don't overlap at all, the problem is unsolvable.</span></span>

<span data-ttu-id="3a88c-389">Si consiglia di utilizzare collegamenti rigidi solo quando strettamente necessario e valutare attentamente se è necessario per ciascuna operazione del ciclo di lavorazione.</span><span class="sxs-lookup"><span data-stu-id="3a88c-389">We recommend using hard links only when strictly necessary, and carefully consider if it is necessary for each operation of the route.</span></span>

<span data-ttu-id="3a88c-390">Per ridurre il lavoro in corso senza applicare collegamenti rigidi, una soluzione è programmare due volte l'ordine scegliendo la direzione contraria per il secondo passaggio.</span><span class="sxs-lookup"><span data-stu-id="3a88c-390">To reduce the work in progress without applying hard links, a trick is to schedule the order twice with changing to the opposite direction for the second pass.</span></span> <span data-ttu-id="3a88c-391">Se la prima pianificazione è stata eseguita a ritroso dalla data di consegna, la seconda deve essere eseguita in avanti a partire dalla data di inizio pianificata.</span><span class="sxs-lookup"><span data-stu-id="3a88c-391">If the first schedule was done backwards from delivery date, then the second should be done forward from the scheduled start date.</span></span> <span data-ttu-id="3a88c-392">Ciò comporterà la compressione massima dei processi in modo da ridurre al minimo il lavoro in corso.</span><span class="sxs-lookup"><span data-stu-id="3a88c-392">This will result in the jobs being compressed as much as possible so that the work in progress is minimized.</span></span>

### <a name="separate-calendar-for-each-resource"></a><span data-ttu-id="3a88c-393">Calendario distinto per ogni risorsa</span><span class="sxs-lookup"><span data-stu-id="3a88c-393">Separate calendar for each resource</span></span>

<span data-ttu-id="3a88c-394">Una delle principali origini dati per il motore di pianificazione sono le informazioni del calendario, il cui caricamento dal database può risultare costoso.</span><span class="sxs-lookup"><span data-stu-id="3a88c-394">One of the main sources of data for the scheduling engine is calendar information, which can be expensive to load from the database.</span></span> <span data-ttu-id="3a88c-395">Poiché i calendari vengono generati in base a modelli, si sarebbe tentati di generare un calendario per ogni risorsa e quindi modificare le informazioni in questo calendario quando la risorsa ha tempi di inattività e altri problemi.</span><span class="sxs-lookup"><span data-stu-id="3a88c-395">Because calendars are generated based on templates, it would be tempting to generate a calendar for each resource and then adjust the information in this calendar when the resource has downtime and other issues.</span></span> <span data-ttu-id="3a88c-396">Tuttavia, questa operazione limiterà notevolmente la capacità dei motori di memorizzare nella cache i dati del calendario poiché richiederebbe nuovi dati per ciascuna risorsa e può essere una fonte importante di problemi di prestazioni.</span><span class="sxs-lookup"><span data-stu-id="3a88c-396">However, doing this will severely limit the engines ability to cache the calendar data as it would need to request new data for each resource and can be a large source of performance problems.</span></span> <span data-ttu-id="3a88c-397">Consigliamo invece di riutilizzare il più possibile i calendari tra le risorse e quindi di controllare le modifiche ai tempi di inattività assegnando un ID calendario diverso per un periodo.</span><span class="sxs-lookup"><span data-stu-id="3a88c-397">Instead, we recommend that you reuse the calendars as much as possible between the resources, and then control downtime changes by assigning a different calendar ID for a period.</span></span>

### <a name="high-number-of-working-time-slots-per-calendar-day"></a><span data-ttu-id="3a88c-398">Numero elevato di fasce orarie di lavoro per giorno di calendario</span><span class="sxs-lookup"><span data-stu-id="3a88c-398">High number of working time slots per calendar day</span></span>

<span data-ttu-id="3a88c-399">Poiché il motore funziona esaminando ogni singola fascia oraria per la capacità, è utile ridurre al minimo il numero di fasce orarie per giorno di calendario.</span><span class="sxs-lookup"><span data-stu-id="3a88c-399">Because the engine works by examining time slots one-by-one for capacity, it is beneficial to minimize the number of time slots per calendar day.</span></span> <span data-ttu-id="3a88c-400">Ciò potrebbe essere fatto, ad esempio, valutando se è importante che la pianificazione risultante rifletta il fatto che i lavoratori hanno una pausa di 5 minuti ogni ora.</span><span class="sxs-lookup"><span data-stu-id="3a88c-400">This could be done, for example, by considering whether it's important for the resulting schedule to reflect that workers have a 5-minute break every hour.</span></span>

### <a name="large-or-none-scheduling-timeouts"></a><span data-ttu-id="3a88c-401">Timeout di pianificazione importanti (o inesistenti)</span><span class="sxs-lookup"><span data-stu-id="3a88c-401">Large (or none) scheduling timeouts</span></span>

<span data-ttu-id="3a88c-402">Le prestazioni del motore di pianificazione possono essere ottimizzate utilizzando i parametri presenti nella pagina **Parametri di pianificazione**.</span><span class="sxs-lookup"><span data-stu-id="3a88c-402">Scheduling engine performance can be optimized using parameters found on the **Scheduling parameters** page.</span></span> <span data-ttu-id="3a88c-403">Le impostazioni **Timeout pianificazione abilitato** e **Timeout ottimizzazione pianificazione abilitato** devono essere sempre impostate su **Sì**.</span><span class="sxs-lookup"><span data-stu-id="3a88c-403">The **Scheduling timeout enabled** and **Scheduling optimization timeout enabled** settings should always be set to **Yes**.</span></span> <span data-ttu-id="3a88c-404">Se impostate su **No**, la pianificazione può potenzialmente essere eseguita all'infinito se è stato creato un ciclo di lavorazione non fattibile con molte opzioni.</span><span class="sxs-lookup"><span data-stu-id="3a88c-404">If set to **No**, the scheduling can potentially run infinitely if an unfeasible route with many options has been created.</span></span>

<span data-ttu-id="3a88c-405">Il valore di **Tempo di pianificazione per sequenza** determina il numero massimo di secondi durante i quali viene eseguita la ricerca di una soluzione per una singola sequenza (nella maggior parte dei casi una sequenza corrisponde a un singolo ordine).</span><span class="sxs-lookup"><span data-stu-id="3a88c-405">The value for **Maximum scheduling time per sequence** controls how many seconds can, at most, be spent trying to find a solution for a single sequence (in most cases a sequence corresponds to a single order).</span></span> <span data-ttu-id="3a88c-406">Il valore da utilizzare dipende molto dalla complessità del ciclo di lavorazione e da impostazioni come la capacità finita, ma un massimo di circa 30 secondi è un buon punto di partenza.</span><span class="sxs-lookup"><span data-stu-id="3a88c-406">The value to use here highly depends on the complexity of the route and settings like finite capacity, ut a maximum of about 30 seconds is a good starting point.</span></span>

<span data-ttu-id="3a88c-407">Il valore di **Timeout tentativi ottimizzazione** determina il numero massimo di secondi durante i quali viene eseguita la ricerca di una soluzione di quella trovata originariamente.</span><span class="sxs-lookup"><span data-stu-id="3a88c-407">The value for **Optimization attempts timeout** controls how many seconds can at most be used to find a better solution than the one originally found.</span></span> <span data-ttu-id="3a88c-408">Ciò influenzerà solo i cicli lavorativi che utilizzano operazioni parallele poiché queste rendono necessario testare diverse combinazioni.</span><span class="sxs-lookup"><span data-stu-id="3a88c-408">This will only influence routes that are using parallel operations as these make it necessary to test different combinations.</span></span>

> [!NOTE]
> <span data-ttu-id="3a88c-409">I valori impostati per i timeout verranno applicati sia per la pianificazione degli ordini di produzione rilasciati sia per gli ordini pianificati nel quadro della pianificazione MRP.</span><span class="sxs-lookup"><span data-stu-id="3a88c-409">The values set for the timeouts will be applied both for scheduling of released production orders and of planned orders as part of MRP.</span></span> <span data-ttu-id="3a88c-410">Di conseguenza, l'impostazione di valori molto alti potrebbe aumentare notevolmente il tempo di esecuzione della pianificazione MRP durante l'esecuzione di un piano con molti ordini di produzione pianificati.</span><span class="sxs-lookup"><span data-stu-id="3a88c-410">As a result, setting very high values could significantly add to the run time of MRP when running for a plan with many planned production orders.</span></span>


[!INCLUDE[footer-include](../../includes/footer-banner.md)]