---
title: Procedure consigliate per l'importazione di giustificativi utilizzando l'entità giornale di registrazione generale
description: In questo argomento vengono forniti suggerimenti per l'importazione dei dati nel giornale di registrazione generale tramite l'entità giornale di registrazione generale.
author: ShylaThompson
manager: AnnBe
ms.date: 06/20/2017
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-platform
ms.technology: ''
audience: Application User
ms.reviewer: sericks
ms.search.scope: Core, Operations
ms.custom: 94363
ms.assetid: 0b8149b5-32c5-4518-9ebd-09c9fd7f4cfc
ms.search.region: Global
ms.author: kweekley
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: 167afa70bfa35b966081709f1587d61d401d318f
ms.sourcegitcommit: 16bfa0fd08feec1647829630401ce62ce2ffa1a4
ms.translationtype: HT
ms.contentlocale: it-IT
ms.lasthandoff: 08/02/2019
ms.locfileid: "1848183"
---
# <a name="best-practices-for-importing-vouchers-by-using-the-general-journal-entity"></a><span data-ttu-id="cdf3c-103">Procedure consigliate per l'importazione di giustificativi utilizzando l'entità giornale di registrazione generale</span><span class="sxs-lookup"><span data-stu-id="cdf3c-103">Best practices for importing vouchers by using the General journal entity</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="cdf3c-104">In questo argomento vengono forniti suggerimenti per l'importazione dei dati nel giornale di registrazione generale tramite l'entità giornale di registrazione generale.</span><span class="sxs-lookup"><span data-stu-id="cdf3c-104">This topic provides tips for importing data into the General journal by using the General journal entity.</span></span>

<span data-ttu-id="cdf3c-105">È possibile utilizzare l'entità giornale di registrazione generale per importare i giustificativi che dispongono di un tipo di conto o di conto di contropartita **Contabilità generale, Cliente, Fornitore o Bancario**.</span><span class="sxs-lookup"><span data-stu-id="cdf3c-105">You can use the General journal entity to import vouchers that have an account or offset account type of **Ledger, Customer, Vendor, or Bank**.</span></span> <span data-ttu-id="cdf3c-106">Il giustificativo può essere immesso come riga unica, usando sia il campo **Conto** che il campo **Conto di contropartita** , o come giustificativo con più righe. In questo caso viene utilizzato solo il campo **Conto** e il campo **Conto di contropartita** viene lasciato vuoto su ogni riga.</span><span class="sxs-lookup"><span data-stu-id="cdf3c-106">The voucher can be entered as one line, using both the **Account** field and the **Offset account** field, or as a multi-line voucher, where only the **Account** field is used (and the **Offset account** is left blank on each line).</span></span> <span data-ttu-id="cdf3c-107">L'entità giornale di registrazione generale non supporta tutti i tipi di conto.</span><span class="sxs-lookup"><span data-stu-id="cdf3c-107">The General journal entity doesn't support every account type.</span></span> <span data-ttu-id="cdf3c-108">Invece, altre entità esistono per gli scenari in cui sono necessarie diverse combinazioni di tipi di conto.</span><span class="sxs-lookup"><span data-stu-id="cdf3c-108">Instead, other entities exist for scenarios where different combinations of account types are required.</span></span> <span data-ttu-id="cdf3c-109">Ad esempio, per importare una transazione di progetto, utilizzare l'entità giornale di registrazione spese di progetto.</span><span class="sxs-lookup"><span data-stu-id="cdf3c-109">For example, to import a project transaction, use the Project expense journal entity.</span></span> <span data-ttu-id="cdf3c-110">Ogni entità è progettata per supportare scenari specifici. Questo significa che campi aggiuntivi potrebbero essere disponibili in entità per questi scenari ma non in entità di uno scenario diverso.</span><span class="sxs-lookup"><span data-stu-id="cdf3c-110">Each entity is designed to support specific scenarios, which means additional fields may be available in entities for those scenarios but not in entities for a different scenario.</span></span>

## <a name="setup"></a><span data-ttu-id="cdf3c-111">Imposta</span><span class="sxs-lookup"><span data-stu-id="cdf3c-111">Setup</span></span>
<span data-ttu-id="cdf3c-112">Prima di importare utilizzando l'entità giornale di registrazione generale, convalidare l'impostazione seguente:</span><span class="sxs-lookup"><span data-stu-id="cdf3c-112">Before you import by using the General journal entity, validate the following setup:</span></span>

- <span data-ttu-id="cdf3c-113">**Impostazione di sequenza numerica per il numero di batch del giornale di registrazione** – per impostazione predefinita, quando si importa utilizzando l'entità giornale di registrazione generale, il numero batch del giornale di registrazione utilizza la sequenza numerica definita nei parametri di contabilità generale.</span><span class="sxs-lookup"><span data-stu-id="cdf3c-113">**Number sequence setup for the journal batch number** – By default, when you import by using the General journal entity, the journal batch number uses the number sequence that is defined in the General ledger parameters.</span></span> <span data-ttu-id="cdf3c-114">Se si imposta la sequenza numerica per il numero di batch del giornale di registrazione su **Manuale**, un numero predefinito non viene applicato.</span><span class="sxs-lookup"><span data-stu-id="cdf3c-114">If you set the number sequence for the journal batch number to **Manual**, a default number isn't applied.</span></span> <span data-ttu-id="cdf3c-115">Questa impostazione non è supportata.</span><span class="sxs-lookup"><span data-stu-id="cdf3c-115">This setup isn't supported.</span></span>
- <span data-ttu-id="cdf3c-116">**Configurazione della dimensione finanziaria** – ogni organizzazione deve definire l'ordine delle dimensioni finanziarie quando le entità vengono utilizzate per importare le transazioni.</span><span class="sxs-lookup"><span data-stu-id="cdf3c-116">**Financial dimension configuration** – Every organization must define the order of financial dimensions when entities are used to import transactions.</span></span> <span data-ttu-id="cdf3c-117">L'ordine viene definito per il formato **Integrazione dimensioni contabilità generale** in **Contabilità generale** &gt; **Piano dei conti** &gt; **Dimensioni** &gt; **Configurazione dimensione finanziaria per integrazione applicazioni** &gt; **Seleziona entità di dati**.</span><span class="sxs-lookup"><span data-stu-id="cdf3c-117">The order is defined for the **Ledger dimensions integration** format, at **General ledger** &gt; **Chart of accounts** &gt; **Dimensions** &gt; **Financial dimension configuration for integrating applications** &gt; **Select data entities**.</span></span> <span data-ttu-id="cdf3c-118">I segmenti del conto CoGe da importare devono avere lo stesso ordine.</span><span class="sxs-lookup"><span data-stu-id="cdf3c-118">The segments of the ledger account that is imported must have the same order.</span></span> <span data-ttu-id="cdf3c-119">In caso contrario, si verificherà un errore durante l'importazione.</span><span class="sxs-lookup"><span data-stu-id="cdf3c-119">Otherwise, an error will occur during import.</span></span>

## <a name="general-journal-entity-setup"></a><span data-ttu-id="cdf3c-120">Impostazione dell'entitò giornale di registrazione generale</span><span class="sxs-lookup"><span data-stu-id="cdf3c-120">General journal entity setup</span></span>
<span data-ttu-id="cdf3c-121">Due impostazioni nella gestione dei dati influiscono sulla modalità di applicazione del numero batch o sul numero giustificativo del giornale di registrazione predefinito:</span><span class="sxs-lookup"><span data-stu-id="cdf3c-121">Two settings in Data management affect how the default journal batch number or voucher number is applied:</span></span>

- <span data-ttu-id="cdf3c-122">**Elaborazione basata su set** (nell'entità di dati)</span><span class="sxs-lookup"><span data-stu-id="cdf3c-122">**Set-based processing** (on the data entity)</span></span>
- <span data-ttu-id="cdf3c-123">**Generata automaticamente** (per il mapping dei campi)</span><span class="sxs-lookup"><span data-stu-id="cdf3c-123">**Auto-generated** (on the field mapping)</span></span>

<span data-ttu-id="cdf3c-124">Nelle sezioni seguenti viene descritto l'effetto di queste impostazioni e anche spiegato come vengono generati i numeri batch del giornale di registrazione e i numeri di giustificativo.</span><span class="sxs-lookup"><span data-stu-id="cdf3c-124">The following sections describe the effect of these settings, and also explain how journal batch numbers and voucher numbers are generated.</span></span>

### <a name="journal-batch-number"></a><span data-ttu-id="cdf3c-125">Numero batch giornale di registrazione</span><span class="sxs-lookup"><span data-stu-id="cdf3c-125">Journal batch number</span></span>

- <span data-ttu-id="cdf3c-126">L'impostazione **Elaborazione basata su set** dell'entità giornale di registrazione generale non influenza la modalità di generazione di numeri batch del giornale di registrazione.</span><span class="sxs-lookup"><span data-stu-id="cdf3c-126">The **Set-based processing** setting on the General journal entity doesn't affect the way that journal batch numbers are generated.</span></span>
- <span data-ttu-id="cdf3c-127">Se il campo **Numero batch giornale di registrazione** è impostato su **Generato automaticamente**, viene creato un nuovo numero di batch del giornale di registrazione per ogni riga che viene importata.</span><span class="sxs-lookup"><span data-stu-id="cdf3c-127">If the **Journal batch number** field is set to **Auto-generated**, a new journal batch number is created for every line that is imported.</span></span> <span data-ttu-id="cdf3c-128">Questo comportamento non è consigliato.</span><span class="sxs-lookup"><span data-stu-id="cdf3c-128">This behavior isn't recommended.</span></span> <span data-ttu-id="cdf3c-129">L'impostazione **Generato automaticamente** è presente nel progetto di importazione, in **Visualizza mapping** nella scheda **Dettagli mapping**.</span><span class="sxs-lookup"><span data-stu-id="cdf3c-129">The **Auto-generated** setting is found on the import project, under **View map**, on the **Mapping details** tab.</span></span>
- <span data-ttu-id="cdf3c-130">Se il campo **Numero batch giornale di registrazione** non è impostato su **Generato automaticamente**, viene creato il nuovo numero di batch del giornale di registrazione come segue:</span><span class="sxs-lookup"><span data-stu-id="cdf3c-130">If the **Journal batch number** field isn't set to **Auto-generated**, the journal batch number is created as follows:</span></span>

    - <span data-ttu-id="cdf3c-131">Se il numero di batch del giornale di registrazione che è definito nel file importato corrisponde a un giornale di registrazione quotidiano esistente e non registrato, tutte le righe che hanno un numero di batch di giornale di registrazione corrispondente vengono importate nel giornale di registrazione esistente.</span><span class="sxs-lookup"><span data-stu-id="cdf3c-131">If the journal batch number that is defined in the imported file matches an existing, unposted daily journal, all lines that have a matching journal batch number are imported into the existing journal.</span></span> <span data-ttu-id="cdf3c-132">Le righe non vengono mai importate in un numero di batch di giornale di registrazione registrato.</span><span class="sxs-lookup"><span data-stu-id="cdf3c-132">Lines are never imported into a posted journal batch number.</span></span> <span data-ttu-id="cdf3c-133">Al contrario, viene creato un nuovo numero.</span><span class="sxs-lookup"><span data-stu-id="cdf3c-133">Instead, a new number is created.</span></span>
    - <span data-ttu-id="cdf3c-134">Se il numero di batch del giornale di registrazione che è definito nel file importato non corrisponde a un giornale di registrazione quotidiano esistente e non registrato, tutte le righe che hanno lo stesso numero di batch di giornale di registrazione vengono raggruppate in un nuovo giornale di registrazione.</span><span class="sxs-lookup"><span data-stu-id="cdf3c-134">If the journal batch number that is defined in the imported file doesn't match an existing, unposted daily journal, all lines that have the same journal batch number are grouped under a new journal.</span></span> <span data-ttu-id="cdf3c-135">Ad esempio, tutte le righe che hanno un numero di batch del giornale di registrazioni di 1 vengono importate in un nuovo giornale e tutte le righe che hanno un numero di batch del giornale di registrazione di 2 vengono importate in un secondo nuovo giornale di registrazione.</span><span class="sxs-lookup"><span data-stu-id="cdf3c-135">For example, all lines that have a journal batch number of 1 are imported into a new journal, and all lines that have a journal batch number of 2 are imported into a second new journal.</span></span> <span data-ttu-id="cdf3c-136">Il numero di batch del giornale di registrazione viene creato utilizzando la sequenza numerica definita nei parametri di contabilità generale.</span><span class="sxs-lookup"><span data-stu-id="cdf3c-136">The journal batch number is created by using the number sequence that is defined in the General ledger parameters.</span></span>

### <a name="voucher-number"></a><span data-ttu-id="cdf3c-137">Numero del giustificativo</span><span class="sxs-lookup"><span data-stu-id="cdf3c-137">Voucher number</span></span>

- <span data-ttu-id="cdf3c-138">Quando si utilizza l'impostazione **Elaborazione basata su set** nell'entità giornale di registrazione generale, il numero di giustificativo deve essere fornito nel file importato.</span><span class="sxs-lookup"><span data-stu-id="cdf3c-138">When you use the **Set-based processing** setting on the General journal entity, the voucher number must be provided in the imported file.</span></span> <span data-ttu-id="cdf3c-139">A tutte le transazioni nel giornale di registrazione generale viene assegnato il numero di giustificativo che viene fornito nel file importato, anche se il giustificativo non è bilanciato.</span><span class="sxs-lookup"><span data-stu-id="cdf3c-139">Every transaction in the General journal is assigned the voucher number that is provided in the imported file, even if the voucher isn’t balanced.</span></span> <span data-ttu-id="cdf3c-140">Se si desidera utilizzare l'elaborazione basata su set, ma si desidera anche utilizzare la sequenza numerica definita per i numeri di giustificativo, è disponibile un aggiornamento rapido per la versione di febbraio 2016.</span><span class="sxs-lookup"><span data-stu-id="cdf3c-140">If you want to use set-based processing, but you also want to use the number sequence that is defined for voucher numbers, a hotfix has been provided for the February 2016 release.</span></span> <span data-ttu-id="cdf3c-141">Il numero di aggiornamento rapido è 3170316 ed è disponibile per il download da Lifecycle Services (LCS).</span><span class="sxs-lookup"><span data-stu-id="cdf3c-141">The hotfix number is 3170316 and available for download from Lifecycle services (LCS).</span></span> <span data-ttu-id="cdf3c-142">Per ulteriori informazioni, vedere [Download degli aggiornamenti rapidi da Lifecycle Services](../migration-upgrade/download-hotfix-lcs.md).</span><span class="sxs-lookup"><span data-stu-id="cdf3c-142">For more information, see [Download hotfixes from Lifecycle Services](../migration-upgrade/download-hotfix-lcs.md).</span></span>

    - <span data-ttu-id="cdf3c-143">Per abilitare questa funzionalità, nel nome del giornale di registrazione utilizzato per le importazioni impostare **Assegnazione numero in fase di registrazione** su **Sì**.</span><span class="sxs-lookup"><span data-stu-id="cdf3c-143">To enable this functionality, on the journal name that is used for imports, set **Number allocation at posting** to **Yes**.</span></span>
    - <span data-ttu-id="cdf3c-144">Un numero di giustificativo deve comunque essere definito nel file importato.</span><span class="sxs-lookup"><span data-stu-id="cdf3c-144">A voucher number must still be defined in the imported file.</span></span> <span data-ttu-id="cdf3c-145">Tuttavia, questo numero è temporaneo e viene sovrascritto dal numero di giustificativo quando il giornale di registrazione viene registrato.</span><span class="sxs-lookup"><span data-stu-id="cdf3c-145">However, this number is temporary and is overwritten by the voucher number when the journal is posted.</span></span> <span data-ttu-id="cdf3c-146">È necessario assicurarsi che le righe del giornale di registrazione sono raggruppate correttamente per numero di giustificativo temporaneo.</span><span class="sxs-lookup"><span data-stu-id="cdf3c-146">You must make sure that the lines of the journal are grouped correctly by temporary voucher number.</span></span> <span data-ttu-id="cdf3c-147">Ad esempio, durante la registrazione, vengono trovate tre righe a cui è associato un numero di giustificativo temporaneo pari a 1.</span><span class="sxs-lookup"><span data-stu-id="cdf3c-147">For example, during posting, three lines are found that have a temporary voucher number of 1.</span></span> <span data-ttu-id="cdf3c-148">Il numero del giustificativo temporaneo di tutte le tre righe viene sovrascritto con il numero successivo della sequenza numerica.</span><span class="sxs-lookup"><span data-stu-id="cdf3c-148">The temporary voucher number of all three lines is overwritten by the next number in the number sequence.</span></span> <span data-ttu-id="cdf3c-149">Se le tre righe non sono una voce bilanciata, non viene registrato il giustificativo.</span><span class="sxs-lookup"><span data-stu-id="cdf3c-149">If those three lines aren’t a balanced entry, the voucher isn't posted.</span></span> <span data-ttu-id="cdf3c-150">Successivamente, se vengono trovate righe che hanno un numero di giustificativo temporaneo di 2, questo numero viene sovrascritto dal numero di giustificativo successivo nella sequenza numerica e così via.</span><span class="sxs-lookup"><span data-stu-id="cdf3c-150">Next, if lines are found that have a temporary voucher number of 2, this number is overwritten by the next voucher number in the number sequence, and so on.</span></span>

- <span data-ttu-id="cdf3c-151">Quando non si utilizza l'impostazione **Elaborazione basata su set** non è necessario fornire un numero di giustificativo nel file importato.</span><span class="sxs-lookup"><span data-stu-id="cdf3c-151">When you don't use the **Set-based processing** setting, you do not need to provide a voucher number in the imported file.</span></span> <span data-ttu-id="cdf3c-152">I numeri di giustificativo vengono creati durante l'importazione, in base all'impostazione del nome del giornale di registrazione (**Un solo numero di giustificativo**, **In relazione al saldo** e così via).</span><span class="sxs-lookup"><span data-stu-id="cdf3c-152">The voucher numbers are created during import, based on the setup of the journal name (**One voucher only**, **In connection of balance**, and so on).</span></span> <span data-ttu-id="cdf3c-153">Ad esempio, se il nome di giornale di registrazione viene definito come **In relazione al saldo**, la prima riga riceve un nuovo numero giustificativo predefinito.</span><span class="sxs-lookup"><span data-stu-id="cdf3c-153">For example, if the journal name is defined as **In connection of balance**, the first line receives a new default voucher number.</span></span> <span data-ttu-id="cdf3c-154">Il sistema valuta quindi la riga per determinare se i debiti sono pari ai crediti.</span><span class="sxs-lookup"><span data-stu-id="cdf3c-154">The system then evaluates the line to determine whether the debits equal the credits.</span></span> <span data-ttu-id="cdf3c-155">Se esiste un conto di contropartita nella riga, la riga successiva che viene importata riceve un nuovo numero di giustificativo.</span><span class="sxs-lookup"><span data-stu-id="cdf3c-155">If an offset account exists on the line, the next line that is imported receives a new voucher number.</span></span> <span data-ttu-id="cdf3c-156">Se non esiste alcun conto di contropartita, il sistema valuta se i debiti sono pari ai crediti per ogni nuova riga che viene importata.</span><span class="sxs-lookup"><span data-stu-id="cdf3c-156">If no offset account exists, the system evaluates whether the debits equal the credits as each new line is imported.</span></span>
- <span data-ttu-id="cdf3c-157">Se il campo **Numero del giustificativo** è impostato su **Generato automaticamente**, l'importazione non riuscirà.</span><span class="sxs-lookup"><span data-stu-id="cdf3c-157">If the **Voucher number** field is set to **Auto-generated**, the import won't succeed.</span></span> <span data-ttu-id="cdf3c-158">L'impostazione **Generato automaticamente** per il campo **Numero del giustificativo** non è supportata.</span><span class="sxs-lookup"><span data-stu-id="cdf3c-158">The **Auto-generated** setting for the **Voucher number** field isn't supported.</span></span>

<span data-ttu-id="cdf3c-159">Per impostazione predefinita, l'entità giornale di registrazione generale utilizza l'elaborazione basata su set.</span><span class="sxs-lookup"><span data-stu-id="cdf3c-159">By default, the General journal entity uses set-based processing.</span></span> <span data-ttu-id="cdf3c-160">Dopo aver valutato i requisiti aziendali dell'organizzazione, è possibile modificare l'impostazione **Elaborazione basata su set** facendo clic su **Entità di dati** nell'area di lavoro **Gestione dati**.</span><span class="sxs-lookup"><span data-stu-id="cdf3c-160">After you evaluate the business requirements for your organization, you can change the **Set-based processing** setting by clicking **Data entities** in the **Data management** workspace.</span></span> <span data-ttu-id="cdf3c-161">L'elaborazione basata su set viene utilizzata per velocizzare il processo di importazione.</span><span class="sxs-lookup"><span data-stu-id="cdf3c-161">Set-based processing is used to speed up the import process.</span></span> <span data-ttu-id="cdf3c-162">Se non si utilizza l'elaborazione basata su set, l'importazione tramite l'entità giornale di registrazione generale sarà più lenta.</span><span class="sxs-lookup"><span data-stu-id="cdf3c-162">If you don't use set-based processing, import of the General journal entity import will be slower.</span></span>
