---
title: Modificare e controllare transazioni punto vendita al dettaglio
description: In questo argomento vengono descritte le funzionalità per la modifica e il controllo delle transazioni.
author: josaw1
manager: AnnBe
ms.date: 10/14/2019
ms.topic: index-page
ms.prod: ''
ms.service: dynamics-365-retail
ms.technology: ''
audience: Application User
ms.reviewer: josaw
ms.search.scope: Core, Operations, Retail
ms.custom: ''
ms.assetid: ed0f77f7-3609-4330-bebd-ca3134575216
ms.search.region: global
ms.search.industry: Retail
ms.author: josaw
ms.search.validFrom: 2019-09-29
ms.dyn365.ops.version: ''
ms.openlocfilehash: 97211ee36dbaa704d3a967e9b742ff1cae708707
ms.sourcegitcommit: 81a647904dd305c4be2e4b683689f128548a872d
ms.translationtype: HT
ms.contentlocale: it-IT
ms.lasthandoff: 02/01/2020
ms.locfileid: "3004391"
---
# <a name="edit-and-audit-retail-store-transactions"></a><span data-ttu-id="c3fa4-103">Modificare e controllare transazioni punto vendita al dettaglio</span><span class="sxs-lookup"><span data-stu-id="c3fa4-103">Edit and audit retail store transactions</span></span>

[!include [banner](includes/banner.md)]



<span data-ttu-id="c3fa4-104">I clienti Dynamics 365 Commerce utilizzano l'applicazione POS del produttore oltre che applicazioni POS di terze parti.</span><span class="sxs-lookup"><span data-stu-id="c3fa4-104">Dynamics 365 Commerce customers use first-party as well as third-party point of sale (POS) applications.</span></span> <span data-ttu-id="c3fa4-105">Con l'applicazione POS del produttore, le transazioni vengono inserite in Headquarters dai canali mediante un processo batch.</span><span class="sxs-lookup"><span data-stu-id="c3fa4-105">With the first-party POS application, store transactions are pulled into Headquarters from the channels through a batch process.</span></span> <span data-ttu-id="c3fa4-106">Con le applicazioni di terze parti, le transazioni vengono inserite in Headquarters tramite integrazione.</span><span class="sxs-lookup"><span data-stu-id="c3fa4-106">With third-party applications, transactions are pulled into Headquarters through integration.</span></span> <span data-ttu-id="c3fa4-107">In entrambi i casi, dopo l'inserimento delle transazioni in Headquarters, è necessario effettuare un processo di verifica della coerenza che esegue diverse convalide sulle transazioni, in modo che solo le transazioni convalidate correttamente vengano inserite nel rendiconto da registrare in Headquarters.</span><span class="sxs-lookup"><span data-stu-id="c3fa4-107">In both cases, after transactions are pulled into Headquarters, a consistency check process needs to be executed that runs multiple validations on the transactions so that only successfully validated transactions are pulled into the statement to be posted in Headquarters.</span></span> 

<span data-ttu-id="c3fa4-108">Le transazioni di commercio non superano la convalida per diversi motivi.</span><span class="sxs-lookup"><span data-stu-id="c3fa4-108">Commerce transactions fail validation for various reasons.</span></span> <span data-ttu-id="c3fa4-109">Ad esempio, un errore nel codice di integrazione o un errore nell'applicazione POS può causare dati incoerenti; un errore dell'utente, come l'eliminazione di un prodotto dopo la sincronizzazione con il canale o la chiusura di un periodo fiscale senza registrare le transazioni per il periodo, può causare dati incoerenti.</span><span class="sxs-lookup"><span data-stu-id="c3fa4-109">For example, a bug in the integration code or a bug in the POS application may cause inconsistent data, or a user error, such as deleting a product after it was synchronized to the channel or closing a fiscal period without posting transactions for that period, can cause inconsistent data.</span></span>

<span data-ttu-id="c3fa4-110">Anche se queste transazioni vengono contrassegnate ed escluse dai rendiconti, possono interrompere il processo di registrazione quotidiana delle vendite nella contabilità finanziaria di un cliente.</span><span class="sxs-lookup"><span data-stu-id="c3fa4-110">While these transactions get flagged and are excluded from the statements, the transactions can disrupt a customer’s daily process of posting daily sales to the financials.</span></span>

<span data-ttu-id="c3fa4-111">In Commerce, è possibile modificare le specifiche transazioni che non superano la convalida e allo stesso tempo gestire il controllo di tutte le modifiche.</span><span class="sxs-lookup"><span data-stu-id="c3fa4-111">In Commerce, you can edit the specific transactions that fail validation while maintaining audit of all the changes.</span></span> 

## <a name="edit-and-audit-transactions"></a><span data-ttu-id="c3fa4-112">Modificare e controllare le transazioni</span><span class="sxs-lookup"><span data-stu-id="c3fa4-112">Edit and audit transactions</span></span>

<span data-ttu-id="c3fa4-113">In Retail versione 10.0.5, le transazioni cash-and-carry, come vendite e resi, sono le sole transazioni che possono essere modificate.</span><span class="sxs-lookup"><span data-stu-id="c3fa4-113">In Retail version 10.0.5, cash and carry transactions like sales and returns are the only transactions that can be edited.</span></span> <span data-ttu-id="c3fa4-114">La modifica degli ordini cliente o degli ordini online non è supportata.</span><span class="sxs-lookup"><span data-stu-id="c3fa4-114">Editing customer orders or online orders is not supported.</span></span> <span data-ttu-id="c3fa4-115">In Retail versione 10.0.6 e successive, è supportata anche la modifica delle transazioni di gestione di cassa.</span><span class="sxs-lookup"><span data-stu-id="c3fa4-115">In Retail version 10.0.6 and higher, editing cash management transactions is also supported.</span></span>

1. <span data-ttu-id="c3fa4-116">Installare il componente aggiuntivo Dynamics Excel.</span><span class="sxs-lookup"><span data-stu-id="c3fa4-116">Install the Dynamics Excel Add-in.</span></span>

2. <span data-ttu-id="c3fa4-117">Passare all'area di lavoro **Dati finanziari punto vendita**.</span><span class="sxs-lookup"><span data-stu-id="c3fa4-117">Go to the **Store financials** workspace.</span></span> <span data-ttu-id="c3fa4-118">Il riquadro **Errori di convalida transazioni** fornisce una visualizzazione pre-filtrata del modulo della transazione che non ha soddisfatto una o più regole di convalida.</span><span class="sxs-lookup"><span data-stu-id="c3fa4-118">The **Transaction validation failures** tile provides a pre-filtered view of the transaction form that failed one or more of the validation rules.</span></span>
 
3. <span data-ttu-id="c3fa4-119">Aprire il modulo.</span><span class="sxs-lookup"><span data-stu-id="c3fa4-119">Open the form.</span></span> <span data-ttu-id="c3fa4-120">Fare clic sul record che non ha superato la convalida, selezionare **Componente aggiuntivo per Office**, quindi fare clic su **Modifica transazione selezionata**.</span><span class="sxs-lookup"><span data-stu-id="c3fa4-120">Click the record that failed validation, click **Office Add in**, and then click **Edit selected transaction**.</span></span> <span data-ttu-id="c3fa4-121">Verrà aperto un file di Excel contenente i dettagli della transazione selezionata, con i seguenti fogli di lavoro:</span><span class="sxs-lookup"><span data-stu-id="c3fa4-121">An Excel file with the details of the selected transaction opens, with the following worksheets:</span></span>

    - <span data-ttu-id="c3fa4-122">Righe: questo foglio di lavoro contiene le righe di intestazione e di prodotto e i dati correlati della transazione.</span><span class="sxs-lookup"><span data-stu-id="c3fa4-122">Lines: This worksheet has the header and product lines and related data for the transaction.</span></span>
    - <span data-ttu-id="c3fa4-123">Pagamenti: questo foglio di lavoro contiene i dettagli delle righe di pagamento della transazione.</span><span class="sxs-lookup"><span data-stu-id="c3fa4-123">Payments: This worksheet has the details of the payment lines for the transaction.</span></span>
    - <span data-ttu-id="c3fa4-124">Sconti: questo foglio di lavoro contiene i dettagli relativi agli sconti della transazione.</span><span class="sxs-lookup"><span data-stu-id="c3fa4-124">Discounts: This worksheet has the discount-related details for the transaction.</span></span>
    - <span data-ttu-id="c3fa4-125">Imposte: questo foglio di lavoro contiene i dettagli relativi alle imposte della transazione.</span><span class="sxs-lookup"><span data-stu-id="c3fa4-125">Taxes: This worksheet has the tax-related details for the transaction.</span></span>
    - <span data-ttu-id="c3fa4-126">Spese: questo foglio di lavoro contiene i dati relativi alle spese della transazione.</span><span class="sxs-lookup"><span data-stu-id="c3fa4-126">Charges: This worksheet has the charges-related data for the transaction.</span></span>

4. <span data-ttu-id="c3fa4-127">Nel file di Excel, modificare i campi appropriati, quindi caricare i dati nuovamente in Headquarters utilizzando la funzionalità di pubblicazione del componente aggiuntivo Dynamics Excel.</span><span class="sxs-lookup"><span data-stu-id="c3fa4-127">In the Excel file, you modify the appropriate fields and then upload the data back into Headquarters using the Dynamics Excel Add-in publish functionality.</span></span> <span data-ttu-id="c3fa4-128">Una volta pubblicate, le modifiche verranno riflesse nel sistema.</span><span class="sxs-lookup"><span data-stu-id="c3fa4-128">Once published, the changes will be reflected in the system.</span></span> <span data-ttu-id="c3fa4-129">Durante la pubblicazione non viene effettuata alcuna convalida delle modifiche apportate dagli utenti.</span><span class="sxs-lookup"><span data-stu-id="c3fa4-129">During publish, no validation is done on changes that users make.</span></span>

5. <span data-ttu-id="c3fa4-130">Un audit trail completo delle modifiche può essere visualizzato facendo clic su **Visualizza audit trail** nell'intestazione **Transazione di vendita al dettaglio** per le modifiche a livello di intestazione e nella sezione e nel record pertinenti nella pagina della transazione appropriata.</span><span class="sxs-lookup"><span data-stu-id="c3fa4-130">A complete audit trail of the changes can be viewed by clicking **View audit trail** in the **Retail transaction** header for the header-level changes and in the relevant section and record on the appropriate transaction page.</span></span> <span data-ttu-id="c3fa4-131">Ad esempio, tutte le modifiche relative alle righe di vendita saranno visibili nella pagina **Transazioni di vendita**, le modifiche relative ai pagamenti saranno visibili nella pagina **Transazioni di pagamento** e così via. I dettagli di controllo che vengono gestiti per le modifiche sono i seguenti.</span><span class="sxs-lookup"><span data-stu-id="c3fa4-131">For example, all changes relating to sales lines will be visible on the **Sales transactions** page, changes relating to payments will be visible on the **Payment transactions** page, etc. The audit details that are maintained for the changes are as follows.</span></span>

   - <span data-ttu-id="c3fa4-132">Data e ora modifica</span><span class="sxs-lookup"><span data-stu-id="c3fa4-132">Modified date and time</span></span>
   - <span data-ttu-id="c3fa4-133">Campo</span><span class="sxs-lookup"><span data-stu-id="c3fa4-133">Field</span></span> 
   - <span data-ttu-id="c3fa4-134">Valore precedente</span><span class="sxs-lookup"><span data-stu-id="c3fa4-134">Old value</span></span>
   - <span data-ttu-id="c3fa4-135">Nuovo valore</span><span class="sxs-lookup"><span data-stu-id="c3fa4-135">New value</span></span>
   - <span data-ttu-id="c3fa4-136">Autore modifica</span><span class="sxs-lookup"><span data-stu-id="c3fa4-136">Modified by</span></span>

6. <span data-ttu-id="c3fa4-137">Dopo che le modifiche sono state apportate e pubblicate, eseguire nuovamente l'opzione **Convalida transazioni punto vendita** per verificare che le modifiche siano coerenti e valide.</span><span class="sxs-lookup"><span data-stu-id="c3fa4-137">After your changes are made and published, run the **Validate store transactions** option again to validate that the changes you made are consistent and valid.</span></span>

> [!NOTE]
> <span data-ttu-id="c3fa4-138">È possibile modificare solo le transazioni che non hanno superato la convalida.</span><span class="sxs-lookup"><span data-stu-id="c3fa4-138">You can only edit transactions that failed validation.</span></span> <span data-ttu-id="c3fa4-139">Per modificare le transazioni che hanno superato la convalida, cambiare lo stato di convalida della transazione che si desidera modificare in **Errore** o **Nessuno**. Sarà quindi possibile modificarla.</span><span class="sxs-lookup"><span data-stu-id="c3fa4-139">If you want to edit transactions that passed validation, change the validation status of the transaction you want to change to **Error** or **None** and then you will be able to edit it.</span></span> 


## <a name="bulk-edit-transactions"></a><span data-ttu-id="c3fa4-140">Modificare in blocco le transazioni</span><span class="sxs-lookup"><span data-stu-id="c3fa4-140">Bulk edit transactions</span></span>

<span data-ttu-id="c3fa4-141">In Retail versione 10.0.6 e successive è supportata l'opzione di modificare in blocco le transazioni a livello di rendiconto.</span><span class="sxs-lookup"><span data-stu-id="c3fa4-141">In Retail version 10.0.6 and higher, the option to bulk edit transactions at a statement level is supported.</span></span> 

1. <span data-ttu-id="c3fa4-142">Utilizzare il componente aggiuntivo di Excel per aprire un rendiconto che contiene le transazioni da modificare, utilizzando i passaggi 1-3 precedenti.</span><span class="sxs-lookup"><span data-stu-id="c3fa4-142">Use the Excel Add-in to open a statement that has transactions you want to modify using steps 1-3 above.</span></span>

2. <span data-ttu-id="c3fa4-143">Scegliere una delle opzioni seguenti.</span><span class="sxs-lookup"><span data-stu-id="c3fa4-143">Choose one of the options below.</span></span>

    - <span data-ttu-id="c3fa4-144">**Modifica transazioni cash-and-carry**.</span><span class="sxs-lookup"><span data-stu-id="c3fa4-144">**Edit cash and carry transactions**.</span></span> <span data-ttu-id="c3fa4-145">Questa opzione consente di modificare tutte le transazioni cash-and-carry incluse nel rendiconto.</span><span class="sxs-lookup"><span data-stu-id="c3fa4-145">This option enables you to edit all the cash and carry transactions included in the statement.</span></span> <span data-ttu-id="c3fa4-146">Sono disponibili i seguenti fogli di lavoro di Excel.</span><span class="sxs-lookup"><span data-stu-id="c3fa4-146">The following Excel worksheets are available.</span></span>
    
       - <span data-ttu-id="c3fa4-147">**Transazione**: questo foglio di lavoro contiene tutte le informazioni a livello di intestazione delle transazioni di vendita.</span><span class="sxs-lookup"><span data-stu-id="c3fa4-147">**Transaction**: This worksheet has all the header-level information for the sales transactions.</span></span>
       - <span data-ttu-id="c3fa4-148">**Transazione di vendita**: questo foglio di lavoro contiene tutte le informazioni a livello di riga delle transazioni di vendita.</span><span class="sxs-lookup"><span data-stu-id="c3fa4-148">**Sales transaction**: This worksheet has all the lines-level information for the sales transactions.</span></span>
       - <span data-ttu-id="c3fa4-149">**Transazioni di pagamento**: questo foglio di lavoro contiene tutte le informazioni delle righe di pagamento delle transazioni di vendita.</span><span class="sxs-lookup"><span data-stu-id="c3fa4-149">**Payment transactions**: This worksheet has all the payment lines information for the sales transactions.</span></span>
       - <span data-ttu-id="c3fa4-150">**Transazioni di sconto**: questo foglio di lavoro contiene tutte le informazioni delle righe di sconto delle transazioni di vendita.</span><span class="sxs-lookup"><span data-stu-id="c3fa4-150">**Discount transactions**: This worksheet has all the discount lines information for the sales transactions.</span></span>
       - <span data-ttu-id="c3fa4-151">**Transazioni fiscali**: questo foglio di lavoro contiene tutte le informazioni delle righe di imposta delle transazioni di vendita.</span><span class="sxs-lookup"><span data-stu-id="c3fa4-151">**Tax transactions**: This worksheet has all the tax lines information for the sales transactions.</span></span>
       - <span data-ttu-id="c3fa4-152">**Transazioni spese**: questo foglio di lavoro contiene tutte le informazioni delle righe addebiti delle transazioni di vendita.</span><span class="sxs-lookup"><span data-stu-id="c3fa4-152">**Charge transactions**: This worksheet has all the charge lines information for the sales transactions.</span></span>

    - <span data-ttu-id="c3fa4-153">**Modifica transazioni gestione di cassa**.</span><span class="sxs-lookup"><span data-stu-id="c3fa4-153">**Edit cash management transactions**.</span></span> <span data-ttu-id="c3fa4-154">Questa opzione consente di modificare tutte le transazioni di gestione di cassa incluse nel rendiconto.</span><span class="sxs-lookup"><span data-stu-id="c3fa4-154">This option enables you to edit all the cash management transactions included in the statement.</span></span> <span data-ttu-id="c3fa4-155">Sono disponibili i seguenti fogli di lavoro di Excel.</span><span class="sxs-lookup"><span data-stu-id="c3fa4-155">The following Excel worksheets are available.</span></span>
     
       - <span data-ttu-id="c3fa4-156">**Transazione**: questo foglio di lavoro contiene tutte le informazioni a livello di intestazione delle transazioni di gestione di cassa.</span><span class="sxs-lookup"><span data-stu-id="c3fa4-156">**Transaction**: This worksheet has all the header-level information for the cash management transactions.</span></span>
       - <span data-ttu-id="c3fa4-157">**Transazioni metodo di pagamento bancario**: questo foglio di lavoro contiene tutti i dettagli delle transazioni di deposito bancario.</span><span class="sxs-lookup"><span data-stu-id="c3fa4-157">**Bank tender transactions**: This worksheet has all the bank drop transaction details.</span></span>
       - <span data-ttu-id="c3fa4-158">**Transazioni di pagamento in cassaforte**: questo foglio di lavoro contiene tutti i dettagli delle transazioni di deposito in cassaforte.</span><span class="sxs-lookup"><span data-stu-id="c3fa4-158">**Safe tender transactions**: This worksheet has all the safe drop transaction details.</span></span>
       - <span data-ttu-id="c3fa4-159">**Riepilogo incassi**: questo foglio di lavoro contiene tutti i dettagli delle transazioni di riepilogo incassi.</span><span class="sxs-lookup"><span data-stu-id="c3fa4-159">**Tender declaration**: This worksheet has all the tender declaration transaction details.</span></span>
       - <span data-ttu-id="c3fa4-160">**Transazione ricavi/spese**: questo foglio di lavoro contiene tutti i dettagli delle righe delle transazioni ricavi/spese.</span><span class="sxs-lookup"><span data-stu-id="c3fa4-160">**Income-expense transaction**: This worksheet has all the income-expense transaction line details.</span></span>
       - <span data-ttu-id="c3fa4-161">**Transazioni di pagamento**: questo foglio di lavoro contiene tutte le informazioni correlate ai pagamenti per l'operazione **Paga fattura**, oltre alla transazione ricavi/spese.</span><span class="sxs-lookup"><span data-stu-id="c3fa4-161">**Payment transactions**: This worksheet has all the payment-related information for the **Pay invoice** operation as well as the income-expense transaction.</span></span>

3.  <span data-ttu-id="c3fa4-162">Le convalide non vengono eseguite durante la pubblicazione delle transazioni modificate in blocco.</span><span class="sxs-lookup"><span data-stu-id="c3fa4-162">Validations are not performed when you publish bulk edited transactions.</span></span> <span data-ttu-id="c3fa4-163">È necessario assicurarsi che tutte le modifiche siano accurate e la fedeltà dei dati in tutti i fogli di lavoro venga mantenuta.</span><span class="sxs-lookup"><span data-stu-id="c3fa4-163">You must ensure that all your edits are accurate and the fidelity of data across the worksheets is maintained.</span></span> <span data-ttu-id="c3fa4-164">Ad esempio, se si desidera modificare la data delle transazioni per gestire scenari in cui è chiuso il periodo fiscale o di inventario per le transazioni aperte, sarà necessario modificare la data in tutti i fogli di lavoro di Excel che includono la colonna **Data attività**.</span><span class="sxs-lookup"><span data-stu-id="c3fa4-164">For example, if you want to change the transaction date to manage the scenarios where the fiscal or inventory period for the open transactions is closed, you need to change the date on all the Excel worksheets that have the **Business date** column.</span></span> <span data-ttu-id="c3fa4-165">Per convalidare le transazioni dopo che sono state modificate, è possibile utilizzare **Riconvalida transazioni** nella pagina **Rendiconti**.</span><span class="sxs-lookup"><span data-stu-id="c3fa4-165">To validate transactions after they have been edited, you can use **Revalidate transactions** on the **Statements** page.</span></span>
