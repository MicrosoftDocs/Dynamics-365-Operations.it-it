---
title: Panoramica della fidelizzazione dei clienti
description: In questo argomento viene fornita una panoramica delle funzionalità di fidelizzazione dei clienti disponibili nell'applicazione del punto vendita.
author: bebeale
manager: AnnBe
ms.date: 01/29/2021
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-retail
ms.technology: ''
ms.search.form: ''
audience: Application User
ms.reviewer: josaw
ms.custom: 260624
ms.assetid: a4f9d315-9951-451c-8ee6-37f9b3b15ef0
ms.search.region: global
ms.search.industry: Retail
ms.author: shajain
ms.search.validFrom: 2018-10-01
ms.dyn365.ops.version: Version 10.0.7
ms.openlocfilehash: 206031f5ddbaedb2b581a452fe8979252647f0c4
ms.sourcegitcommit: 872600103d2a444d78963867e5e0cdc62e68c3ec
ms.translationtype: HT
ms.contentlocale: it-IT
ms.lasthandoff: 02/01/2021
ms.locfileid: "5097257"
---
# <a name="clienteling-overview"></a><span data-ttu-id="645a0-103">Panoramica della fidelizzazione dei clienti</span><span class="sxs-lookup"><span data-stu-id="645a0-103">Clienteling overview</span></span>

[!include [banner](includes/banner.md)]


<span data-ttu-id="645a0-104">Molti rivenditori, in particolare i rivenditori specializzati di fascia alta, desiderano che gli addetti alle vendite stabiliscano relazioni a lungo termine con i clienti chiave.</span><span class="sxs-lookup"><span data-stu-id="645a0-104">Many retailers, especially high-end specialty retailers, want their sales associates to form long-term relationships with their key customers.</span></span> <span data-ttu-id="645a0-105">Gli addetti sono tenuti a conoscere le simpatie e le antipatie dei clienti, la cronologia degli acquisti, le preferenze sui prodotti e le date importanti, come anniversari e compleanni.</span><span class="sxs-lookup"><span data-stu-id="645a0-105">The associates are expected to know about these customers' likes and dislikes, purchase history, product preferences, and important dates, such as anniversaries and birthdays.</span></span> <span data-ttu-id="645a0-106">Gli addetti hanno bisogno di un luogo in cui è possibile acquisire queste informazioni per usarle facilmente se necessario.</span><span class="sxs-lookup"><span data-stu-id="645a0-106">Associates need a place where they can capture this information and easily find it when it's required.</span></span> <span data-ttu-id="645a0-107">Se queste informazioni sono disponibili in un'unica vista, gli addetti possono facilmente indirizzare i clienti che soddisfano criteri specifici.</span><span class="sxs-lookup"><span data-stu-id="645a0-107">If this information is available in a single view, the associates can easily target customers who meet specific criteria.</span></span> <span data-ttu-id="645a0-108">Ad esempio, possono trovare tutti i clienti che preferiscono acquistare borse o i clienti che si stanno avvicinando a un evento importante, come un compleanno o un anniversario.</span><span class="sxs-lookup"><span data-stu-id="645a0-108">For example, they can find all customers who prefer to shop for handbags, or customers who have an important event approaching, such as a birthday or anniversary.</span></span>

## <a name="client-book"></a><span data-ttu-id="645a0-109">Libro clienti</span><span class="sxs-lookup"><span data-stu-id="645a0-109">Client book</span></span>

<span data-ttu-id="645a0-110">In Microsoft Dynamics 365 Commerce, i rivenditori possono utilizzare la funzionalità del libro del cliente per aiutare i collaboratori del negozio a stabilire relazioni a lungo termine con i clienti chiave.</span><span class="sxs-lookup"><span data-stu-id="645a0-110">In Microsoft Dynamics 365 Commerce, retailers can use the client book functionality to help store associates form long-term relationships with key customers.</span></span>

<span data-ttu-id="645a0-111">Il libro clienti include le schede cliente che mostrano le informazioni di contatto per ciascun cliente, insieme a tre altre proprietà che sono definite dal rivenditore e configurate in Headquarters.</span><span class="sxs-lookup"><span data-stu-id="645a0-111">The client book includes customer cards that show contact information for each customer, together with three more properties that are defined by the retailer and configured in Headquarters.</span></span> <span data-ttu-id="645a0-112">I rivenditori possono decidere le tre cose più importanti che i venditori devono sapere sui clienti.</span><span class="sxs-lookup"><span data-stu-id="645a0-112">Retailers can decide the three most important things that sales associates should know about customers.</span></span> <span data-ttu-id="645a0-113">Ad esempio, un rivenditore di gioielli potrebbe voler includere date importanti come anniversari o compleanni, perché queste date sono occasioni in cui le persone potrebbero acquistare gioielli.</span><span class="sxs-lookup"><span data-stu-id="645a0-113">For example, a jewelry retailer might want to include important dates such as anniversaries or birthdays, because these dates are occasions when people might buy more jewelry.</span></span> <span data-ttu-id="645a0-114">Allo stesso modo, un rivenditore di articoli di moda potrebbe voler includere gli interessi e i marchi di acquisto preferiti dal cliente.</span><span class="sxs-lookup"><span data-stu-id="645a0-114">Similarly, a fashion retailer might want to include the customer's preferred shopping interests and brands.</span></span>

<span data-ttu-id="645a0-115">Il libro clienti consente inoltre agli addetti alle vendite di filtrare l'elenco in modo da mostrare solo i clienti che soddisfano criteri specifici.</span><span class="sxs-lookup"><span data-stu-id="645a0-115">The client book also lets sale associates filter the list so that it shows only customers who meet specific criteria.</span></span> <span data-ttu-id="645a0-116">Ad esempio, una nuova collezione di scarpe è arrivata nel negozio e un addetto vuole informare i clienti a cui piace comprare le scarpe.</span><span class="sxs-lookup"><span data-stu-id="645a0-116">For example, a new collection of shoes has arrived in the store, and an associate wants to inform customers who like to buy shoes.</span></span> <span data-ttu-id="645a0-117">In questo caso, l'addetto può filtrare il libro clienti per trovare i clienti rilevanti e quindi intraprendere ulteriori azioni.</span><span class="sxs-lookup"><span data-stu-id="645a0-117">In this case, the associate can filter the client book to find the relevant customers and then take further action.</span></span>

<span data-ttu-id="645a0-118">Se per qualche motivo i clienti non vengono più considerati clienti chiave e pertanto non devono essere gestiti da vicino, gli addetti alle vendite possono rimuoverli dal libro clienti.</span><span class="sxs-lookup"><span data-stu-id="645a0-118">If any customers are no longer considered key customers for some reason, and therefore should not be closely managed, sales associates can remove them from their client book.</span></span>

<span data-ttu-id="645a0-119">Alcuni rivenditori non desiderano gestire i clienti a livello di addetto alle vendite.</span><span class="sxs-lookup"><span data-stu-id="645a0-119">Some retailers don't want to manage customers at the sales associate level.</span></span> <span data-ttu-id="645a0-120">Vogliono invece gestire un elenco dei clienti chiave a livello di punto vendita.</span><span class="sxs-lookup"><span data-stu-id="645a0-120">Instead, they want to manage a list of key customers at the store level.</span></span> <span data-ttu-id="645a0-121">I rivenditori possono visualizzare i clienti dai libri clienti del punto vendita.</span><span class="sxs-lookup"><span data-stu-id="645a0-121">These retailers can view customers from store client books.</span></span> <span data-ttu-id="645a0-122">Utilizzando questa opzione, i rivenditori possono visualizzare i clienti dai libri clienti di tutti gli addetti alle vendite la cui rubrica corrisponde alla rubrica del negozio corrente.</span><span class="sxs-lookup"><span data-stu-id="645a0-122">By using this option, retailers can view the customers from the client books of all the sales associates whose address book matches the address book of the current store.</span></span> <span data-ttu-id="645a0-123">In questo modo, se un addetto lavora in più negozi della persona giuridica, il libro clienti mostra i clienti di tutti quei negozi.</span><span class="sxs-lookup"><span data-stu-id="645a0-123">In this way, if an associate works in multiple stores of the legal entity, the client book shows the customers from all those stores.</span></span> <span data-ttu-id="645a0-124">Questa funzionalità supporta funzionalità aggiuntive.</span><span class="sxs-lookup"><span data-stu-id="645a0-124">This functionality supports additional capabilities.</span></span> <span data-ttu-id="645a0-125">Ad esempio, i clienti possono essere riassegnati da un addetto a un altro.</span><span class="sxs-lookup"><span data-stu-id="645a0-125">For example, customers can be reassigned from one associate to another associate.</span></span> <span data-ttu-id="645a0-126">Questa funzionalità è utile se gli addetti vengono trasferiti o lasciano la società.</span><span class="sxs-lookup"><span data-stu-id="645a0-126">This capability is useful when associates are transferred or leave the company.</span></span>

<span data-ttu-id="645a0-127">Ogni addetto alle vendite può avere un libro clienti per persona giuridica e gli addetti possono aggiungere uno o più clienti al libro clienti.</span><span class="sxs-lookup"><span data-stu-id="645a0-127">Each sales associate can have one client book per legal entity, and associates can add one or more customers to their client book.</span></span> <span data-ttu-id="645a0-128">In Commerce, ogni cliente attualmente può essere aggiunto a un solo libro clienti.</span><span class="sxs-lookup"><span data-stu-id="645a0-128">In Commerce, each customer can currently be added to only one client book.</span></span> <span data-ttu-id="645a0-129">Tuttavia, Microsoft prevede di aggiungere funzionalità che consentono di aggiungere un singolo cliente a più libri clienti.</span><span class="sxs-lookup"><span data-stu-id="645a0-129">However, Microsoft plans to add functionality that lets a single customer be added to multiple client books.</span></span>

> [!NOTE]
> <span data-ttu-id="645a0-130">Diversamente dalla ricerca del cliente, il libro clienti non consente di filtrare i record del cliente in base alle rubriche del punto vendita.</span><span class="sxs-lookup"><span data-stu-id="645a0-130">Unlike customer search, the client book doesn't filter customer records based on the store's address books.</span></span>

## <a name="activities-and-notes"></a><span data-ttu-id="645a0-131">Attività e note</span><span class="sxs-lookup"><span data-stu-id="645a0-131">Activities and notes</span></span>

<span data-ttu-id="645a0-132">I canali online offrono ai rivenditori modi di conoscere le preferenze dei clienti senza richiedere che i clienti forniscano esplicitamente queste informazioni.</span><span class="sxs-lookup"><span data-stu-id="645a0-132">Online channels give retailers ways to learn about customer preferences without requiring that customers explicitly provide this information.</span></span> <span data-ttu-id="645a0-133">Al contrario, quando i clienti interagiscono con gli addetti alle vendite nel negozio, condividono esplicitamente le informazioni sulle loro preferenze.</span><span class="sxs-lookup"><span data-stu-id="645a0-133">By contrast, when customers interact with sales associates in the store, they explicitly share information about their preferences.</span></span> <span data-ttu-id="645a0-134">Sfortunatamente, queste informazioni possono andare perse al termine della vendita.</span><span class="sxs-lookup"><span data-stu-id="645a0-134">Unfortunately, this information can be lost after the sale is over.</span></span> <span data-ttu-id="645a0-135">Tuttavia, se queste informazioni vengono registrate, possono aiutare i rivenditori a comprendere meglio i clienti e quindi aiutarli a fornire consigli migliori e una migliore esperienza di acquisto complessiva.</span><span class="sxs-lookup"><span data-stu-id="645a0-135">However, if this information is recorded, it can help retailers better understand customers, and therefore help them provide better recommendations and a better overall shopping experience.</span></span>

<span data-ttu-id="645a0-136">Per acquisire le informazioni critiche condivise dai clienti, gli addetti alle vendite possono utilizzare non solo gli attributi del libro clienti, ma anche la funzionalità delle attività e delle note.</span><span class="sxs-lookup"><span data-stu-id="645a0-136">To capture the critical information that customers share, sales associates can use not only the client book attributes, but also use the activities and notes functionality.</span></span> <span data-ttu-id="645a0-137">I rivenditori possono configurare i tipi di attività, come le informazioni sulla visita del negozio, l'indirizzo e-mail, il numero di telefono e gli appuntamenti.</span><span class="sxs-lookup"><span data-stu-id="645a0-137">Retailers can configure the activity types, such as information about the store visit, email address, phone number, and appointments.</span></span> <span data-ttu-id="645a0-138">Le attività create dagli addetti possono essere visualizzate in un formato di sequenza temporale nel punto vendita (POS).</span><span class="sxs-lookup"><span data-stu-id="645a0-138">Activities that associates create can be viewed in a timeline format at the point of sale (POS).</span></span> <span data-ttu-id="645a0-139">È inoltre possibile visualizzarle nella scheda **Attività** della pagina **Tutti i clienti \> Generale** in Headquarters.</span><span class="sxs-lookup"><span data-stu-id="645a0-139">They can also be viewed on the **Activities** tab on the **All customers \> General** page in Headquarters.</span></span>

<span data-ttu-id="645a0-140">Gli addetti alle vendite possono anche utilizzare le note per acquisire informazioni generiche sui clienti a cui è possibile fare riferimento prima di ogni interazione.</span><span class="sxs-lookup"><span data-stu-id="645a0-140">Sales associates can also use notes to capture generic customer information that can be referenced before every interaction.</span></span> <span data-ttu-id="645a0-141">Queste note vengono salvate in Headquarters e possono essere visualizzate nel profilo del cliente o nella pagina dei dettagli del cliente del call center.</span><span class="sxs-lookup"><span data-stu-id="645a0-141">These notes are saved in Headquarters, and can be viewed in the customer profile or on the customer details page in the call center.</span></span>

> [!NOTE]
> <span data-ttu-id="645a0-142">Attualmente, tutte le note e le attività possono essere visualizzate da qualsiasi addetto alle vendite che lavora per la persona giuridica e può visualizzare le pagine dei dettagli del cliente.</span><span class="sxs-lookup"><span data-stu-id="645a0-142">Currently, all notes and activities can be viewed by any sales associate who works for the legal entity and can view customer details pages.</span></span> <span data-ttu-id="645a0-143">Le note e le attività non si limitano all'addetto che ha aggiunto un cliente al libro clienti.</span><span class="sxs-lookup"><span data-stu-id="645a0-143">Notes and activities aren't limited to the associate who added a customer to the client book.</span></span>

## <a name="integration-with-dynamics-365-customer-insights"></a><span data-ttu-id="645a0-144">Integrazione con Dynamics 365 Customer Insights</span><span class="sxs-lookup"><span data-stu-id="645a0-144">Integration with Dynamics 365 Customer Insights</span></span>

<span data-ttu-id="645a0-145">Con l'applicazione Dynamics 365 Customer Insights, i rivenditori possono aggregare i dati dei vari sistemi utilizzati dai clienti per interagire con il marchio del rivenditore.</span><span class="sxs-lookup"><span data-stu-id="645a0-145">By using the Dynamics 365 Customer Insights application, retailers can aggregate data from the various systems that customers use to interact with the retailer's brand.</span></span> <span data-ttu-id="645a0-146">Possono quindi utilizzare questi dati per generare un'unica vista del cliente e ricavare informazioni dettagliate.</span><span class="sxs-lookup"><span data-stu-id="645a0-146">They can then use this data to generate a single view of the customer and derive insights.</span></span> <span data-ttu-id="645a0-147">L'integrazione di Customer Insights con Commerce consente ai rivenditori di selezionare una o più misure che devono essere mostrate sulla scheda cliente nel libro clienti.</span><span class="sxs-lookup"><span data-stu-id="645a0-147">The integration of Customer Insights with Commerce lets retailers select one or more measures that should be shown on the customer card in the client book.</span></span> <span data-ttu-id="645a0-148">Ad esempio, i rivenditori possono utilizzare i dati in Customer Insights per calcolare la "probabilità di abbandono" per un cliente e definire la "migliore azione successiva".</span><span class="sxs-lookup"><span data-stu-id="645a0-148">For example, retailers can use the data in Customer Insights to calculate the "churn probability" for a customer and define the "next best action."</span></span> <span data-ttu-id="645a0-149">Se questi valori sono definiti come misure, possono essere mostrati sulla carta del cliente e possono fornire informazioni cruciali ai venditori.</span><span class="sxs-lookup"><span data-stu-id="645a0-149">If these values are defined as measures, they can be shown on the customer card and can provide crucial information to sales associates.</span></span> <span data-ttu-id="645a0-150">Per ulteriori informazioni su Customer Insights, vedere la documentazione [Dynamics 365 Customer Insights](https://docs.microsoft.com/dynamics365/ai/customer-insights/overview).</span><span class="sxs-lookup"><span data-stu-id="645a0-150">For more information about Customer Insights, see the [Dynamics 365 Customer Insights](https://docs.microsoft.com/dynamics365/ai/customer-insights/overview) documentation.</span></span> <span data-ttu-id="645a0-151">Per ulteriori informazioni sulle misure, vedere [Misure](https://docs.microsoft.com/dynamics365/ai/customer-insights/pm-measures).</span><span class="sxs-lookup"><span data-stu-id="645a0-151">For more information about measures, see [Measures](https://docs.microsoft.com/dynamics365/ai/customer-insights/pm-measures).</span></span>

## <a name="set-up-clienteling"></a><span data-ttu-id="645a0-152">Impostare la fidelizzazione dei clienti</span><span class="sxs-lookup"><span data-stu-id="645a0-152">Set up clienteling</span></span>

<span data-ttu-id="645a0-153">Per attivare la funzionalità di fidelizzazione dei clienti nel proprio ambiente, attenersi alla seguente procedura.</span><span class="sxs-lookup"><span data-stu-id="645a0-153">To turn on the clienteling functionality in your environment, follow these steps.</span></span>

1. <span data-ttu-id="645a0-154">Nell'area di lavoro **Gestione funzionalità**, filtrare le funzionalità dal modulo **Vendita al dettaglio e commercio**.</span><span class="sxs-lookup"><span data-stu-id="645a0-154">In the **Feature management** workspace, filter the features by the **Retail and commerce** module.</span></span>

    <span data-ttu-id="645a0-155">![Fidelizzazione dei clienti nell'elenco delle funzionalità per il modulo Commercio](./media/Enable_clienteling.png "Fidelizzazione dei clienti nell'elenco delle funzionalità per il modulo Vendita al dettaglio e commercio")</span><span class="sxs-lookup"><span data-stu-id="645a0-155">![Clienteling in the list of features for the Commerce module](./media/Enable_clienteling.png "Clienteling in the list of features for the Retail and commerce module")</span></span>

2. <span data-ttu-id="645a0-156">Attivare la funzionalità **Fidelizzazione dei clienti** selezionando **Abilita ora**.</span><span class="sxs-lookup"><span data-stu-id="645a0-156">Turn on the **Clienteling** feature by selecting **Enable now**.</span></span>
3. <span data-ttu-id="645a0-157">Nella pagina **Parametri di commercio**, nella scheda **Sequenza numerica**, selezionare la riga **Identificatore del libro clienti**.</span><span class="sxs-lookup"><span data-stu-id="645a0-157">On the **Commerce Parameters** page, on the **Number sequence** tab, select the **Client book identifier** row.</span></span> <span data-ttu-id="645a0-158">Nel campo **Codice sequenza numerica** selezionare una sequenza numerica.</span><span class="sxs-lookup"><span data-stu-id="645a0-158">Then, in the **Number sequence code** field, select a number sequence.</span></span> <span data-ttu-id="645a0-159">Il sistema utilizzerà questa sequenza numerica per assegnare un ID ai libri clienti.</span><span class="sxs-lookup"><span data-stu-id="645a0-159">The system will use this number sequence to assign an ID to client books.</span></span>
4. <span data-ttu-id="645a0-160">Selezionare **Salva**.</span><span class="sxs-lookup"><span data-stu-id="645a0-160">Select **Save**.</span></span>
5. <span data-ttu-id="645a0-161">Creare un nuovo gruppo di attributi che contiene gli attributi che si desidera acquisire per i clienti gestiti nei libri clienti.</span><span class="sxs-lookup"><span data-stu-id="645a0-161">Create a new attribute group that contains the attributes that you want to capture for customers who are managed in client books.</span></span> <span data-ttu-id="645a0-162">Per istruzioni, vedere [Attributi e gruppi di attributi](https://docs.microsoft.com/dynamics365/retail/attribute-attributegroups-lifecycle).</span><span class="sxs-lookup"><span data-stu-id="645a0-162">For instructions, see [Attributes and attribute groups](https://docs.microsoft.com/dynamics365/retail/attribute-attributegroups-lifecycle).</span></span>

    - <span data-ttu-id="645a0-163">Definire gli attributi richiesti come **Ridefinizione possibile**.</span><span class="sxs-lookup"><span data-stu-id="645a0-163">Define the required attributes as **Can be refined**.</span></span> <span data-ttu-id="645a0-164">Gli addetti alle vendite possono quindi utilizzare questi attributi per filtrare il libro clienti.</span><span class="sxs-lookup"><span data-stu-id="645a0-164">Sales associates can then use these attributes to filter their client book.</span></span>
    - <span data-ttu-id="645a0-165">Impostare l'ordine di visualizzazione di questi attributi.</span><span class="sxs-lookup"><span data-stu-id="645a0-165">Set the display order for these attributes.</span></span> <span data-ttu-id="645a0-166">Questo ordine di visualizzazione determina quali attributi devono essere mostrati sulla scheda cliente nel libro clienti.</span><span class="sxs-lookup"><span data-stu-id="645a0-166">This display order determines which attributes should be shown on the customer card in the client book.</span></span> <span data-ttu-id="645a0-167">Un ordine di visualizzazione di 1 verrà considerato superiore a un ordine di visualizzazione di 2.</span><span class="sxs-lookup"><span data-stu-id="645a0-167">A display order of 1 is considered higher than a display order of 2.</span></span> <span data-ttu-id="645a0-168">Pertanto, l'attributo che ha un ordine di visualizzazione di 1 verrà mostrato prima dell'attributo che ha un ordine di visualizzazione di 2.</span><span class="sxs-lookup"><span data-stu-id="645a0-168">Therefore, the attribute that has a display order of 1 will be shown before to the attribute that has a display order of 2.</span></span>

    > [!NOTE]
    > <span data-ttu-id="645a0-169">È possibile rendere disponibile Customer Insights dalla stessa pagina.</span><span class="sxs-lookup"><span data-stu-id="645a0-169">You can make Customer Insights available from the same page.</span></span> <span data-ttu-id="645a0-170">Tuttavia, è necessario creare un ID applicazione e un segreto di Azure, a fini dell'autenticazione.</span><span class="sxs-lookup"><span data-stu-id="645a0-170">However, an Azure application ID and secret must be created, for authentication purposes.</span></span> <span data-ttu-id="645a0-171">Per informazioni sui requisiti, vedere la sezione [Attivare l'integrazione di Customer Insights con Commerce](#turn-on-the-integration-of-customer-insights-with-commerce) più avanti in questo argomento. Se Customer Insights è abilitato e si seleziona una o più misure che devono essere visualizzate nella scheda cliente, tali misure verranno visualizzate per prime.</span><span class="sxs-lookup"><span data-stu-id="645a0-171">(For information about the requirements, see the [Turn on the integration of Customer Insights with Commerce](#turn-on-the-integration-of-customer-insights-with-commerce) section later in this topic.) If Customer Insights is turned on, and you select one or more measures that should be shown on the customer card, those measures will be shown first.</span></span> <span data-ttu-id="645a0-172">Successivamente, verranno visualizzati i gruppi di attributi del libro clienti, in base all'ordine di visualizzazione.</span><span class="sxs-lookup"><span data-stu-id="645a0-172">Next, client book attribute groups will be shown, based on the display order.</span></span> <span data-ttu-id="645a0-173">Ad esempio, se si selezionano due misure da Customer Insights, queste due misure e un attributo del libro clienti verranno visualizzati sulla scheda cliente.</span><span class="sxs-lookup"><span data-stu-id="645a0-173">For example, if you select two measures from Customer Insights, those two measures and one client book attribute will be shown on the customer card.</span></span> <span data-ttu-id="645a0-174">L'attributo libro clienti visualizzato sarà l'attributo con l'ordine di visualizzazione più elevato.</span><span class="sxs-lookup"><span data-stu-id="645a0-174">(The client book attribute that is shown will be the attribute that has the highest display order.)</span></span>

6. <span data-ttu-id="645a0-175">Nella pagina **Parametri di commercio**, nella scheda **Fidelizzazione dei clienti**, nel campo **Gruppo di attributi del libro clienti**, selezionare il gruppo di attributi appena creato.</span><span class="sxs-lookup"><span data-stu-id="645a0-175">On the **Commerce parameters** page, on the **Clienteling** tab, in the **Client book attribute group** field, select the attribute group that you just created.</span></span>

    <span data-ttu-id="645a0-176">![Gruppo di attributi del libro clienti selezionato](./media/Client%20book%20attributes.png "Gruppo di attributi del libro clienti selezionato")</span><span class="sxs-lookup"><span data-stu-id="645a0-176">![Client book attribute group selected](./media/Client%20book%20attributes.png "Client book attribute group selected")</span></span>

7. <span data-ttu-id="645a0-177">Per acquisire le attività eseguite al POS, definire i tipi di attività nella pagina **Tipi di attività** (**Retail e Commerce \> Clienti \> Tipi di attività**).</span><span class="sxs-lookup"><span data-stu-id="645a0-177">To capture activities that occur at the POS, define the activity types on the **Activity types** page (**Retail and Commerce \> Customers \> Activity types**).</span></span>

    > [!NOTE]
    > <span data-ttu-id="645a0-178">I tipi di attività vengono estratti da Commerce Scale Unit quando effettua per la prima volta una chiamata in tempo reale.</span><span class="sxs-lookup"><span data-stu-id="645a0-178">Activity types are pulled by the Commerce Scale Unit when it makes a real-time call for the first time.</span></span> <span data-ttu-id="645a0-179">Dopo che le attività vengono acquisite, vengono memorizzate nella cache per alcune ore.</span><span class="sxs-lookup"><span data-stu-id="645a0-179">After the activities are pulled, they are cached for a few hours.</span></span> <span data-ttu-id="645a0-180">Se si modificano i tipi di attività, attendere finché la cache non sia più valida.</span><span class="sxs-lookup"><span data-stu-id="645a0-180">If you change the activity types, wait until the cache is no longer valid.</span></span> <span data-ttu-id="645a0-181">In alternativa, per gli ambienti non di produzione, riavviare il servizio Commerce Scale Unit.</span><span class="sxs-lookup"><span data-stu-id="645a0-181">Alternatively, for non-production environments, restart the Commerce Scale Unit service.</span></span>

8. <span data-ttu-id="645a0-182">Aggiungere due pulsanti al layout dello schermo POS appropriato, in modo che gli addetti alle vendite possano visualizzare il libro clienti e il libro clienti del negozio.</span><span class="sxs-lookup"><span data-stu-id="645a0-182">Add two buttons to the appropriate POS screen layout, so that sales associates can view their own client book and the store client book.</span></span> <span data-ttu-id="645a0-183">I libri dei clienti del negozio includono i clienti di tutti i libri clienti di tutti gli addetti che condividono una rubrica con il negozio. Le operazioni corrispondenti sono denominate **Visualizza clienti nel libro clienti** e **Visualizza clienti dai libri clienti del negozio**, rispettivamente.</span><span class="sxs-lookup"><span data-stu-id="645a0-183">(Store client books include clients from all client books of all associates who share an address book with the store.) The corresponding operations are named **View customers in client book** and **View customers from store client books**, respectively.</span></span> <span data-ttu-id="645a0-184">Sono disponibili tre operazioni aggiuntive correlate ai libri clienti.</span><span class="sxs-lookup"><span data-stu-id="645a0-184">Three additional operations that are related to client books are available.</span></span> <span data-ttu-id="645a0-185">Queste operazioni determinano quali addetti possono aggiungere, rimuovere e riassegnare i clienti dal libro clienti.</span><span class="sxs-lookup"><span data-stu-id="645a0-185">These operations determine which associates can add, remove, and reassign customers from the client book.</span></span> <span data-ttu-id="645a0-186">Sono denominate **Aggiungi cliente al libro clienti**, **Rimuovi clienti dal libro clienti** e **Riassegna clienti a un libro clienti**, rispettivamente.</span><span class="sxs-lookup"><span data-stu-id="645a0-186">They are named **Add customer to client book**, **Remove customers from client book**, and **Reassign customers to a client book**, respectively.</span></span>
9. <span data-ttu-id="645a0-187">Eseguire i seguenti processi di programmazione di distribuzione: 1040, 1150, 1110 e 1090.</span><span class="sxs-lookup"><span data-stu-id="645a0-187">Run the following distribution schedule jobs: 1040, 1150, 1110, and 1090.</span></span>

<span data-ttu-id="645a0-188">Dopo aver completato questa procedura, gli addetti alle vendite possono aprire la pagina dei dettagli del cliente nel POS e aggiungere clienti al libro clienti, visualizzare e acquisire attività e note per i clienti e indirizzare i clienti utilizzando gli attributi del cliente e del libro clienti per filtrare il libro clienti.</span><span class="sxs-lookup"><span data-stu-id="645a0-188">After you've completed this procedure, sales associates can open the customer details page at the POS, and add customers to their client book, view and capture activities and notes for customers, and target customers by using customer and client book attributes to filter the client book.</span></span> <span data-ttu-id="645a0-189">Nella figura seguente viene illustrato un esempio di un libro clienti.</span><span class="sxs-lookup"><span data-stu-id="645a0-189">The following illustration shows an example of a client book.</span></span>

<span data-ttu-id="645a0-190">![Esempio di un libro clienti](./media/client_book.png "Esempio di un libro clienti")</span><span class="sxs-lookup"><span data-stu-id="645a0-190">![Example of a client book](./media/client_book.png "Example of a client book")</span></span>

## <a name="turn-on-the-integration-of-customer-insights-with-commerce"></a><span data-ttu-id="645a0-191">Attivare l'integrazione di Customer Insights con Commerce</span><span class="sxs-lookup"><span data-stu-id="645a0-191">Turn on the integration of Customer Insights with Commerce</span></span>

<span data-ttu-id="645a0-192">Per attivare l'integrazione di Customer Insights con Commerce, è necessario assicurarsi di disporre di un'istanza attiva di Customer Insights nel tenant in cui viene eseguito il provisioning di Commerce.</span><span class="sxs-lookup"><span data-stu-id="645a0-192">To turn on the integration of Customer Insights with Commerce, you must make sure that you have an active instance of Customer Insights in the tenant where Commerce is provisioned.</span></span> <span data-ttu-id="645a0-193">È inoltre necessario disporre di un account utente Azure Active Directory (Azure AD) con una sottoscrizione Azure.</span><span class="sxs-lookup"><span data-stu-id="645a0-193">You must also have an Azure Active Directory (Azure AD) user account that has an Azure subscription.</span></span>

<span data-ttu-id="645a0-194">Seguire questi passaggi per configurare l'integrazione.</span><span class="sxs-lookup"><span data-stu-id="645a0-194">Follow these steps to set up the integration.</span></span>

1. <span data-ttu-id="645a0-195">Nel portale di Azure registra una nuova applicazione e prendi nota del nome dell'applicazione, dell'ID dell'applicazione e del segreto.</span><span class="sxs-lookup"><span data-stu-id="645a0-195">In the Azure portal, register a new application and make a note of the application name, application ID, and secret.</span></span> <span data-ttu-id="645a0-196">Queste informazioni verranno utilizzate per l'autenticazione da servizio a servizio tra Commerce e Customer Insights.</span><span class="sxs-lookup"><span data-stu-id="645a0-196">This information will be used for service-to-service authentication between Commerce and Customer Insights.</span></span> <span data-ttu-id="645a0-197">Annota il segreto in modo sicuro, poiché sarà necessario salvarlo nell'insieme di credenziali delle chiavi.</span><span class="sxs-lookup"><span data-stu-id="645a0-197">Note the secret safely, as it will be required to save it in the key vault.</span></span> <span data-ttu-id="645a0-198">Per il seguente esempio, utilizza CI_Access_name, CI_Access_AppID, CI_Access_Secret rispettivamente per il nome dell'applicazione, l'ID dell'applicazione e il segreto.</span><span class="sxs-lookup"><span data-stu-id="645a0-198">For the following example, use CI_Access_name, CI_Access_AppID, CI_Access_Secret for the application name, application ID, and secret respectively.</span></span> <span data-ttu-id="645a0-199">Per altre informazioni, vedi [Avvio rapido: Registrare un'applicazione con la piattaforma di identità di Microsoft](https://docs.microsoft.com/azure/active-directory/develop/quickstart-register-app).</span><span class="sxs-lookup"><span data-stu-id="645a0-199">For more information, see [Quickstart: Register an application with the Microsoft identity platform](https://docs.microsoft.com/azure/active-directory/develop/quickstart-register-app).</span></span>

    > [!IMPORTANT]
    > <span data-ttu-id="645a0-200">Intraprendere le azioni in modo da ricordare di cambiare il segreto prima che scada.</span><span class="sxs-lookup"><span data-stu-id="645a0-200">Take steps so that you will remember to change the secret before it expires.</span></span> <span data-ttu-id="645a0-201">In caso contrario, l'integrazione verrà interrotta in modo imprevisto.</span><span class="sxs-lookup"><span data-stu-id="645a0-201">Otherwise, the integration will unexpectedly stop.</span></span>

2. <span data-ttu-id="645a0-202">Vai alla tua istanza Customer Insights e cerca il nome dell'applicazione creata sopra (in questo esempio, "CI_Access_name").</span><span class="sxs-lookup"><span data-stu-id="645a0-202">Go to your Customer Insights instance and search for the name of the application created above (in this example, "CI_Access_name").</span></span>
3. <span data-ttu-id="645a0-203">Crea un insieme di credenziali delle chiavi di Azure e prendi nota del nome e dell'URL (in questo esempio, "KeyVaultName", "KeyVaultURL").</span><span class="sxs-lookup"><span data-stu-id="645a0-203">Create an Azure key vault, and take a note of the name and URL (in this example, "KeyVaultName", "KeyVaultURL").</span></span> <span data-ttu-id="645a0-204">Per istruzioni, vedere [Avvio rapido: Impostare e recuperare un segreto da Azure Key Vault tramite il portale di Azure](https://docs.microsoft.com/azure/key-vault/quick-create-portal).</span><span class="sxs-lookup"><span data-stu-id="645a0-204">For instructions, see [Quickstart: Set and retrieve a secret from Azure Key Vault using the Azure portal](https://docs.microsoft.com/azure/key-vault/quick-create-portal).</span></span>
4. <span data-ttu-id="645a0-205">Salva il segreto (in questo esempio, "CI_Access_Secret") nell'insieme di credenziali.</span><span class="sxs-lookup"><span data-stu-id="645a0-205">Save the secret (in this example, "CI_Access_Secret") in the vault.</span></span> <span data-ttu-id="645a0-206">Quando questo segreto viene archiviato nell'insieme di credenziali, il segreto ottiene un nome.</span><span class="sxs-lookup"><span data-stu-id="645a0-206">When this secret is stored in the vault, the secret gets a name.</span></span> <span data-ttu-id="645a0-207">Annota il nome del segreto (in questo esempio, "SecretName").</span><span class="sxs-lookup"><span data-stu-id="645a0-207">Note the secret name (in this example, 'SecretName").</span></span>
5. <span data-ttu-id="645a0-208">Per accedere al segreto dall'Insieme di credenziali delle chiavi di Azure, è necessario creare un'altra applicazione con un ID applicazione e un segreto (in questo esempio, "KeyVault_Access_AppID" e "KeyVault_Access_Secret").</span><span class="sxs-lookup"><span data-stu-id="645a0-208">To access the secret from Azure Key Vault, you need to create another application with an application ID and secret (in this example, "KeyVault_Access_AppID" and "KeyVault_Access_Secret").</span></span> <span data-ttu-id="645a0-209">Annota il segreto in modo sicuro, poiché non verrà più visualizzato.</span><span class="sxs-lookup"><span data-stu-id="645a0-209">Note the secret safely, as it will not be displayed again.</span></span>
6. <span data-ttu-id="645a0-210">Successivamente, concedi le autorizzazioni all'applicazione per accedere all'insieme di credenziali delle chiavi da Commerce utilizzando le API.</span><span class="sxs-lookup"><span data-stu-id="645a0-210">Next, you need to give permissions to the application to access the Key Vault from Commerce using APIs.</span></span> <span data-ttu-id="645a0-211">Nel portale di Azure vai alla pagina dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="645a0-211">Go to the application page in Azure portal.</span></span> <span data-ttu-id="645a0-212">Sotto la sezione **Gestione** seleziona **Autorizzazioni API**.</span><span class="sxs-lookup"><span data-stu-id="645a0-212">Under the **Manage** section, select **API permissions**.</span></span> <span data-ttu-id="645a0-213">Aggiungi l'autorizzazione per accedere all'**Insieme di credenziali delle chiavi di Azure**.</span><span class="sxs-lookup"><span data-stu-id="645a0-213">Add the permission to access **Azure key vault**.</span></span> <span data-ttu-id="645a0-214">Per questa autorizzazione, seleziona **Criteri di accesso**.</span><span class="sxs-lookup"><span data-stu-id="645a0-214">For this permission, select **Access policy**.</span></span> <span data-ttu-id="645a0-215">Seleziona il modello come **Gestione segreto** e seleziona le opzioni **Ottieni**, **Elenco**, **Decrittografa** e **Crittografa**.</span><span class="sxs-lookup"><span data-stu-id="645a0-215">Select the template as **Secret management**, and select the **Get**, **List**, **Decrypt**, and **Encrypt** options.</span></span> 
5. <span data-ttu-id="645a0-216">In Commerce Headquarters, passa a **Amministrazione sistema \> Impostazione \> Parametri Key Vault** e immetti le informazioni necessarie per l'insieme di credenziali delle chiavi.</span><span class="sxs-lookup"><span data-stu-id="645a0-216">In Commerce headquarters, go to **System administration \> Setup \> Key Vault parameters**, and enter the required information for the key vault.</span></span> <span data-ttu-id="645a0-217">Quindi nel campo **Client Key Vault**, immettere l'ID applicazione utilizzato nel passaggio 4, in modo che Commerce possa accedere ai segreti nel Key Vault.</span><span class="sxs-lookup"><span data-stu-id="645a0-217">Then, in the **Key Vault client** field, enter the application ID that you used in step 4, so that Commerce can access the secrets in the key vault.</span></span>
6. <span data-ttu-id="645a0-218">Per aggiungere l'applicazione creata al passaggio 1 all'elenco di applicazioni sicure (a volte indicato come elenco sicuro), vai a Customer Insights e fornisci l'accesso **Visualizzazione** all'applicazione.</span><span class="sxs-lookup"><span data-stu-id="645a0-218">To add the application that you created in step 1 to the list of safe applications (sometimes referred to as a safe list), go to Customer Insights, and select **View** access to the application.</span></span> <span data-ttu-id="645a0-219">Per istruzioni, vedere [Autorizzazioni](https://docs.microsoft.com/dynamics365/ai/customer-insights/pm-permissions).</span><span class="sxs-lookup"><span data-stu-id="645a0-219">For instructions, see [Permissions](https://docs.microsoft.com/dynamics365/ai/customer-insights/pm-permissions).</span></span>
7. <span data-ttu-id="645a0-220">Nella pagina **Amministrazione di sistema > Impostazione > Parametri insieme di credenziali delle chiavi** in Commerce HQ, aggiorna i campi come descritto di seguito:</span><span class="sxs-lookup"><span data-stu-id="645a0-220">On the **System administration > Setup > Key Vault parameters** page in Commerce HQ, update the fields as described below:</span></span> 

- <span data-ttu-id="645a0-221">**URL insieme di credenziali delle chiavi**: "KeyVaultURL" (dal passaggio 3 sopra).</span><span class="sxs-lookup"><span data-stu-id="645a0-221">**Key Vault url**: "KeyVaultURL" (from step 3 above).</span></span>
- <span data-ttu-id="645a0-222">**Client insieme di credenziali delle chiavi** : "KeyVault_Access_AppID" (dal passaggio 5 precedente).</span><span class="sxs-lookup"><span data-stu-id="645a0-222">**Key Vault client**: "KeyVault_Access_AppID" (from step 5 above).</span></span>
- <span data-ttu-id="645a0-223">**Chiave segreta insieme di credenziali delle chiavi** : "KeyVault_Access_Secret" (dal passaggio 5 precedente).</span><span class="sxs-lookup"><span data-stu-id="645a0-223">**Key Vault secret key**: "KeyVault_Access_Secret" (from step 5 above).</span></span>
- <span data-ttu-id="645a0-224">Sotto la sezione **Segreti**:</span><span class="sxs-lookup"><span data-stu-id="645a0-224">Under **Secrets** section:</span></span>
    - <span data-ttu-id="645a0-225">**Nome**: Qualsiasi nome, ad esempio "CISecret".</span><span class="sxs-lookup"><span data-stu-id="645a0-225">**Name**: Any name, for example "CISecret".</span></span>
    - <span data-ttu-id="645a0-226">**Descrizione**: Qualsiasi valore.</span><span class="sxs-lookup"><span data-stu-id="645a0-226">**Description**: Any value.</span></span>
    - <span data-ttu-id="645a0-227">**Segreto**: **vault**://<Name of key vault>/<name of secret>> In questo esempio sarà "vault://KeyVaultName/SecretName".</span><span class="sxs-lookup"><span data-stu-id="645a0-227">**Secret**: **vault**://<Name of key vault>/<name of secret>> In this  example it will be "vault://KeyVaultName/SecretName".</span></span>

<span data-ttu-id="645a0-228">Dopo aver aggiornato i campi, seleziona **Convalida** per garantire che il segreto sia accessibile dall'applicazione Commerce.</span><span class="sxs-lookup"><span data-stu-id="645a0-228">After you update the fields, select **Validate** to ensure the secret can be accessed by the Commerce application.</span></span>

8. <span data-ttu-id="645a0-229">In Commerce, nella pagina **Parametri di Commerce** nella scheda **Clientela** nella scheda dettaglio **Dynamics 365 Customer Insights** imposta **ID applicazione** su "CI_Access_AppID" (dal passaggio 1 sopra).</span><span class="sxs-lookup"><span data-stu-id="645a0-229">In Commerce, on the **Commerce parameters** page, on the **Clienteling** tab, on the **Dynamics 365 Customer Insights** FastTab, set the **Application ID** to "CI_Access_AppID" (from step 1 above).</span></span> <span data-ttu-id="645a0-230">Per **Nome segreto**, seleziona il nome del segreto inserito al passaggio 7 sopra ("CISecret").</span><span class="sxs-lookup"><span data-stu-id="645a0-230">For **Secret name**, select the name of the secret entered in step 7 above ("CISecret").</span></span> <span data-ttu-id="645a0-231">Impostare l'opzione **Abilita Customer Insights** su **Sì**.</span><span class="sxs-lookup"><span data-stu-id="645a0-231">Set the **Enable Customer Insights** option to **Yes**.</span></span> <span data-ttu-id="645a0-232">Se l'impostazione per qualsiasi motivo non riesce, viene visualizzato un messaggio di errore e questa opzione viene impostata su **No**.</span><span class="sxs-lookup"><span data-stu-id="645a0-232">If the setup is unsuccessful for any reason, an error message will be displayed, and this option will be set to **No**.</span></span> 

<span data-ttu-id="645a0-233">È possibile avere più ambienti in Customer Insights, ad esempio ambienti di produzione e test.</span><span class="sxs-lookup"><span data-stu-id="645a0-233">You can have multiple environments in Customer Insights, such as test and production environments.</span></span> <span data-ttu-id="645a0-234">Nel campo **ID istanza dell'ambiente**, immettere l'ambiente appropriato.</span><span class="sxs-lookup"><span data-stu-id="645a0-234">In the **Environment instance ID** field, enter the appropriate environment.</span></span> <span data-ttu-id="645a0-235">Nel campo **ID cliente alternativo**, immettere la proprietà in Customer Insights mappata al numero del conto del cliente</span><span class="sxs-lookup"><span data-stu-id="645a0-235">In the **Alternate customer ID** field, enter the property in Customer Insights that is mapped to the customer account number.</span></span> <span data-ttu-id="645a0-236">(In Commerce, il numero di conto del cliente è l'ID del cliente.) Le tre proprietà rimanenti sono le misure che verranno mostrate sulla scheda cliente nel libro clienti.</span><span class="sxs-lookup"><span data-stu-id="645a0-236">(In Commerce, the customer account number is the customer ID.) The remaining three properties are the measures that will be shown on the customer card in the client book.</span></span> <span data-ttu-id="645a0-237">È possibile selezionare fino a tre misure da visualizzare nella scheda cliente.</span><span class="sxs-lookup"><span data-stu-id="645a0-237">You can select up to three measures to show on the customer card.</span></span> <span data-ttu-id="645a0-238">Tuttavia, non è necessario selezionare alcuna misura.</span><span class="sxs-lookup"><span data-stu-id="645a0-238">However, you are not required to select any measures.</span></span> <span data-ttu-id="645a0-239">Come accennato in precedenza, il sistema mostra prima questi valori, quindi mostra i valori per il gruppo di attributi del libro clienti.</span><span class="sxs-lookup"><span data-stu-id="645a0-239">As mentioned previously, the system shows these values first, and then it shows the values for the client book attribute group.</span></span>
