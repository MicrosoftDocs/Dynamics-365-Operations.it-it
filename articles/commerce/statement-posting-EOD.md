---
title: Miglioramenti alla funzionalità di registrazione del rendiconto
description: Questo argomento descrive i miglioramenti apportati alla funzionalità di registrazione dei rendiconti.
author: josaw1
manager: AnnBe
ms.date: 05/14/2019
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
audience: Application User
ms.reviewer: josaw
ms.search.scope: Core, Operations, Retail
ms.search.region: Global
ms.search.industry: retail
ms.author: anpurush
ms.search.validFrom: 2018-04-30
ms.dyn365.ops.version: AX 7.0.0, Retail July 2017 update
ms.openlocfilehash: 68abef8f28c04a4f6f88e638c8abf944d06a32c4
ms.sourcegitcommit: 199848e78df5cb7c439b001bdbe1ece963593cdb
ms.translationtype: HT
ms.contentlocale: it-IT
ms.lasthandoff: 10/13/2020
ms.locfileid: "4413527"
---
# <a name="improvements-to-statement-posting-functionality"></a><span data-ttu-id="5062e-103">Miglioramenti alla funzionalità di registrazione del rendiconto</span><span class="sxs-lookup"><span data-stu-id="5062e-103">Improvements to statement posting functionality</span></span>

[!include [banner](includes/banner.md)]

<span data-ttu-id="5062e-104">Questo argomento descrive il primo set di miglioramenti apportati alla funzionalità di registrazione dei rendiconti.</span><span class="sxs-lookup"><span data-stu-id="5062e-104">This topic describes the first set of improvements that have been made to the statement posting feature.</span></span> <span data-ttu-id="5062e-105">Questi miglioramenti sono disponibili in Microsoft Dynamics 365 for Finance and Operations 7.3.2.</span><span class="sxs-lookup"><span data-stu-id="5062e-105">These improvements are available in Microsoft Dynamics 365 for Finance and Operations 7.3.2.</span></span>

## <a name="activation"></a><span data-ttu-id="5062e-106">Attivazione</span><span class="sxs-lookup"><span data-stu-id="5062e-106">Activation</span></span>

<span data-ttu-id="5062e-107">Per impostazione predefinita, durante la distribuzione di Finance and Operations 7.3.2, il programma è configurato per l'utilizzo della funzionalità di registrazione dei rendiconti legacy.</span><span class="sxs-lookup"><span data-stu-id="5062e-107">By default, during deployment of Finance and Operations 7.3.2, the program is set up to use the legacy feature for statement postings.</span></span> <span data-ttu-id="5062e-108">Per attivare la funzionalità di registrazione dei rendiconti migliorata, è necessario attivare la chiave di configurazione relativa.</span><span class="sxs-lookup"><span data-stu-id="5062e-108">To enable the improved statement posting feature, you must turn on the configuration key for it.</span></span>

- <span data-ttu-id="5062e-109">Accedere a **Amministrazione sistema** \> **Impostazione** \> **Configurazione licenza**, quindi nel nodo **Retail e Commerce**, deselezionare la casella di controllo **Rendiconti (legacy)** e selezionare la casella di controllo **Rendiconti**.</span><span class="sxs-lookup"><span data-stu-id="5062e-109">Go to **System administration** \> **Setup** \> **License configuration**, and then, under the **Retail and Commerce** node, clear the **Statements (legacy)** check box, and select the **Statements** check box.</span></span>

<span data-ttu-id="5062e-110">Quando la nuova chiave di configurazione **Rendiconti** è attivata, è disponibile una nuova voce di menu denominata **Rendiconti**.</span><span class="sxs-lookup"><span data-stu-id="5062e-110">When the new **Statements** configuration key is turned on, a new menu item that is named **Statements** is available.</span></span> <span data-ttu-id="5062e-111">Questa voce di menu consente di creare manualmente, calcolare e registrare rendiconti.</span><span class="sxs-lookup"><span data-stu-id="5062e-111">This menu item lets you manually create, calculate, and post statements.</span></span> <span data-ttu-id="5062e-112">Tutti i rendiconti che causano un errore durante l'utilizzo del processo di registrazione batch saranno disponibili anche mediante questa voce di menu.</span><span class="sxs-lookup"><span data-stu-id="5062e-112">Any statement that causes an error when the batch posting process is used will also be available through this menu item.</span></span> <span data-ttu-id="5062e-113">(Quando la chiave di configurazione **Rendiconti (legacy)** viene attivata, la voce di menu è denominata **Rendiconti aperti**).</span><span class="sxs-lookup"><span data-stu-id="5062e-113">(When the **Statements (legacy)** configuration key is turned on, the menu item is named **Open statements**.)</span></span>

<span data-ttu-id="5062e-114">Commerce include le seguenti convalide correlate a queste chiavi di configurazione:</span><span class="sxs-lookup"><span data-stu-id="5062e-114">Commerce includes the following validations that are related to these configuration keys:</span></span>

- <span data-ttu-id="5062e-115">Le chiavi di configurazione non possono essere attivate contemporaneamente.</span><span class="sxs-lookup"><span data-stu-id="5062e-115">Both configuration keys can't be turned on at the same time.</span></span>
- <span data-ttu-id="5062e-116">Le stesse chiavi di configurazione devono essere utilizzate per tutte le operazioni eseguite per un determinato rendiconto durante il relativo ciclo di vita (Crea, Calcola, Cancella, Registra e così via).</span><span class="sxs-lookup"><span data-stu-id="5062e-116">The same configuration keys must be used for all the operations that are performed on a given statement during its lifecycle (Create, Calculate, Clear, Post, and so on).</span></span> <span data-ttu-id="5062e-117">Ad esempio, non è possibile creare e calcolare un rendiconto quando la chiave di configurazione **Rendiconti (legacy)** è attivata e quindi cercare di registrare lo stesso rendiconto mentre la chiave di configurazione **Rendiconti** è attivata .</span><span class="sxs-lookup"><span data-stu-id="5062e-117">For example, you can't create and calculate a statement while the **Statement (legacy)** configuration key is turned on, and then try to post the same statement while the **Statement** configuration key is turned on.</span></span>

> [!NOTE]
> <span data-ttu-id="5062e-118">Si consiglia di utilizzare la chiave di configurazione **Rendiconti** per la funzionalità di registrazione di rendiconti migliorata, a meno che non si abbiano ragioni valide di utilizzare la chiave di configurazione **Rendiconti (legacy)**.</span><span class="sxs-lookup"><span data-stu-id="5062e-118">We recommend that you use the **Statements** configuration key for the improved statement posting feature, unless you have compelling reasons to use the **Statements (legacy)** configuration key instead.</span></span> <span data-ttu-id="5062e-119">Microsoft continuerà a investire nella nuova funzionalità di registrazione di rendiconti migliorata ed è importante passare a questa funzionalità il prima possibile.</span><span class="sxs-lookup"><span data-stu-id="5062e-119">Microsoft will continue to invest in the new and improved statement posting feature, and it's important that you switch to it at the earliest opportunity to benefit from it.</span></span> <span data-ttu-id="5062e-120">La funzionalità di registrazione di rendiconti legacy è deprecata a partire dalla versione 8.0.</span><span class="sxs-lookup"><span data-stu-id="5062e-120">The legacy statement posting feature is deprecated starting in 8.0 release.</span></span>

## <a name="setup"></a><span data-ttu-id="5062e-121">Impostazione</span><span class="sxs-lookup"><span data-stu-id="5062e-121">Setup</span></span>

<span data-ttu-id="5062e-122">Come parte dei miglioramenti alla funzionalità di registrazione dei rendiconti, tre nuovi parametri sono stati introdotti nella Scheda dettaglio **Rendiconto** della scheda **Registrazione** nella pagina **Parametri di commercio**:</span><span class="sxs-lookup"><span data-stu-id="5062e-122">As part of the improvements to the statement posting feature, three new parameters have been introduced on the **Statement** FastTab on the **Posting** tab of the **Commerce parameters** page:</span></span>

- <span data-ttu-id="5062e-123">**Disabilita cancellazione rendiconto** – Questa opzione è applicabile solo per la funzionalità di registrazione dei rendiconti legacy.</span><span class="sxs-lookup"><span data-stu-id="5062e-123">**Disable clear statement** – This option is applicable only for the legacy statement posting feature.</span></span> <span data-ttu-id="5062e-124">Si consiglia di impostare questa opzione su **No** per impedire agli utenti di cancellare rendiconti semi-registrati.</span><span class="sxs-lookup"><span data-stu-id="5062e-124">We recommend that you set this option to **No** to prevent users from clearing statements that are in a semi-posted state.</span></span> <span data-ttu-id="5062e-125">Se si cancellano i rendiconti semi-registrati, i dati vengono danneggiati.</span><span class="sxs-lookup"><span data-stu-id="5062e-125">If statements that are in a semi-posted state are cleared, data becomes corrupted.</span></span> <span data-ttu-id="5062e-126">Questa opzione dovrebbe essere impostata su **Sì** solo in circostanze eccezionali.</span><span class="sxs-lookup"><span data-stu-id="5062e-126">You should set this option to **Yes** only in exceptional circumstances.</span></span>
- <span data-ttu-id="5062e-127">**Prenota scorte durante il calcolo** – Si consiglia di utilizzare il processo batch **Registra magazzino** per la prenotazione delle scorte e di impostare questa opzione su **No**.</span><span class="sxs-lookup"><span data-stu-id="5062e-127">**Reserve inventory during calculation** – We recommend that you use the **Post inventory** batch job for inventory reservation, and that you set this option to **No**.</span></span> <span data-ttu-id="5062e-128">Quando questa opzione è impostata su **No**, la funzionalità di registrazione dei rendiconti migliorata non tenta di creare voci di prenotazione scorte al momento del calcolo (se le voci erano già state create mediante il processo batch **Registra magazzino**).</span><span class="sxs-lookup"><span data-stu-id="5062e-128">When this option is set to **No**, the improved statement posting feature doesn't try to create inventory reservation entries at the time of calculation (if entries weren't already created through the **Post inventory** batch job).</span></span> <span data-ttu-id="5062e-129">La funzionalità crea invece voci di prenotazione scorte solo al momento della registrazione.</span><span class="sxs-lookup"><span data-stu-id="5062e-129">Instead, the feature creates inventory reservation entries only at the time of posting.</span></span> <span data-ttu-id="5062e-130">Questa implementazione era una scelta di progettazione ed era basata sul fatto che l'intervallo di tempo tra il processo di calcolo e il processo di registrazione è in genere ridotto.</span><span class="sxs-lookup"><span data-stu-id="5062e-130">This implementation was a design choice and was based on the fact that the time window between the calculation process and the posting process is typically small.</span></span> <span data-ttu-id="5062e-131">Tuttavia, se si desidera prenotare le scorte al momento del calcolo, è possibile impostare questa opzione su **Sì**.</span><span class="sxs-lookup"><span data-stu-id="5062e-131">However, if you want to reserve inventory at the time of calculation, you can set this option to **Yes**.</span></span>

    <span data-ttu-id="5062e-132">La funzionalità di registrazione dei rendiconti legacy prenota sempre le scorte durante il processo di calcolo dei rendiconti (se la prenotazione non era già stata effettuata mediante il processo batch **Registra magazzino**), indipendentemente dall'impostazione di questa opzione.</span><span class="sxs-lookup"><span data-stu-id="5062e-132">The legacy statement posting feature always reserves inventory during the statement calculation process (if reservation wasn't already done through the **Post inventory** batch job), regardless of the setting of this option.</span></span>

- <span data-ttu-id="5062e-133">**Disabilita conteggio richiesto** – Quando questa opzione è impostata su **Sì**, il processo di registrazione per un rendiconto continua, anche se la differenza tra l'importo conteggiato e l'importo della transazione nel rendiconto non rientra nella soglia definita nella Scheda dettaglio **Rendiconto** per punti vendita.</span><span class="sxs-lookup"><span data-stu-id="5062e-133">**Disable counting required** – When this option is set to **Yes**, the posting process for a statement continues, even if the difference between the counted amount and the transaction amount on the statement is outside the threshold that is defined on the **Statement** FastTab for stores.</span></span>

<span data-ttu-id="5062e-134">Inoltre, i seguenti parametri sono stati introdotti nella scheda dettaglio **Elaborazione batch** della scheda **Registrazione** della pagina **Parametri di commercio** :</span><span class="sxs-lookup"><span data-stu-id="5062e-134">Additionally, the following parameters have been introduced on the **Batch processing** FastTab on the **Posting** tab of the **Commerce parameters** page:</span></span> 

- <span data-ttu-id="5062e-135">**Numero massimo di registrazioni rendiconti paralleli** – Questo campo definisce il numero di attività batch che verranno utilizzate per registrare più rendiconti.</span><span class="sxs-lookup"><span data-stu-id="5062e-135">**Maximum number of parallel statement posting** – This field defines the number of batch tasks that will be used to post multiple statements.</span></span> 
- <span data-ttu-id="5062e-136">**Numero massimo di thread per l'elaborazione ordini per rendiconto** – Questo campo rappresenta il numero massimo di thread utilizzati dal processo batch di registrazione del rendiconto per creare e fatturare gli ordini di vendita per un singolo rendiconto.</span><span class="sxs-lookup"><span data-stu-id="5062e-136">**Max thread for order processing per statement** – This field represents the maximum number of threads used by the statement posting batch job to create and invoice sales orders for a single statement.</span></span> <span data-ttu-id="5062e-137">Il numero totale di thread che verrà utilizzato dal processo di registrazione del rendiconto verrà calcolato in base al valore in questo parametro moltiplicato per il valore nel parametro **Numero massimo di registrazioni rendiconti paralleli**.</span><span class="sxs-lookup"><span data-stu-id="5062e-137">The total number of threads that will be used by the statement posting process will be computed based on the value in this parameter multiplied by the value in the **Maximum number of parallel statement posting** parameter.</span></span> <span data-ttu-id="5062e-138">L'impostazione del valore di questo parametro troppo alto può influire negativamente sulle prestazioni del processo di registrazione del rendiconto.</span><span class="sxs-lookup"><span data-stu-id="5062e-138">Setting the value of this parameter too high can negatively impact the performance of the statement posting process.</span></span>
- <span data-ttu-id="5062e-139">**Numero massimo di righe transazione incluse nell'aggregazione** – Questo campo definisce il numero di righe transazione che verranno incluse in una singola transazione aggregata prima che ne venga creata una nuova.</span><span class="sxs-lookup"><span data-stu-id="5062e-139">**Max transaction lines included in aggregation** – This field defines the number of transaction lines that will be included in a single aggregated transaction before a new one is created.</span></span> <span data-ttu-id="5062e-140">Le transazioni aggregate vengono create in base a diversi criteri di aggregazione come cliente, data del giorno lavorativo o dimensioni finanziarie.</span><span class="sxs-lookup"><span data-stu-id="5062e-140">Aggregated transactions are created based on different aggregation criteria such as customer, business date, or financial dimensions.</span></span> <span data-ttu-id="5062e-141">È importante notare che le righe de una singola transazione non verranno suddivise tra diverse transazioni aggregate.</span><span class="sxs-lookup"><span data-stu-id="5062e-141">It is important to note that the lines from a single transaction will not be split across different aggregated transactions.</span></span> <span data-ttu-id="5062e-142">Ciò significa che è necessario prendere in considerazione la possibilità che il numero di righe in una transazione aggregata sia leggermente superiore o inferiore in base a fattori quali il numero di prodotti distinti.</span><span class="sxs-lookup"><span data-stu-id="5062e-142">This means that there is a possibility that the number of lines in a aggregated transaction is slightly higher or lower based on factors such as number of distinct products.</span></span>
- <span data-ttu-id="5062e-143">**Numero massimo di thread per convalidare le transazioni del punto vendita** – Questo campo definisce il numero di thread che verranno utilizzati per convalidare le transazioni.</span><span class="sxs-lookup"><span data-stu-id="5062e-143">**Maximum number of threads to validate store transactions** – This field defines the number of threads that will be used to validate transactions.</span></span> <span data-ttu-id="5062e-144">La convalida delle transazioni è un passaggio necessario che deve verificarsi prima che le transazioni vengano inserite nei rendiconti.</span><span class="sxs-lookup"><span data-stu-id="5062e-144">Validating transactions is a required step that needs to occur before the transactions can be pulled into the statements.</span></span> <span data-ttu-id="5062e-145">Inoltre, è necessario definire un **Prodotto gift card** nella Scheda dettaglio **Gift card** della scheda **Registrazione** della pagina **Parametri di commercio**.</span><span class="sxs-lookup"><span data-stu-id="5062e-145">You also need to define a **Gift card product** on the **Gift card** FastTab on the **Posting** tab of the **Commerce parameters** page.</span></span> <span data-ttu-id="5062e-146">Ciò deve essere definito anche se nessuna gift card verrà utilizzata dall'organizzazione.</span><span class="sxs-lookup"><span data-stu-id="5062e-146">This needs to defined even if gift cards are not used by the organization.</span></span>

> [!NOTE]
> <span data-ttu-id="5062e-147">Tutti i parametri e le impostazioni correlati alle registrazioni dei rendiconti e definiti nei punti vendita e nella pagina **Parametri di commercio** sono applicabili alla funzionalità di registrazione dei rendiconti migliorata.</span><span class="sxs-lookup"><span data-stu-id="5062e-147">All settings and parameters that are related to statement postings, and that are defined on stores and on the **Commerce parameters** page, are applicable to the improved statement posting feature.</span></span>

## <a name="processing"></a><span data-ttu-id="5062e-148">Elaborazione in corso</span><span class="sxs-lookup"><span data-stu-id="5062e-148">Processing</span></span>

<span data-ttu-id="5062e-149">I rendiconti possono essere calcolati e registrati in batch utilizzando le voci di menu **Calcola rendiconti in batch** e **Registra rendiconti in batch**.</span><span class="sxs-lookup"><span data-stu-id="5062e-149">Statements can be calculated and posted in batch using the menu items **Calculate statements in batch** and **Post statements in batch**.</span></span> <span data-ttu-id="5062e-150">In alternativa, i rendiconti possono essere calcolati e registrati manualmente utilizzando la voce di menu **Rendiconti** fornita dalla funzionalità di registrazione dei rendiconti migliorata.</span><span class="sxs-lookup"><span data-stu-id="5062e-150">Alternatively, statements can be manually calculated and posted by using the **Statements** menu item that the improved statement posting feature provides.</span></span>

<span data-ttu-id="5062e-151">Il processo e i passaggi per il calcolo e la registrazione dei rendiconti in un batch sono uguali a quelli della funzionalità di registrazione dei rendiconti legacy.</span><span class="sxs-lookup"><span data-stu-id="5062e-151">The process and steps for calculating and posting statements in a batch are the same as they were in the legacy statement posting feature.</span></span> <span data-ttu-id="5062e-152">Tuttavia, miglioramenti significativi sono stati apportati nell'elaborazione backend core dei rendiconti.</span><span class="sxs-lookup"><span data-stu-id="5062e-152">However, significant improvements have been made in the core back-end processing of the statements.</span></span> <span data-ttu-id="5062e-153">Questi miglioramenti rendono il processo più resiliente e forniscono una migliore visibilità sugli stati e sulle informazioni relative agli errori.</span><span class="sxs-lookup"><span data-stu-id="5062e-153">These improvements make the process more resilient, and provide for better visibility into the states and error information.</span></span> <span data-ttu-id="5062e-154">Di conseguenza, gli utenti possono eliminare la causa principale degli errori e quindi continuare il processo di registrazione senza il rischio di danneggiare i dati e la necessità di dover apportare le correzioni.</span><span class="sxs-lookup"><span data-stu-id="5062e-154">Therefore, users can address the root cause of errors and then continue the posting process without causing data corruption and without causing data fixes to be required.</span></span>

<span data-ttu-id="5062e-155">Nelle sezioni seguenti vengono descritti alcuni dei principali miglioramenti alla funzionalità di registrazione dei rendiconti nell'interfaccia utente per i rendiconti e i rendiconti registrati.</span><span class="sxs-lookup"><span data-stu-id="5062e-155">The following sections describe some of the major improvements for the statement posting feature that appear in the user interface for statements and posted statements.</span></span>

### <a name="status-details"></a><span data-ttu-id="5062e-156">Dettagli stato</span><span class="sxs-lookup"><span data-stu-id="5062e-156">Status details</span></span>

<span data-ttu-id="5062e-157">Un nuovo modello di stato è stato introdotto nella routine di registrazione dei rendiconti attraverso i processi di calcolo e di registrazione.</span><span class="sxs-lookup"><span data-stu-id="5062e-157">A new state model has been introduced in the statement posting routine across the calculation and posting processes.</span></span>

<span data-ttu-id="5062e-158">Nella tabella seguente vengono descritti i vari stati e il relativo ordine durante il processo di calcolo.</span><span class="sxs-lookup"><span data-stu-id="5062e-158">The following table describes the various states and their order during the calculation process.</span></span>

| <span data-ttu-id="5062e-159">Ordine stato</span><span class="sxs-lookup"><span data-stu-id="5062e-159">State order</span></span> | <span data-ttu-id="5062e-160">Stato/regione</span><span class="sxs-lookup"><span data-stu-id="5062e-160">State</span></span>      | <span data-ttu-id="5062e-161">descrizione</span><span class="sxs-lookup"><span data-stu-id="5062e-161">Description</span></span> |
|-------------|------------|-------------|
| <span data-ttu-id="5062e-162">1</span><span class="sxs-lookup"><span data-stu-id="5062e-162">1</span></span>           | <span data-ttu-id="5062e-163">Avviata</span><span class="sxs-lookup"><span data-stu-id="5062e-163">Started</span></span>    | <span data-ttu-id="5062e-164">Il rendiconto è stato creato ed è pronto per essere calcolato.</span><span class="sxs-lookup"><span data-stu-id="5062e-164">The statement was created and is ready to be calculated.</span></span> |
| <span data-ttu-id="5062e-165">2</span><span class="sxs-lookup"><span data-stu-id="5062e-165">2</span></span>           | <span data-ttu-id="5062e-166">Contrassegnato</span><span class="sxs-lookup"><span data-stu-id="5062e-166">Marked</span></span>     | <span data-ttu-id="5062e-167">Le transazioni nell'ambito di un rendiconto vengono identificate in base ai parametri del rendiconto e vengono contrassegnate con l'ID del rendiconto.</span><span class="sxs-lookup"><span data-stu-id="5062e-167">The transactions that are in scope for the statement are identified based on the statement parameters, and they are marked with the statement ID.</span></span> |
| <span data-ttu-id="5062e-168">3</span><span class="sxs-lookup"><span data-stu-id="5062e-168">3</span></span>           | <span data-ttu-id="5062e-169">Calcolato</span><span class="sxs-lookup"><span data-stu-id="5062e-169">Calculated</span></span> | <span data-ttu-id="5062e-170">Le righe del rendiconto vengono calcolate e visualizzate.</span><span class="sxs-lookup"><span data-stu-id="5062e-170">The statement lines are computed and shown.</span></span> |

<span data-ttu-id="5062e-171">Nella tabella seguente vengono descritti i vari stati e il relativo ordine durante il processo di registrazione.</span><span class="sxs-lookup"><span data-stu-id="5062e-171">The following table describes the various states and their order during the posting process.</span></span>

| <span data-ttu-id="5062e-172">Ordine stato</span><span class="sxs-lookup"><span data-stu-id="5062e-172">State order</span></span> | <span data-ttu-id="5062e-173">Stato/regione</span><span class="sxs-lookup"><span data-stu-id="5062e-173">State</span></span>                   | <span data-ttu-id="5062e-174">descrizione</span><span class="sxs-lookup"><span data-stu-id="5062e-174">Description</span></span> |
|-------------|-------------------------|-------------|
| <span data-ttu-id="5062e-175">1</span><span class="sxs-lookup"><span data-stu-id="5062e-175">1</span></span>           | <span data-ttu-id="5062e-176">Verificato</span><span class="sxs-lookup"><span data-stu-id="5062e-176">Checked</span></span>                 | <span data-ttu-id="5062e-177">Vengono effettuate molteplici convalide correlate ai parametri (ad esempio l'addebito di smaltimento) nonché al rendiconto e alle righe del rendiconto (ad esempio la differenza tra l'importo conteggiato e l'importo della transazione).</span><span class="sxs-lookup"><span data-stu-id="5062e-177">Multiple validations are done that are related to parameters (for example, the disposition charge), and to the statement and statement lines (for example, the difference between the counted amount and the transaction amount).</span></span> |
| <span data-ttu-id="5062e-178">2</span><span class="sxs-lookup"><span data-stu-id="5062e-178">2</span></span>           | <span data-ttu-id="5062e-179">Aggregato</span><span class="sxs-lookup"><span data-stu-id="5062e-179">Aggregated</span></span>              | <span data-ttu-id="5062e-180">Le transazioni di vendita per i clienti con e senza nome vengono aggregate in base alla configurazione.</span><span class="sxs-lookup"><span data-stu-id="5062e-180">Sales transactions for named and unnamed customers are aggregated based on the configuration.</span></span> <span data-ttu-id="5062e-181">Ogni transazione aggregata viene convertita in un ordine cliente.</span><span class="sxs-lookup"><span data-stu-id="5062e-181">Every aggregated transaction is eventually converted to a sales order.</span></span> |
| <span data-ttu-id="5062e-182">3</span><span class="sxs-lookup"><span data-stu-id="5062e-182">3</span></span>           | <span data-ttu-id="5062e-183">Ordine cliente creato</span><span class="sxs-lookup"><span data-stu-id="5062e-183">Customer order created</span></span>  | <span data-ttu-id="5062e-184">In base alla transazione aggregata, gli ordini cliente vengono creati nel sistema.</span><span class="sxs-lookup"><span data-stu-id="5062e-184">Based on the aggregated transaction, sales orders are created in the system.</span></span> |
| <span data-ttu-id="5062e-185">4</span><span class="sxs-lookup"><span data-stu-id="5062e-185">4</span></span>           | <span data-ttu-id="5062e-186">Ordine cliente fatturato</span><span class="sxs-lookup"><span data-stu-id="5062e-186">Customer order invoiced</span></span> | <span data-ttu-id="5062e-187">Gli ordini cliente sono fatturati.</span><span class="sxs-lookup"><span data-stu-id="5062e-187">Sales orders are invoiced.</span></span> |
| <span data-ttu-id="5062e-188">5</span><span class="sxs-lookup"><span data-stu-id="5062e-188">5</span></span>           | <span data-ttu-id="5062e-189">Sconti registrati</span><span class="sxs-lookup"><span data-stu-id="5062e-189">Discounts posted</span></span>        | <span data-ttu-id="5062e-190">Giornali di registrazione sconti periodici sono registrati in base alla configurazione.</span><span class="sxs-lookup"><span data-stu-id="5062e-190">Periodic discount journals are posted based on the configuration.</span></span> |
| <span data-ttu-id="5062e-191">6</span><span class="sxs-lookup"><span data-stu-id="5062e-191">6</span></span>           | <span data-ttu-id="5062e-192">Ricavi/spese registrati</span><span class="sxs-lookup"><span data-stu-id="5062e-192">Income/expense posted</span></span>   | <span data-ttu-id="5062e-193">Le transazioni ricavi/spese sono registrate come giustificativi.</span><span class="sxs-lookup"><span data-stu-id="5062e-193">Income/expense transactions are posted as vouchers.</span></span> |
| <span data-ttu-id="5062e-194">7</span><span class="sxs-lookup"><span data-stu-id="5062e-194">7</span></span>           | <span data-ttu-id="5062e-195">Giustificativi collegati</span><span class="sxs-lookup"><span data-stu-id="5062e-195">Vouchers linked</span></span>         | <span data-ttu-id="5062e-196">I giornali di registrazione vengono creati e collegati alla fattura corrispondente.</span><span class="sxs-lookup"><span data-stu-id="5062e-196">Payment journals are created and linked to the corresponding invoice.</span></span> |
| <span data-ttu-id="5062e-197">8</span><span class="sxs-lookup"><span data-stu-id="5062e-197">8</span></span>           | <span data-ttu-id="5062e-198">Pagamenti registrati</span><span class="sxs-lookup"><span data-stu-id="5062e-198">Payments posted</span></span>         | <span data-ttu-id="5062e-199">I giornali di registrazione vengono registrati.</span><span class="sxs-lookup"><span data-stu-id="5062e-199">Payment journals are posted.</span></span> |
| <span data-ttu-id="5062e-200">9</span><span class="sxs-lookup"><span data-stu-id="5062e-200">9</span></span>           | <span data-ttu-id="5062e-201">Gift card registrate</span><span class="sxs-lookup"><span data-stu-id="5062e-201">Gift cards posted</span></span>       | <span data-ttu-id="5062e-202">Le transazioni gift card sono registrate come giustificativi.</span><span class="sxs-lookup"><span data-stu-id="5062e-202">Gift card transactions are posted as vouchers.</span></span> |
| <span data-ttu-id="5062e-203">10</span><span class="sxs-lookup"><span data-stu-id="5062e-203">10</span></span>          | <span data-ttu-id="5062e-204">Contabilizzato</span><span class="sxs-lookup"><span data-stu-id="5062e-204">Posted</span></span>                  | <span data-ttu-id="5062e-205">Il rendiconto viene contrassegnato come registrato.</span><span class="sxs-lookup"><span data-stu-id="5062e-205">The statement is marked as posted.</span></span> |

<span data-ttu-id="5062e-206">Ogni stato nelle tabelle precedenti è indipendente in natura e una dipendenza gerarchica viene generata tra gli stati.</span><span class="sxs-lookup"><span data-stu-id="5062e-206">Every state in the preceding tables is independent in nature, and a hierarchical dependency is built between the states.</span></span> <span data-ttu-id="5062e-207">Questa dipendenza va dall'alto in basso.</span><span class="sxs-lookup"><span data-stu-id="5062e-207">This dependency flows from top to bottom.</span></span> <span data-ttu-id="5062e-208">Se nel sistema si verificano degli errori durante l'elaborazione di uno stato, viene ripristinato lo stato precedente del rendiconto.</span><span class="sxs-lookup"><span data-stu-id="5062e-208">If the system encounters any errors while it's processing a state, the status of the statement is reverted to the previous state.</span></span> <span data-ttu-id="5062e-209">Qualsiasi tentativo successivo del processo riprende dal punto in cui si è verificato l'errore.</span><span class="sxs-lookup"><span data-stu-id="5062e-209">Any subsequent reattempt of the process resumes from the state that failed and continues to move forward.</span></span> <span data-ttu-id="5062e-210">Questo approccio presenta i seguenti vantaggi:</span><span class="sxs-lookup"><span data-stu-id="5062e-210">This approach has the following benefits:</span></span>

- <span data-ttu-id="5062e-211">L'utente ha una visibilità completa sullo stato durante il quale si è verificato l'errore.</span><span class="sxs-lookup"><span data-stu-id="5062e-211">The user has complete visibility into the state where the error occurred.</span></span>
- <span data-ttu-id="5062e-212">I dati non vengono danneggiati.</span><span class="sxs-lookup"><span data-stu-id="5062e-212">Data corruption is avoided.</span></span> <span data-ttu-id="5062e-213">Ad esempio, nella funzionalità di registrazione dei rendiconti legacy c'erano delle istanze in cui alcuni ordini cliente venivano fatturati mentre altri erano lasciati aperti.</span><span class="sxs-lookup"><span data-stu-id="5062e-213">For example, in the legacy statement posting feature, there were instances where some sales orders were invoiced but others were left open.</span></span> <span data-ttu-id="5062e-214">Erano presenti anche delle istanze in cui alcuni giornali di registrazione pagamenti non avevano una fattura corrispondente da liquidare, in quanto la registrazione della fattura comportava un errore.</span><span class="sxs-lookup"><span data-stu-id="5062e-214">There were also instances where some payment journals didn't have a corresponding invoice to settle, because the invoice posting had an error.</span></span>
- <span data-ttu-id="5062e-215">Gli utenti possono visualizzare lo stato corrente di un rendiconto utilizzando il pulsante **Dettagli stato** nel gruppo **Dettagli esecuzione** del rendiconto.</span><span class="sxs-lookup"><span data-stu-id="5062e-215">Users can see the current state of a statement by using the **Status details** button in the **Execution details** group of the statement.</span></span> <span data-ttu-id="5062e-216">La pagina dei dettagli dello stato ha tre aree:</span><span class="sxs-lookup"><span data-stu-id="5062e-216">The status details page has three sections:</span></span>

    - <span data-ttu-id="5062e-217">La prima mostra lo stato corrente del rendiconto, insieme al codice di errore e a un messaggio di errore dettagliato, se si è verificato un errore.</span><span class="sxs-lookup"><span data-stu-id="5062e-217">The first section shows the current status of the statement, together with the error code and a detailed error message, if an error occurred.</span></span>
    - <span data-ttu-id="5062e-218">La seconda area visualizza i vari stati del processo di calcolo.</span><span class="sxs-lookup"><span data-stu-id="5062e-218">The second section shows the various states of the calculation process.</span></span> <span data-ttu-id="5062e-219">Sono segnalati gli stati eseguiti correttamente, quelli che non sono stati eseguiti a causa di errori e quelli non ancora eseguiti.</span><span class="sxs-lookup"><span data-stu-id="5062e-219">Visual cues indicate states that have been successfully run, states that could not be run because of errors, and states that haven't yet been run.</span></span>
    - <span data-ttu-id="5062e-220">La terza area visualizza i vari stati del processo di registrazione.</span><span class="sxs-lookup"><span data-stu-id="5062e-220">The third section shows the various states of the posting process.</span></span> <span data-ttu-id="5062e-221">Sono segnalati gli stati eseguiti correttamente, quelli che non sono stati eseguiti a causa di errori e quelli non ancora eseguiti.</span><span class="sxs-lookup"><span data-stu-id="5062e-221">Visual cues indicate states that have been successfully run, states that could not be run because of errors, and states that haven't yet been run.</span></span>

<span data-ttu-id="5062e-222">Inoltre, l'intestazione della seconda e della terza area mostra lo stato complessivo del processo pertinente.</span><span class="sxs-lookup"><span data-stu-id="5062e-222">Additionally, the header of the second and third sections shows the overall status of the relevant process.</span></span>

### <a name="event-logs"></a><span data-ttu-id="5062e-223">Registri eventi</span><span class="sxs-lookup"><span data-stu-id="5062e-223">Event logs</span></span>

<span data-ttu-id="5062e-224">Per un rendiconto vengono eseguite varie operazioni (ad esempio, Crea, Calcola, Cancella e Registra) e più istanze della stessa operazione possono essere chiamate durante il ciclo di vita del rendiconto.</span><span class="sxs-lookup"><span data-stu-id="5062e-224">A statement goes through various operations (for example, Create, Calculate, Clear, and Post), and multiple instances of the same operation might be called during the statement's lifecycle.</span></span> <span data-ttu-id="5062e-225">Ad esempio, dopo la creazione e il calcolo di un rendiconto, un utente può cancellare il rendiconto e ricalcolarlo.</span><span class="sxs-lookup"><span data-stu-id="5062e-225">For example, after a statement is created and calculated, a user can clear the statement and calculate it again.</span></span> <span data-ttu-id="5062e-226">Il pulsante **Registri eventi** nel gruppo **Dettagli esecuzione** del rendiconto fornisce un audit trail completo delle varie operazioni chiamate su un rendiconto, insieme alle informazioni relative a quando tali operazioni sono state chiamate.</span><span class="sxs-lookup"><span data-stu-id="5062e-226">The **Event logs** button in the **Execution details** group of the statement provides a complete audit trail of the various operations that were called on a statement, together with information about when those operations were called.</span></span>

### <a name="aggregated-transactions"></a><span data-ttu-id="5062e-227">Transazioni aggregate</span><span class="sxs-lookup"><span data-stu-id="5062e-227">Aggregated transactions</span></span>

<span data-ttu-id="5062e-228">Durante il processo di registrazione, le transazioni di vendita vengono aggregate in base alla configurazione.</span><span class="sxs-lookup"><span data-stu-id="5062e-228">During the posting process, the sales transactions are aggregated based on the configuration.</span></span> <span data-ttu-id="5062e-229">Queste transazioni aggregate sono archiviate nel sistema e utilizzate per creare ordini cliente.</span><span class="sxs-lookup"><span data-stu-id="5062e-229">These aggregated transactions are stored in the system and used to create sales orders.</span></span> <span data-ttu-id="5062e-230">Ogni transazione aggregata crea un ordine cliente corrispondente nel sistema.</span><span class="sxs-lookup"><span data-stu-id="5062e-230">Every aggregated transaction creates one corresponding sales order in the system.</span></span> <span data-ttu-id="5062e-231">È possibile visualizzare le transazioni aggregate utilizzando il pulsante **Transazioni aggregate** nel gruppo **Dettagli esecuzione** del rendiconto.</span><span class="sxs-lookup"><span data-stu-id="5062e-231">You can view the aggregated transactions by using the **Aggregated transactions** button in the **Execution details** group of the statement.</span></span>

<span data-ttu-id="5062e-232">La scheda **Dettagli ordine cliente** di una transazione aggregata visualizza le seguenti informazioni:</span><span class="sxs-lookup"><span data-stu-id="5062e-232">The **Sales order detail** tab of an aggregated transaction shows the following information:</span></span>

- <span data-ttu-id="5062e-233">**ID record** – L'ID della transazione aggregata.</span><span class="sxs-lookup"><span data-stu-id="5062e-233">**Record ID** – The ID of the aggregated transaction.</span></span>
- <span data-ttu-id="5062e-234">**Numero rendiconto** – Il rendiconto a cui appartiene la transazione aggregata.</span><span class="sxs-lookup"><span data-stu-id="5062e-234">**Statement number** – The statement that the aggregated transaction belongs to.</span></span>
- <span data-ttu-id="5062e-235">**Data** – La data di creazione della transazione aggregata.</span><span class="sxs-lookup"><span data-stu-id="5062e-235">**Date** – The date when the aggregated transaction was created.</span></span>
- <span data-ttu-id="5062e-236">**ID vendite** – Quando un ordine cliente viene creato a partire dalla transazione aggregata, l'ID dell'ordine cliente.</span><span class="sxs-lookup"><span data-stu-id="5062e-236">**Sales ID** – When a sales order is created from the aggregated transaction, the sales order ID.</span></span> <span data-ttu-id="5062e-237">Se questo campo è vuoto, l'ordine cliente corrispondente non è stato creato.</span><span class="sxs-lookup"><span data-stu-id="5062e-237">If this field is blank, the corresponding sales order hasn't been created.</span></span>
- <span data-ttu-id="5062e-238">**Numero di righe aggregate** – Il numero totale di righe per la transazione aggregata e l'ordine cliente.</span><span class="sxs-lookup"><span data-stu-id="5062e-238">**Number of aggregated lines** – The total number of lines for the aggregated transaction and sales order.</span></span>
- <span data-ttu-id="5062e-239">**Stato** – L'ultimo stato della transazione aggregata.</span><span class="sxs-lookup"><span data-stu-id="5062e-239">**Status** – The last status of the aggregated transaction.</span></span>
- <span data-ttu-id="5062e-240">**ID fattura** – Quando l'ordine cliente per la transazione aggregata viene fatturato, l'ID della fattura di vendita.</span><span class="sxs-lookup"><span data-stu-id="5062e-240">**Invoice ID** – When the sales order for the aggregated transaction is invoiced, the sales invoice ID.</span></span> <span data-ttu-id="5062e-241">Se questo campo è vuoto, la fattura dell'ordine cliente non è stata registrata.</span><span class="sxs-lookup"><span data-stu-id="5062e-241">If this field is blank, the invoice for the sales order hasn't been posted.</span></span>

<span data-ttu-id="5062e-242">Nella scheda **Dettagli transazioni** di una transazione aggregata vengono visualizzate tutte le transazioni inserite nella transazione aggregata.</span><span class="sxs-lookup"><span data-stu-id="5062e-242">The **Transaction details** tab of an aggregated transaction shows all the transactions that have been pulled into the aggregated transaction.</span></span> <span data-ttu-id="5062e-243">Le righe aggregate nella transazione aggregata visualizzano tutti i record aggregati delle transazioni.</span><span class="sxs-lookup"><span data-stu-id="5062e-243">The aggregated lines on the aggregated transaction show all the aggregated records from the transactions.</span></span> <span data-ttu-id="5062e-244">Le righe aggregate visualizzano anche dettagli quali articolo, variante, quantità, prezzo, importo netto, unità e magazzino.</span><span class="sxs-lookup"><span data-stu-id="5062e-244">The aggregated lines also show details such as the item, variant, quantity, price, net amount, unit, and warehouse.</span></span> <span data-ttu-id="5062e-245">In pratica, ogni riga aggregata corrisponde a una riga di ordine cliente.</span><span class="sxs-lookup"><span data-stu-id="5062e-245">Basically, each aggregated line corresponds to one sales order line.</span></span>

<span data-ttu-id="5062e-246">Dalla pagina **Transazioni aggregate**, è possibile scaricare l'XML per una specifica transazione aggregata utilizzando il pulsante **Esporta ordine cliente XML**.</span><span class="sxs-lookup"><span data-stu-id="5062e-246">From the **Aggregated transactions** page, you can download the XML for a specific aggregated transaction by using the **Export sales order XML** button.</span></span> <span data-ttu-id="5062e-247">È possibile utilizzare l'XML per il debug dei problemi relativi alla creazione e alla registrazione degli ordini cliente.</span><span class="sxs-lookup"><span data-stu-id="5062e-247">You can use the XML to debug issues that involve sales order creation and posting.</span></span> <span data-ttu-id="5062e-248">Scaricare l'XML, caricarlo in un ambiente di test ed eseguire il debug del problema nell'ambiente di test.</span><span class="sxs-lookup"><span data-stu-id="5062e-248">Just download the XML, upload it to a test environment, and debug the issue in the test environment.</span></span> <span data-ttu-id="5062e-249">La funzionalità per il download dell'XML per le transazioni aggregate non è disponibile per i rendiconti registrati.</span><span class="sxs-lookup"><span data-stu-id="5062e-249">The functionality for downloading the XML for aggregated transactions isn't available for statements that have been posted.</span></span>

<span data-ttu-id="5062e-250">La visualizzazione della transazione aggregata fornisce i seguenti vantaggi:</span><span class="sxs-lookup"><span data-stu-id="5062e-250">The aggregated transaction view provides the following benefits:</span></span>

- <span data-ttu-id="5062e-251">L'utente ha visibilità sulle transazioni aggregate non riuscite durante la creazione degli ordini cliente e sugli ordini cliente non riusciti durante la fatturazione.</span><span class="sxs-lookup"><span data-stu-id="5062e-251">The user has visibility into the aggregated transactions that failed during sales order creation and the sales orders that failed during invoicing.</span></span>
- <span data-ttu-id="5062e-252">L'utente ha visibilità sul modo in cui le transazioni vengono aggregate.</span><span class="sxs-lookup"><span data-stu-id="5062e-252">The user has visibility into how transactions are aggregated.</span></span>
- <span data-ttu-id="5062e-253">L'utente dispone di un audit trail completo, dalle transazioni agli ordini cliente e alle fatture di vendita.</span><span class="sxs-lookup"><span data-stu-id="5062e-253">The user has a complete audit trail, from transactions, to sales orders, to sales invoices.</span></span> <span data-ttu-id="5062e-254">Questo audit trail non era disponibile nella funzionalità di registrazione dei rendiconti legacy.</span><span class="sxs-lookup"><span data-stu-id="5062e-254">This audit trail wasn't available in the legacy statement posting feature.</span></span>
- <span data-ttu-id="5062e-255">Il file XML aggregato rende più semplice l'identificazione di eventuali problemi durante la creazione e la fatturazione di ordini cliente.</span><span class="sxs-lookup"><span data-stu-id="5062e-255">Aggregated XML file make it easier to identify issues during sales order creation and invoicing.</span></span>

### <a name="journal-vouchers"></a><span data-ttu-id="5062e-256">Giustificativi giornale di registrazione</span><span class="sxs-lookup"><span data-stu-id="5062e-256">Journal vouchers</span></span>

<span data-ttu-id="5062e-257">Il pulsante **Giustificativi giornale di registrazione** nel gruppo **Dettagli esecuzione** del rendiconto mostra tutte le varie transazioni giustificativo create per un rendiconto e correlate a sconti, conti ricavi/spese, gift card e così via.</span><span class="sxs-lookup"><span data-stu-id="5062e-257">The **Journal vouchers** button in the **Execution details** group of the statement shows all the various voucher transactions that are created for a statement, and that are related to discounts, income/expense accounts, gift cards, and so on.</span></span>

<span data-ttu-id="5062e-258">Attualmente, il programma visualizza questi dati solo per rendiconti registrati.</span><span class="sxs-lookup"><span data-stu-id="5062e-258">Currently, the program shows this data only for posted statements.</span></span>

### <a name="payment-journals"></a><span data-ttu-id="5062e-259">Giornali di registrazione pagamenti</span><span class="sxs-lookup"><span data-stu-id="5062e-259">Payment journals</span></span>

<span data-ttu-id="5062e-260">Il pulsante **Giornali di registrazione pagamenti** nel gruppo **Dettagli di esecuzione** del rendiconto mostra tutti i vari giornali di registrazione pagamenti creati per un rendiconto.</span><span class="sxs-lookup"><span data-stu-id="5062e-260">The **Payment journals** button in the **Execution details** group of the statement shows all the various payment journals that are created for a statement.</span></span>

<span data-ttu-id="5062e-261">Attualmente, il programma visualizza questi dati solo per rendiconti registrati.</span><span class="sxs-lookup"><span data-stu-id="5062e-261">Currently, the program shows this data only for posted statements.</span></span>

## <a name="other-improvements"></a><span data-ttu-id="5062e-262">Altri miglioramenti</span><span class="sxs-lookup"><span data-stu-id="5062e-262">Other improvements</span></span>

<span data-ttu-id="5062e-263">Altri miglioramenti back-end visibili agli utenti sono stati apportati alla funzionalità di registrazione dei rendiconti.</span><span class="sxs-lookup"><span data-stu-id="5062e-263">Other, back-end improvements that users can see have been made to the statement posting feature.</span></span> <span data-ttu-id="5062e-264">Di seguito sono riportati alcuni esempi.</span><span class="sxs-lookup"><span data-stu-id="5062e-264">Here are some examples:</span></span>

- <span data-ttu-id="5062e-265">L'aggregazione non prende in considerazione le entità personale, terminale e turno.</span><span class="sxs-lookup"><span data-stu-id="5062e-265">The aggregation doesn't consider the staff, terminal, and shift entities.</span></span> <span data-ttu-id="5062e-266">Poiché sono disponibili meno parametri di aggregazione, è necessario elaborare meno righe di ordine cliente.</span><span class="sxs-lookup"><span data-stu-id="5062e-266">Because there are fewer aggregation parameters, fewer sales order lines must be processed.</span></span>
- <span data-ttu-id="5062e-267">La possibilità di un blocco critico sulle tabelle di transazioni risulta ridotta grazie all'introduzione di ulteriori tabelle di estensione e all'esecuzione di operazioni di inserimento anziché operazioni di aggiornamento sulle tabelle di transazioni.</span><span class="sxs-lookup"><span data-stu-id="5062e-267">The occurrence of deadlock on transaction tables is reduced by introducing additional extension tables and by doing insert operations instead of update operations on the transaction tables.</span></span>
- <span data-ttu-id="5062e-268">Sono stati introdotti parametri e limiti per il numero di attività batch in esecuzione.</span><span class="sxs-lookup"><span data-stu-id="5062e-268">The number of running batch tasks has been parameterized and limited.</span></span> <span data-ttu-id="5062e-269">Di conseguenza, questo numero può essere ottimizzato per l'ambiente di un cliente.</span><span class="sxs-lookup"><span data-stu-id="5062e-269">Therefore, this number can be fine-tuned specifically to a customer's environment.</span></span> <span data-ttu-id="5062e-270">Nella funzionalità di registrazione dei rendiconti legacy, veniva creato un numero illimitato di attività batch simultanee.</span><span class="sxs-lookup"><span data-stu-id="5062e-270">In the legacy statement posting feature, an unlimited number of batch tasks was created at the same time.</span></span> <span data-ttu-id="5062e-271">Ciò comportava carichi non gestibili, overhead e colli di bottiglia nel server batch.</span><span class="sxs-lookup"><span data-stu-id="5062e-271">The results were unmanageable loads, overhead, and bottlenecks on the batch server.</span></span>
- <span data-ttu-id="5062e-272">I rendiconti vengono inseriti in una coda in modo efficiente in quanto viene data la priorità ai rendiconti con il numero massimo di transazioni.</span><span class="sxs-lookup"><span data-stu-id="5062e-272">Statements are efficiently queued for processing by prioritizing the statements that have the maximum number of transactions.</span></span>
- <span data-ttu-id="5062e-273">I processi batch quali **Calcolare rendiconti in batch** e **Registra rendiconti in batch** vengono eseguiti solo in modalità batch.</span><span class="sxs-lookup"><span data-stu-id="5062e-273">Batch processes such as **Calculate statements in batch** and **Post statements in batch** are run only in batch mode.</span></span> <span data-ttu-id="5062e-274">Nella funzionalità di registrazione dei rendiconti legacy, gli utenti potevano scegliere di eseguire questi processi batch in una modalità interattiva, ovvero mediante un'operazione con thread singolo, a differenza dei processi batch che sono a thread multipli.</span><span class="sxs-lookup"><span data-stu-id="5062e-274">In the legacy statement posting feature, users could choose to run these batch processes in an interactive mode which is s single threaded operation unlike batch processes which are multi-threaded.</span></span>
- <span data-ttu-id="5062e-275">Nella funzionalità di registrazione dei rendiconti legacy, un qualsiasi errore di un'attività batch comportava lo stato di errore per l'intero processo batch.</span><span class="sxs-lookup"><span data-stu-id="5062e-275">In the legacy statement posting feature, any failure of a batch task put the whole batch job in an error state.</span></span> <span data-ttu-id="5062e-276">Nella funzionalità migliorata, ciò non avviene se altre attività batch vengono completate senza errori.</span><span class="sxs-lookup"><span data-stu-id="5062e-276">In the improved feature, batch task failures don't put the batch job in an error state if other batch tasks are successfully completed.</span></span> <span data-ttu-id="5062e-277">Si consiglia di determinare lo stato di registrazione di un'esecuzione batch tramite la pagina **Rendiconti**, in cui è possibile visualizzare tutti i rendiconti non registrati a causa di errori.</span><span class="sxs-lookup"><span data-stu-id="5062e-277">You should assess the posting status for a batch execution run by using the **Statements** page, where you can see any statements that weren't posted because of errors.</span></span>
- <span data-ttu-id="5062e-278">Nella funzionalità di registrazione dei rendiconti legacy, la prima occorrenza di un errore di rendiconto comporta l'errore dell'intero batch</span><span class="sxs-lookup"><span data-stu-id="5062e-278">In the legacy statement posting feature, the first occurrence of a statement failure causes the whole batch to fail.</span></span> <span data-ttu-id="5062e-279">e i rendiconti rimanenti non vengono elaborati.</span><span class="sxs-lookup"><span data-stu-id="5062e-279">The remaining statements aren't processed.</span></span> <span data-ttu-id="5062e-280">Nella funzionalità migliorata, il processo batch continua a elaborare tutti i rendiconti, anche se alcuni presentano degli errori.</span><span class="sxs-lookup"><span data-stu-id="5062e-280">In the improved feature, the batch process continues to process all statements, even if some of the statements fail.</span></span> <span data-ttu-id="5062e-281">Un vantaggio è che gli utenti acquisiscono maggiore visibilità sul numero esatto di rendiconti con errori.</span><span class="sxs-lookup"><span data-stu-id="5062e-281">One benefit is that users gain visibility into the exact number of statements that have errors.</span></span> <span data-ttu-id="5062e-282">Di conseguenza, gli utenti non sono obbligati a correggere gli errori e a eseguire il processo di registrazione dei rendiconti fino a che tutti i rendiconti sono registrati.</span><span class="sxs-lookup"><span data-stu-id="5062e-282">Therefore, users don't have to be stuck in a continuous loop of fixing the errors and running the post statement process till all statements are posted.</span></span>

## <a name="general-guidance-about-the-statement-posting-process"></a><span data-ttu-id="5062e-283">Indicazioni generali sul processo di registrazione dei rendiconti</span><span class="sxs-lookup"><span data-stu-id="5062e-283">General guidance about the statement posting process</span></span>

- <span data-ttu-id="5062e-284">Si consiglia di eseguire il processo di registrazione dei rendiconti in un batch, poiché le esecuzioni batch sfruttano l'efficacia del framework batch in termini di multithreading.</span><span class="sxs-lookup"><span data-stu-id="5062e-284">We recommend that you run the statement posting process in a batch, because batch runs take advantage of the power of the batch framework in terms of multithreading.</span></span> <span data-ttu-id="5062e-285">Il multithreading è necessario per gestire grandi volumi di transazioni, tipici delle registrazioni di rendiconti.</span><span class="sxs-lookup"><span data-stu-id="5062e-285">Multithreading is required in order to handle the huge volumes of transactions that are normally seen in statement postings.</span></span>
- <span data-ttu-id="5062e-286">Si consiglia di abilitare l'inventario fisico negativo per il gruppo di modelli di articoli, in modo da ottenere un'esperienza di registrazione senza problemi.</span><span class="sxs-lookup"><span data-stu-id="5062e-286">We recommend that you turn on negative physical inventory on the item model group, so that you have a seamless posting experience.</span></span> <span data-ttu-id="5062e-287">In alcuni scenari, i rendiconti negativi potrebbero non essere registrati a meno che non sia presente un inventario fisico negativo.</span><span class="sxs-lookup"><span data-stu-id="5062e-287">In some scenarios, negative statements might not be able to be posted unless there is negative physical inventory.</span></span> <span data-ttu-id="5062e-288">Ad esempio, in teoria, se è presente una sola unità di un articolo in magazzino ed è stato eseguita una transazione di vendita e una transazione di reso per l'articolo, la registrazione della transazione dovrebbe essere possibile anche se l'inventario negativo non è attivato.</span><span class="sxs-lookup"><span data-stu-id="5062e-288">For example, in theory, if there is only one unit of an item in inventory, and there have been a sales transaction and a return transaction for the item, the transaction should be able to be posted even if negative inventory isn't turned on.</span></span> <span data-ttu-id="5062e-289">Tuttavia, poiché il processo di registrazione dei rendiconti integra la transazione di vendita e quella di reso in un singolo ordine cliente, non c'è alcuna garanzia che la riga di vendita venga registrata per prima, seguita dalla riga di reso.</span><span class="sxs-lookup"><span data-stu-id="5062e-289">However, because the statement posting process pulls both the sales transaction and the return transaction in a single customer order, there is no guarantee that the sales line will be posted first, followed by the return line.</span></span> <span data-ttu-id="5062e-290">Di conseguenza, è possibile che si abbiano degli errori.</span><span class="sxs-lookup"><span data-stu-id="5062e-290">Therefore, errors can occur.</span></span> <span data-ttu-id="5062e-291">Se l'inventario negativo è attivato in questo scenario, la registrazione della transazione non viene alterata negativamente e il sistema rifletterà correttamente l'inventario.</span><span class="sxs-lookup"><span data-stu-id="5062e-291">If negative inventory is turned on in this scenario, the transaction posting isn't negatively affected, and the system will correctly reflect the inventory.</span></span>
- <span data-ttu-id="5062e-292">Si consiglia di utilizzare l'aggregazione durante il calcolo e la registrazione dei rendiconti.</span><span class="sxs-lookup"><span data-stu-id="5062e-292">We recommend that you use aggregation while you calculate and post statements.</span></span> <span data-ttu-id="5062e-293">Di conseguenza, le seguenti impostazioni sono consigliate per alcuni dei parametri di aggregazione:</span><span class="sxs-lookup"><span data-stu-id="5062e-293">Therefore, the following settings are recommended for some of the aggregation parameters:</span></span>

    - <span data-ttu-id="5062e-294">Accedere a **Retail e Commerce** \> **Impostazione sedi centrali** \> **Parametri** \> **Parametri di commercio**.</span><span class="sxs-lookup"><span data-stu-id="5062e-294">Go to **Retail and Commerce** \> **Headquarters setup** \> **Parameters** \> **Commerce parameters**.</span></span> <span data-ttu-id="5062e-295">Quindi, ,nella scheda **Registrazione**, nella Scheda dettaglio **Aggiornamento dell'inventario**, nel campo **Livello dettagli** selezionare **Riepilogo**.</span><span class="sxs-lookup"><span data-stu-id="5062e-295">Then, on the **Posting** tab, on the **Inventory update** FastTab, in the **Detail level** field, select **Summary**.</span></span>
    - <span data-ttu-id="5062e-296">Accedere a **Retail e Commerce** \> **Impostazione sedi centrali** \> **Parametri** \> **Parametri di commercio**.</span><span class="sxs-lookup"><span data-stu-id="5062e-296">Go to **Retail and Commerce** \> **Headquarters setup** \> **Parameters** \> **Commerce parameters**.</span></span> <span data-ttu-id="5062e-297">Quindi, nella scheda **Registrazione**, nella Scheda dettaglio **Aggregazione**, impostare l'opzione **Transazioni giustificativo** su **Sì**.</span><span class="sxs-lookup"><span data-stu-id="5062e-297">Then, on the **Posting** tab, on the **Aggregation** FastTab, set the **Voucher transactions** option to **Yes**.</span></span>
