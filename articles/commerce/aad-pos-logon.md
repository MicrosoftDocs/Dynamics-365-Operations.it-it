---
title: Configurare l'autenticazione Azure Active Directory per l'accesso al POS
description: Questo argomento spiega come configurare Azure Active Directory come metodo di autenticazione nel POS di Microsoft Dynamics 365 Commerce.
author: boycezhu
ms.date: 04/23/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application User
ms.reviewer: v-chgri
ms.search.scope: Core, Operations, Retail
ms.search.region: global
ms.author: boycez
ms.search.validFrom: ''
ms.dyn365.ops.version: 10.0.11
ms.openlocfilehash: e271bbae84605b4adace1809b53b7cbdb6932da0
ms.sourcegitcommit: 08ce2a9ca1f02064beabfb9b228717d39882164b
ms.translationtype: HT
ms.contentlocale: it-IT
ms.lasthandoff: 05/11/2021
ms.locfileid: "6020013"
---
# <a name="configure-azure-active-directory-authentication-for-pos-sign-in"></a><span data-ttu-id="ca481-103">Configurare l'autenticazione Azure Active Directory per l'accesso al POS</span><span class="sxs-lookup"><span data-stu-id="ca481-103">Configure Azure Active Directory authentication for POS sign-in</span></span>

[!include [banner](includes/banner.md)]
[!include [banner](includes/preview-banner.md)]

<span data-ttu-id="ca481-104">Questo argomento spiega come configurare Azure Active Directory (Azure AD)come metodo di autenticazione nel POS di Microsoft Dynamics 365 Commerce.</span><span class="sxs-lookup"><span data-stu-id="ca481-104">This topic explains how to configure Azure Active Directory (Azure AD) as the authentication method in Microsoft Dynamics 365 Commerce point of sale (POS).</span></span>

<span data-ttu-id="ca481-105">Rivenditori che utilizzano Dynamics 365 Commerce insieme ad altri servizi cloud Microsoft come Microsoft Azure, Microsoft 365 e Microsoft Teams in genere desiderano utilizzare Azure AD per la gestione centralizzata delle credenziali utente per un'esperienza di accesso sicura e senza problemi per tutte le applicazioni.</span><span class="sxs-lookup"><span data-stu-id="ca481-105">Retailers who use Dynamics 365 Commerce along with other Microsoft cloud services such as Microsoft Azure, Microsoft 365, and Microsoft Teams typically want to use Azure AD for centralized management of user credentials for a secure and seamless sign-in experience across applications.</span></span> <span data-ttu-id="ca481-106">Per usare l'autenticazione Azure AD per il POS di Commerce, è necessario prima configurare Azure AD come metodo di autenticazione in Commerce Headquarters.</span><span class="sxs-lookup"><span data-stu-id="ca481-106">To use Azure AD authentication for Commerce POS, you must first configure Azure AD as the authentication method in Commerce headquarters.</span></span>

## <a name="configure-pos-authentication-method"></a><span data-ttu-id="ca481-107">Configurare il metodo di autenticazione POS</span><span class="sxs-lookup"><span data-stu-id="ca481-107">Configure POS authentication method</span></span>

<span data-ttu-id="ca481-108">Per configurare il metodo di autenticazione POS in Commerce Headquarters, seguire questi passaggi.</span><span class="sxs-lookup"><span data-stu-id="ca481-108">To configure the POS authentication method in Commerce headquarters, follow these steps.</span></span>
    
1. <span data-ttu-id="ca481-109">Accedere a **Retail e Commerce \> Impostazione canale \> Impostazioni POS \> Profili POS \> Profili funzionalità** e selezionare un profilo funzionalità che si desidera modificare.</span><span class="sxs-lookup"><span data-stu-id="ca481-109">Go to **Retail and Commerce \> Channel setup \> POS setup \> POS profiles \> Functionality profiles**, and select a functionality profile to change.</span></span>
1. <span data-ttu-id="ca481-110">Nella sezione **Accesso personale POS** della Scheda dettaglio **Funzioni**, selezionare un'opzione del metodo di autenticazione desiderata dall'elenco a discesa **Metodo di autenticazione di accesso**.</span><span class="sxs-lookup"><span data-stu-id="ca481-110">In the **POS staff logon** section of the **Functions** FastTab, select a desired authentication method option from the **Logon authentication method** drop-down list.</span></span>

    <span data-ttu-id="ca481-111">Il **Metodo di autenticazione di accesso** ha tre opzioni:</span><span class="sxs-lookup"><span data-stu-id="ca481-111">The **Logon authentication method** has three options:</span></span>
    
    - <span data-ttu-id="ca481-112">**ID personale e password** - Questa opzione predefinita richiede agli utenti POS di inserire un ID personale e una password per accedere al POS e per accedere alla funzionalità di sostituzione del responsabile.</span><span class="sxs-lookup"><span data-stu-id="ca481-112">**Personnel ID and Password** - This default option requires POS users to enter a personnel ID and password to sign in to the POS and to access manager override functionality.</span></span>
    - <span data-ttu-id="ca481-113">**Azure AD senza single sign-on** - Questa opzione richiede l'utilizzo da parte degli utenti POS delle credenziali Azure AD per accedere al POS e la funzionalità di sostituzione del responsabile.</span><span class="sxs-lookup"><span data-stu-id="ca481-113">**Azure AD without single sign-on** - This option requires POS users to use Azure AD credentials to sign in to the POS and access manager override functionality.</span></span> <span data-ttu-id="ca481-114">Quando il client POS viene aggiornato o riaperto, l'utente POS deve fornire le credenziali Azure AD per accedere nuovamente.</span><span class="sxs-lookup"><span data-stu-id="ca481-114">When the POS client is refreshed or reopened, the POS user must provide Azure AD credentials to sign in again.</span></span>
    - <span data-ttu-id="ca481-115">**Azure AD con single sign-on** - Quando questa opzione è selezionata, gli utenti POS possono accedere a Cloud POS (CPOS) utilizzando le credenziali Azure AD attive utilizzate da altre applicazioni Web nello stesso Web browser o accedere a Modern POS (MPOS) utilizzando le credenziali Azure AD di accesso a Windows.</span><span class="sxs-lookup"><span data-stu-id="ca481-115">**Azure AD with single sign-on** - When this option is selected, POS users are able to sign in to Cloud POS (CPOS) using active Azure AD credentials that are being used by other web applications in the same web browser, or sign in to Modern POS (MPOS) using Azure AD credentials signed in to Windows.</span></span> <span data-ttu-id="ca481-116">Entrambi i metodi consentono l'accesso senza bisogno di immettere le credenziali Azure AD nella schermata di accesso al POS.</span><span class="sxs-lookup"><span data-stu-id="ca481-116">Both methods allow sign-in without needing to enter Azure AD credentials on the POS sign-in screen.</span></span> <span data-ttu-id="ca481-117">Tuttavia, l'accesso alla funzionalità di sostituzione del responsabile POS richiederà comunque l'accesso tramite credenziali Azure AD.</span><span class="sxs-lookup"><span data-stu-id="ca481-117">However, accessing the POS manager override functionality will still require sign-in using Azure AD credentials.</span></span>

1. <span data-ttu-id="ca481-118">Vai a **Retail e Commerce >  Retail e Commerce IT  > Programmazione della distribuzione** ed esegui il processo **1070 (Configurazione canale)** per sincronizzare le ultime impostazioni del profilo di funzionalità con i client POS.</span><span class="sxs-lookup"><span data-stu-id="ca481-118">Go to **Retail and Commerce > Retail and Commerce IT > Distribution schedule** and run the **1070 (Channel configuration)** job to synchronize the latest functionality profile settings to POS clients.</span></span>

> [!NOTE]
> - <span data-ttu-id="ca481-119">Il metodo di autenticazione **Azure AD senza single sign-on** sostituisce l'opzione **Azure Active Directory** in Commerce versione 10.0.18 e precedenti.</span><span class="sxs-lookup"><span data-stu-id="ca481-119">The **Azure AD without single sign-on** authentication method option replaces the **Azure Active Directory** option in Commerce version 10.0.18 and earlier.</span></span>
> - <span data-ttu-id="ca481-120">L'autenticazione Azure AD richiede una connessione Internet attiva e non funzionerà quando il POS è offline.</span><span class="sxs-lookup"><span data-stu-id="ca481-120">Azure AD authentication requires an active internet connection, and won't function when the POS is offline.</span></span>

## <a name="associate-azure-ad-accounts-with-pos-users"></a><span data-ttu-id="ca481-121">Associare account Azure AD a utenti POS</span><span class="sxs-lookup"><span data-stu-id="ca481-121">Associate Azure AD accounts with POS users</span></span>

<span data-ttu-id="ca481-122">Per Usare Azure AD come metodo di autenticazione POS, è necessario associare gli account Azure AD agli utenti POS in Commerce Headquarters.</span><span class="sxs-lookup"><span data-stu-id="ca481-122">To use Azure AD as the POS authentication method, you must associate Azure AD accounts with POS users in Commerce headquarters.</span></span> 

<span data-ttu-id="ca481-123">Per associare gli account Azure AD con utenti POS in Commerce Headquarters, segui questi passaggi.</span><span class="sxs-lookup"><span data-stu-id="ca481-123">To associate Azure AD accounts with POS users in Commerce headquarters, follow these steps.</span></span>
    
1. <span data-ttu-id="ca481-124">Vai a **Retail e Commerce > Dipendenti > Lavoratori** e apri un record lavoratore.</span><span class="sxs-lookup"><span data-stu-id="ca481-124">Go to **Retail and Commerce > Employees > Workers** and open a worker record.</span></span>
1. <span data-ttu-id="ca481-125">Nel riquadro Azioni, selezionare la scheda **Commerce**, quindi in **Identità esterna**, selezionare **Associa identità esistente**.</span><span class="sxs-lookup"><span data-stu-id="ca481-125">On the Action Pane, select the **Commerce** tab, then under **External identity** select **Associate existing identity**.</span></span> 
1. <span data-ttu-id="ca481-126">Nella finestra di dialogo **Usa identità esterna esistente**, selezionare **Cerca tramite e-mail**, inserire un indirizzo e-mail Azure AD, quindi selezionare **Cerca**.</span><span class="sxs-lookup"><span data-stu-id="ca481-126">In the **Use existing external identity** dialog box, select **Search using email**, enter an Azure AD email address, and then select **Search**.</span></span>
1. <span data-ttu-id="ca481-127">Selezionare l'account Azure AD che viene restituito, quindi selezionare **OK**.</span><span class="sxs-lookup"><span data-stu-id="ca481-127">Select the Azure AD account that is returned, then select **OK**.</span></span>

<span data-ttu-id="ca481-128">Dopo i precedenti passaggi di configurazione, I campi **Alias**, **UPN** e **Identificatore secondario esterno** nella scheda **Commerce** della pagina dei dettagli del lavoratore verranno compilati.</span><span class="sxs-lookup"><span data-stu-id="ca481-128">After the configuration steps above, the **Alias**, **UPN**, and **External sub identifier** fields on the **Commerce** tab of the worker's details page will be filled in.</span></span>

<span data-ttu-id="ca481-129">Devi eseguire il processo **1060 (Personale)** in **Retail e Commerce > Retail e Commerce IT > Programmazione della distribuzione** per sincronizzare l'ultimo utente POS e i dati dell'account Azure AD con il canale.</span><span class="sxs-lookup"><span data-stu-id="ca481-129">You must run the **1060 (Staff)** job in **Retail and Commerce > Retail and Commerce IT > Distribution schedule** to synchronize the latest POS user and Azure AD account data to the channel.</span></span>

> [!NOTE]
> <span data-ttu-id="ca481-130">Come procedura consigliata, dopo che le informazioni del lavoratore come password, autorizzazione POS, account Azure AD associato o la rubrica dei dipendenti vengono aggiornata in Commerce Headquarters, si consiglia vivamente di eseguire il processo **1060 (Personale)** per sincronizzare le ultime informazioni del lavoratore con il canale.</span><span class="sxs-lookup"><span data-stu-id="ca481-130">As a best practice, after worker information such as password, POS permission, associated Azure AD account, or employee address book is updated in Commerce headquarters, it is highly recommended to run the **1060 (Staff)** job to synchronize the latest worker information to the channel.</span></span> <span data-ttu-id="ca481-131">Il client POS può quindi recuperare i dati corretti per l'autenticazione dell'utente e i controlli delle autorizzazioni.</span><span class="sxs-lookup"><span data-stu-id="ca481-131">The POS client can then fetch the correct data for user authentication and authorization checks.</span></span>

## <a name="pos-lock-register-and-sign-out-with-azure-ad-authentication"></a><span data-ttu-id="ca481-132">Bloccare il registratore di cassa POS e disconnettersi con autenticazione Azure AD</span><span class="sxs-lookup"><span data-stu-id="ca481-132">POS lock register and sign-out with Azure AD authentication</span></span>

<span data-ttu-id="ca481-133">Quanto segue si verifica quando POS è configurato per utilizzare il  Metodo di autenticazione Azure AD:</span><span class="sxs-lookup"><span data-stu-id="ca481-133">The following occurs when POS is configured to use the Azure AD authentication method:</span></span>

- <span data-ttu-id="ca481-134">La funzione **Blocca registratore di casse** non sarà disponibile nell'applicazione POS.</span><span class="sxs-lookup"><span data-stu-id="ca481-134">The **Lock register** function will not be available in the POS application.</span></span> 
- <span data-ttu-id="ca481-135">La funzione **Blocco automatico** si comporterà come la funzione **Disconnessione automatica**.</span><span class="sxs-lookup"><span data-stu-id="ca481-135">The **Automatically lock** function will behave the same as the **Automatically logoff** function.</span></span>
- <span data-ttu-id="ca481-136">Se l'utente POS seleziona **Disconnetti**, all'utente verrà chiesto di accedere con le credenziali Azure AD al successivo avvio del POS, indipendentemente dal fatto che l'accesso Single Sign-on sia abilitato.</span><span class="sxs-lookup"><span data-stu-id="ca481-136">If the POS user selects **Log off**, the user will be asked to sign in with Azure AD credentials the next time the POS launches, regardless of whether single sign-in is enabled.</span></span>

## <a name="manager-override-functionality-with-azure-ad-authentication"></a><span data-ttu-id="ca481-137">Funzionalità di sostituzione del responsabile con le credenziali Azure AD</span><span class="sxs-lookup"><span data-stu-id="ca481-137">Manager override functionality with Azure AD authentication</span></span>

<span data-ttu-id="ca481-138">Quando il POS è configurato per utilizzare l'autenticazione Azure AD, la funzionalità di sostituzione del responsabile aprirà una finestra di dialogo che richiede le credenziali Azure AD dell'utente responsabile.</span><span class="sxs-lookup"><span data-stu-id="ca481-138">When the POS is configured to use Azure AD authentication, the manager override functionality will open a dialog box that prompts for the manager user's Azure AD credentials.</span></span> <span data-ttu-id="ca481-139">Dopo che l'accesso del responsabile è stato approvato,  le credenziali Azure AD verranno eliminate e le credenziali Azure AD dell'utente precedente verranno utilizzate per le successive operazioni POS.</span><span class="sxs-lookup"><span data-stu-id="ca481-139">After manager sign-in is approved, the manager's Azure AD credentials will be dropped and the previous user's Azure AD credentials will be used for subsequent POS operations.</span></span>

> [!NOTE]
> - <span data-ttu-id="ca481-140">Nelle versioni di Commerce 10.0.18 e precedenti, la funzione di sostituzione del responsabile non supporta Azure AD.</span><span class="sxs-lookup"><span data-stu-id="ca481-140">In Commerce versions 10.0.18 and earlier, the manager override function does not support Azure AD.</span></span> <span data-ttu-id="ca481-141">Sono richiesti un ID personale e una password anche se il POS  è configurato per usare il metodo di autenticazione Azure AD.</span><span class="sxs-lookup"><span data-stu-id="ca481-141">A personnel ID and password are required even if the POS is configured to use the Azure AD authentication method.</span></span>
> - <span data-ttu-id="ca481-142">Quando si utilizza CPOS con il browser web Safari su un dispositivo Apple iOS, è necessario prima disattivare **Blocca popup** nelle impostazioni di Safari perché la funzionalità di sostituzione del responsabile funzioni con l'autenticazione Azure AD.</span><span class="sxs-lookup"><span data-stu-id="ca481-142">When using CPOS with the Safari web browser on an Apple iOS device, you must first turn off **Block Pop-ups** in Safari settings for the manager override functionality to work with Azure AD authentication.</span></span> 

## <a name="security-best-practices-for-azure-ad-based-pos-authentication-on-shared-devices"></a><span data-ttu-id="ca481-143">Procedure consigliate di sicurezza per l'autenticazione POS basata su Azure AD su dispositivi condivisi</span><span class="sxs-lookup"><span data-stu-id="ca481-143">Security best practices for Azure AD-based POS authentication on shared devices</span></span>

<span data-ttu-id="ca481-144">Molti rivenditori configurano il proprio ambiente di punto vendita al dettaglio in modo che più utenti debbano accedere all'applicazione POS da un dispositivo fisico condiviso.</span><span class="sxs-lookup"><span data-stu-id="ca481-144">Many retailers set up their retail store environment in a way that multiple users need to access the POS application from a shared physical device.</span></span> <span data-ttu-id="ca481-145">In tale contesto, mentre il Single Sign-on fornisce un'esperienza di autenticazione comoda e integrata, può anche creare una falla nella sicurezza in cui l'utente POS corrente potrebbe non rendersi conto che le credenziali di un altro utente vengono utilizzate per eseguire transazioni o operazioni nel POS.</span><span class="sxs-lookup"><span data-stu-id="ca481-145">In that context, while single sign-in provides a convenient and seamless authentication experience, it may also create a security loophole where the current POS user may not realize that another user's credentials are being used to perform transactions or operations in the POS.</span></span> <span data-ttu-id="ca481-146">Prima di configurare il POS per utilizzare il  metodo di autenticazione Azure AD, si consiglia vivamente di rivedere i criteri di sicurezza e le impostazioni di accesso del dispositivo condiviso per decidere quale opzione è la migliore.</span><span class="sxs-lookup"><span data-stu-id="ca481-146">Before you configure the POS to use the Azure AD authentication method, it is highly recommended to review your security policy and the shared device's sign-in settings to decide which option is the best fit.</span></span>

- <span data-ttu-id="ca481-147">Se il tuo ambiente di vendita al dettaglio utilizza un account condiviso (ad esempio, un account locale) per l'accesso al dispositivo fisico, si consiglia di utilizzare l'opzione **Azure AD senza single sign-on**.</span><span class="sxs-lookup"><span data-stu-id="ca481-147">If your retail environment uses a shared account (for example, a local account) for physical device sign-in, it's recommended to use the **Azure AD without single sign-on** option.</span></span> <span data-ttu-id="ca481-148">Ciò garantisce che ogni utente POS fornisca esplicitamente credenziali Azure AD per accedere al POS.</span><span class="sxs-lookup"><span data-stu-id="ca481-148">This ensures that each POS user explicitly provides Azure AD credentials to sign in to the POS.</span></span>
- <span data-ttu-id="ca481-149">Se il tuo ambiente di vendita al dettaglio richiede ai dipendenti di utilizzare i propri account Azure ADper accedere al POS e al dispositivo fisico che lo ospita, si consiglia di utilizzare l'opzione **Azure AD con single sign-on**.</span><span class="sxs-lookup"><span data-stu-id="ca481-149">If your retail environment requires employees to use their own Azure AD accounts to sign in to the POS and its hosting physical device, it's recommended to use the **Azure AD with single sign-on** option.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="ca481-150">Risorse aggiuntive</span><span class="sxs-lookup"><span data-stu-id="ca481-150">Additional resources</span></span>

[<span data-ttu-id="ca481-151">Configurare un lavoratore</span><span class="sxs-lookup"><span data-stu-id="ca481-151">Configure a worker</span></span>](tasks/worker.md)

[<span data-ttu-id="ca481-152">Creare un profilo funzionalità di vendita al dettaglio</span><span class="sxs-lookup"><span data-stu-id="ca481-152">Create a retail functionality profile</span></span>](retail-functionality-profile.md)


[<span data-ttu-id="ca481-153">Impostare la funzionalità di accesso esteso per MPOS e Cloud POS</span><span class="sxs-lookup"><span data-stu-id="ca481-153">Set up extended logon functionality for MPOS and Cloud POS</span></span>](extended-logon.md)

[<span data-ttu-id="ca481-154">Procedure consigliate di sicurezza per Cloud POS in ambienti condivisi</span><span class="sxs-lookup"><span data-stu-id="ca481-154">Security best practices for Cloud POS in shared environments</span></span>](dev-itpro/secure-retail-cloud-pos.md)



[!INCLUDE[footer-include](../includes/footer-banner.md)]
