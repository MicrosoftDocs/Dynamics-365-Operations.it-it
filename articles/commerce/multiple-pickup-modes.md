---
title: Abilitare più modalità di consegna ritiro per gli ordini cliente
description: Questo argomento spiega la funzionalità in Microsoft Dynamics 365 Commerce che consente di creare ordini cliente per il ritiro in un negozio.
author: hhainesms
manager: annbe
ms.date: 11/17/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-365-commerce
ms.technology: ''
audience: Application User
ms.reviewer: josaw
ms.search.scope: Core, Operations, Retail
ms.search.region: global
ms.author: hhaines
ms.search.validFrom: ''
ms.dyn365.ops.version: 10.0.16
ms.openlocfilehash: 768b20ecc8d15353258c9b3af69b897957d3de60
ms.sourcegitcommit: 597476103bb695e3cbe6d9ffcd7a466400346636
ms.translationtype: HT
ms.contentlocale: it-IT
ms.lasthandoff: 11/20/2020
ms.locfileid: "4594974"
---
# <a name="enable-multiple-pickup-delivery-modes-for-customer-orders"></a><span data-ttu-id="9772c-103">Abilitare più modalità di consegna ritiro per gli ordini cliente</span><span class="sxs-lookup"><span data-stu-id="9772c-103">Enable multiple pickup delivery modes for customer orders</span></span>

[!include [banner](includes/banner.md)]
[!include [banner](includes/preview-banner.md)]

<span data-ttu-id="9772c-104">In Microsoft Dynamics 365 Commerce versione 10.0.16 e successive, le organizzazioni possono definire più modalità di consegna tra le quali gli acquirenti o gli addetti alle vendite possono scegliere quando creano un ordine che verrà ritirato in un negozio.</span><span class="sxs-lookup"><span data-stu-id="9772c-104">In Microsoft Dynamics 365 Commerce version 10.0.16 and later, organizations can define multiple modes of delivery that shoppers or sales associates can choose among when they create an order that will be picked up at a store.</span></span> <span data-ttu-id="9772c-105">In questo modo, le organizzazioni possono fornire più opzioni di ritiro ai propri acquirenti.</span><span class="sxs-lookup"><span data-stu-id="9772c-105">In this way, organizations can provide multiple pickup options to their shoppers.</span></span> <span data-ttu-id="9772c-106">Ad esempio, molti rivenditori ora offrono agli acquirenti la possibilità di scegliere tra il ritiro in negozio o il ritiro al piano strada per i loro ordini.</span><span class="sxs-lookup"><span data-stu-id="9772c-106">For example, many retailers now offer shoppers the choice of in-store pickup or curbside pickup for their orders.</span></span> <span data-ttu-id="9772c-107">Commerce supporta la configurazione di queste diverse modalità di consegna ritiro.</span><span class="sxs-lookup"><span data-stu-id="9772c-107">Commerce supports the configuration of these different pickup delivery modes.</span></span> <span data-ttu-id="9772c-108">Gli utenti possono quindi trarne vantaggio quando creano ordini cliente in qualsiasi canale di Commerce supportato (e-commerce, call center o negozio).</span><span class="sxs-lookup"><span data-stu-id="9772c-108">Users can then take advantage of them when they create customer orders in any supported Commerce channel (e-commerce, call center, or store).</span></span>

## <a name="enable-and-configure-pickup-delivery-modes"></a><span data-ttu-id="9772c-109">Abilitare e configurare le modalità di consegna ritiro</span><span class="sxs-lookup"><span data-stu-id="9772c-109">Enable and configure pickup delivery modes</span></span>

<span data-ttu-id="9772c-110">Per utilizzare questa funzionalità, attivare la funzionalità **Supporto per più modalità di consegna ritiro** nell'area di lavoro **Gestione funzionalità** in Commerce headquarters.</span><span class="sxs-lookup"><span data-stu-id="9772c-110">To use this functionality, turn on the **Support for multiple pickup delivery modes** feature in the **Feature management** workspace in Commerce headquarters.</span></span> <span data-ttu-id="9772c-111">Dopo aver attivato la funzionalità, è necessaria una configurazione aggiuntiva.</span><span class="sxs-lookup"><span data-stu-id="9772c-111">After you turn on the feature, additional configuration is required.</span></span>

<span data-ttu-id="9772c-112">In Commerce versione 10.0.15 e precedenti, le organizzazioni possono definire solo una modalità di consegna come modalità di consegna ritiro designata.</span><span class="sxs-lookup"><span data-stu-id="9772c-112">In Commerce version 10.0.15 and earlier, organizations can define only one mode of delivery as the designated pickup delivery mode.</span></span> <span data-ttu-id="9772c-113">Questa definizione viene eseguita nella pagina **Parametri di commercio**.</span><span class="sxs-lookup"><span data-stu-id="9772c-113">This definition is done on the **Commerce parameters** page.</span></span> <span data-ttu-id="9772c-114">Nella versione 10.0.16 e successive, quando si attiva la funzionalità **Supporto per più modalità di consegna ritiro**, la modalità di consegna precedentemente definita come modalità di consegna ritiro nella pagina **Parametri di commercio** viene automaticamente copiata nella nuova configurazione per le modalità di consegna ritiro.</span><span class="sxs-lookup"><span data-stu-id="9772c-114">In version 10.0.16 and later, when you turn on the **Support for multiple pickup delivery modes** feature, the mode of delivery that was previously defined as the pickup delivery mode on the **Commerce parameters** page is automatically copied into the new configuration for pickup delivery modes.</span></span>

![Modalità di consegna ritiro nella pagina dei parametri di Commerce](media/multiplepickupparameter.png)

<span data-ttu-id="9772c-116">Dopo aver attivato la funzionalità **Supporto per più modalità di consegna ritiro**, è possibile definire più modalità di consegna ritiro nella griglia **Modalità di consegna ritiro** nella scheda dettaglio **Modalità di consegna** della scheda **Ordini cliente** della pagina **Parametri di commercio**.</span><span class="sxs-lookup"><span data-stu-id="9772c-116">After you turn on the **Support for multiple pickup delivery modes** feature, you can define multiple pickup delivery modes in the **Pickup mode of delivery** grid on the **Modes of delivery** FastTab on the **Customer orders** tab of the **Commerce parameters** page.</span></span>

<span data-ttu-id="9772c-117">I campi **Modalità di consegna trasporto** e **Modalità di consegna elettronica** e l'opzione **Mostra solo le opzioni della modalità corriere per gli ordini di spedizione**, sono state riposizionate in questa scheda dettaglio.</span><span class="sxs-lookup"><span data-stu-id="9772c-117">The **Carry Out mode of delivery** and **Electronic mode of delivery** fields, and the **Show only carrier mode options for ship orders** option, have been relocated to this FastTab.</span></span>

<span data-ttu-id="9772c-118">Prima di configurare modalità di consegna ritiro aggiuntive, è necessario definire le modalità di consegna.</span><span class="sxs-lookup"><span data-stu-id="9772c-118">Before you configure additional pickup delivery modes, you must define the modes of delivery.</span></span> <span data-ttu-id="9772c-119">Nella pagina **Modalità di consegna** di Commerce headquarters, aggiungere le modalità di consegna da considerare modalità di consegna ritiro.</span><span class="sxs-lookup"><span data-stu-id="9772c-119">On the **Modes of delivery** page in Commerce headquarters, add the modes of delivery that should be considered pickup delivery modes.</span></span> <span data-ttu-id="9772c-120">Assicurarsi che tutta la configurazione sia stata completata.</span><span class="sxs-lookup"><span data-stu-id="9772c-120">Make sure that all configuration is completed.</span></span> <span data-ttu-id="9772c-121">Ad esempio, assicurarsi che la modalità di consegna sia collegata ai canali e agli articoli appropriati.</span><span class="sxs-lookup"><span data-stu-id="9772c-121">For example, make sure that the mode of delivery is linked to appropriate channels and items.</span></span> <span data-ttu-id="9772c-122">Al termine, eseguire il processo **Esegui modalità di consegna** per creare le relazioni tra la modalità di consegna, i canali e gli articoli.</span><span class="sxs-lookup"><span data-stu-id="9772c-122">When you've finished, run the **Process delivery modes** job to create the relationships among the mode of delivery, channels, and items.</span></span> <span data-ttu-id="9772c-123">Al termine dell'esecuzione del processo, aprire la pagina **Programma di distribuzione** in Commerce headquarters ed eseguire il processo di distribuzione **1120** per garantire che i database dei canali di Commerce pertinenti siano aggiornati con la nuova configurazione della modalità di consegna.</span><span class="sxs-lookup"><span data-stu-id="9772c-123">When the job has finished running, open the **Distribution schedule** page in Commerce headquarters, and run the **1120** distribution job to ensure that the relevant Commerce channel databases are updated with your new delivery mode configuration.</span></span>

![Esempio di configurazione della modalità di consegna per il ritiro al piano strada](media/pickupmodes.png)

<span data-ttu-id="9772c-125">Dopo aver definito le modalità di consegna ritiro aggiuntive, aggiungerle alla griglia **Modalità di consegna ritiro** nella pagina **Parametri di commercio**.</span><span class="sxs-lookup"><span data-stu-id="9772c-125">After you define the additional pickup delivery modes, add them to the **Pickup mode of delivery** grid on the **Commerce parameters** page.</span></span> <span data-ttu-id="9772c-126">Quindi eseguire i processi di distribuzione appropriati per aggiornare i database dei canali di Commerce pertinenti con la modifica della configurazione.</span><span class="sxs-lookup"><span data-stu-id="9772c-126">Then run the appropriate distribution jobs to update the relevant Commerce channel databases with the configuration change.</span></span>

> [!NOTE]
> <span data-ttu-id="9772c-127">A parte la modalità di consegna ritiro esistente che viene copiata nella griglia **Modalità di consegna ritiro** quando si attiva la funzionalità **Supporto per più modalità di consegna ritiro**, per ogni configurazione aggiuntiva della modalità di consegna ritiro che viene creata è necessario configurare nuove modalità di consegna.</span><span class="sxs-lookup"><span data-stu-id="9772c-127">Apart from the existing pickup delivery mode that is copied to the **Pickup mode of delivery** grid when you turn on the **Support for multiple pickup delivery modes** feature, for every additional pickup delivery mode configuration that you create, you should configure new modes of delivery.</span></span> <span data-ttu-id="9772c-128">Quando si aggiungono modalità di consegna alla griglia **Modalità di consegna ritiro**, Commerce convalida se righe di vendita aperte attive già le utilizzano.</span><span class="sxs-lookup"><span data-stu-id="9772c-128">When you add modes of delivery to the **Pickup mode of delivery** grid, Commerce validates whether any active open sales lines already use them.</span></span> <span data-ttu-id="9772c-129">Se vengono trovate righe di vendita aperte, viene visualizzato un messaggio di errore.</span><span class="sxs-lookup"><span data-stu-id="9772c-129">If any open sales lines are found, you receive an error message.</span></span> <span data-ttu-id="9772c-130">Le modalità di consegna non sono considerate modalità di consegna ritiro fino a quando tutte le righe di vendita aperte che le utilizzano non sono state chiuse (fatturate o annullate).</span><span class="sxs-lookup"><span data-stu-id="9772c-130">Modes of delivery aren't considered pickup delivery modes until all open sales lines that use them have been closed (either invoiced or canceled).</span></span>

> [!IMPORTANT]
> <span data-ttu-id="9772c-131">Dopo aver definito più di una modalità di consegna ritiro nella pagina **Parametri di commercio**, la funzionalità **Supporto per più modalità di consegna ritiro** diventa obbligatoria e non può più essere disattivata.</span><span class="sxs-lookup"><span data-stu-id="9772c-131">After you define more than one pickup delivery mode on the **Commerce parameters** page, the **Support for multiple pickup delivery modes** feature becomes mandatory and can no longer be turned off.</span></span> <span data-ttu-id="9772c-132">Se è necessario disattivare la funzione, rimuovere tutte le modalità di consegna ritiro tranne una dalla griglia **Modalità di consegna ritiro**.</span><span class="sxs-lookup"><span data-stu-id="9772c-132">If you must turn off the feature, remove all but one pickup delivery mode from the **Pickup mode of delivery** grid.</span></span> <span data-ttu-id="9772c-133">Quando viene definita una sola modalità di consegna ritiro, la funzione non è più considerata obbligatoria e può essere disattivata.</span><span class="sxs-lookup"><span data-stu-id="9772c-133">When only one pickup delivery mode is defined, the feature is longer considered mandatory and can be turned off.</span></span>

### <a name="e-commerce-site-configurations"></a><span data-ttu-id="9772c-134">Configurazioni del sito di e-commerce</span><span class="sxs-lookup"><span data-stu-id="9772c-134">E-commerce site configurations</span></span>

<span data-ttu-id="9772c-135">Quando la funzionalità **Supporto per più modalità di consegna ritiro** è attivata, i seguenti moduli sulle pagine di e-commerce mostrano le nuove modalità di consegna ritiro come configurate:</span><span class="sxs-lookup"><span data-stu-id="9772c-135">When the **Support for multiple pickup delivery modes** feature is turned on, the following modules on e-commerce pages show the new pickup delivery modes as configured:</span></span>

- <span data-ttu-id="9772c-136">Casella acquisti</span><span class="sxs-lookup"><span data-stu-id="9772c-136">Buy box</span></span>
- <span data-ttu-id="9772c-137">Selettore punto vendita</span><span class="sxs-lookup"><span data-stu-id="9772c-137">Store selector</span></span>
- <span data-ttu-id="9772c-138">Carrello</span><span class="sxs-lookup"><span data-stu-id="9772c-138">Cart</span></span>
- <span data-ttu-id="9772c-139">Informazioni di prelievo</span><span class="sxs-lookup"><span data-stu-id="9772c-139">Pickup information</span></span>
- <span data-ttu-id="9772c-140">Conferma dell'ordine</span><span class="sxs-lookup"><span data-stu-id="9772c-140">Order confirmation</span></span>
- <span data-ttu-id="9772c-141">Dettagli ordine</span><span class="sxs-lookup"><span data-stu-id="9772c-141">Order details</span></span>

<span data-ttu-id="9772c-142">Non sono necessari passaggi aggiuntivi sulle pagine di e-commerce per rendere disponibili le modalità di consegna ritiro.</span><span class="sxs-lookup"><span data-stu-id="9772c-142">No additional steps are required on e-commerce pages to make the pickup delivery modes available.</span></span>

## <a name="work-with-multiple-pickup-delivery-modes"></a><span data-ttu-id="9772c-143">Utilizzare più modalità di consegna ritiro</span><span class="sxs-lookup"><span data-stu-id="9772c-143">Work with multiple pickup delivery modes</span></span>

<span data-ttu-id="9772c-144">Quando sono disponibili più modalità di consegna ritiro per un canale, viene fornita un'esperienza migliorata ai clienti quando acquistano i prodotti che verranno ritirati.</span><span class="sxs-lookup"><span data-stu-id="9772c-144">When multiple pickup delivery modes are available for a channel, an enhanced experience is provided to customers when they shop for products that will be picked up.</span></span> 

- <span data-ttu-id="9772c-145">Nei canali di e-commerce, gli acquirenti possono selezionare qualsiasi modalità di consegna ritiro valida disponibile.</span><span class="sxs-lookup"><span data-stu-id="9772c-145">In e-commerce channels, shoppers can select any valid pickup delivery mode that is available.</span></span> <span data-ttu-id="9772c-146">Ad esempio, un rivenditore definisce due modalità di consegna ritiro (ritiro in negozio e ritiro a piano strada), entrambe sono configurate nella griglia **Modalità di consegna ritiro** ed entrambe sono valide per il canale di evasione degli ordini e per il prodotto che un acquirente sta attualmente acquistando.</span><span class="sxs-lookup"><span data-stu-id="9772c-146">For example, a retailer defines two pickup delivery modes (in-store pickup and curbside pickup), both are configured in the **Pickup mode of delivery** grid, and both are valid for the order fulfillment channel and the product that a shopper is currently purchasing.</span></span> <span data-ttu-id="9772c-147">In questo caso, l'acquirente può selezionare la modalità di consegna ritiro preferita.</span><span class="sxs-lookup"><span data-stu-id="9772c-147">In this case, the shopper can select their preferred pickup delivery mode.</span></span> <span data-ttu-id="9772c-148">La modalità di consegna ritiro selezionata diventa quindi la modalità di consegna collegata alla riga dell'ordine di vendita quando l'ordine viene creato in Commerce headquarters.</span><span class="sxs-lookup"><span data-stu-id="9772c-148">The selected pickup delivery mode then becomes the mode of delivery that is linked to the sales order line when the order is created in Commerce headquarters.</span></span>

    ![Selezione di un'opzione di ritiro in e-commerce](media/pickupecommerce.png)

- <span data-ttu-id="9772c-150">Nei canali del punto vendita, se viene creato un ordine cliente per il ritiro tramite l'applicazione del punto vendita (POS), all'addetto alle vendite viene richiesto di scegliere tra le modalità di consegna ritiro disponibili, se sono state configurate.</span><span class="sxs-lookup"><span data-stu-id="9772c-150">In store channels, if a customer order for pickup is created through the point of sale (POS) application, the sales associate is prompted to choose among the available pickup delivery modes, if any have been configured.</span></span> <span data-ttu-id="9772c-151">Se è disponibile una sola modalità di consegna ritiro valida per il canale e l'articolo, all'addetto alle vendite non viene chiesto di selezionarla.</span><span class="sxs-lookup"><span data-stu-id="9772c-151">If only one valid pickup delivery mode is available for the channel and item, the sales associate isn't prompted to select it.</span></span> <span data-ttu-id="9772c-152">La modalità di consegna ritiro disponibile viene invece applicata automaticamente alle righe dell'ordine.</span><span class="sxs-lookup"><span data-stu-id="9772c-152">Instead, the available pickup delivery mode is automatically applied to the order lines.</span></span>

    ![Selezione di un'opzione di ritiro nell'applicazione POS](media/pickuppos.png)

- <span data-ttu-id="9772c-154">Nei canali del call center, quando gli utenti creano ordini di ritiro, possono selezionare manualmente qualsiasi modalità di consegna ritiro definita collegata al canale del call center.</span><span class="sxs-lookup"><span data-stu-id="9772c-154">In call center channels, when users create pickup orders, they can manually select any defined pickup delivery mode that is linked to the call center channel.</span></span> <span data-ttu-id="9772c-155">Il sistema quindi convalida che la modalità di consegna ritiro selezionata possa essere utilizzata quando l'articolo a cui è stato collegato viene ordinato.</span><span class="sxs-lookup"><span data-stu-id="9772c-155">The system then validates that the selected pickup delivery mode can be used when the item that is being linked to it is ordered.</span></span> <span data-ttu-id="9772c-156">Quando si seleziona una modalità di consegna ritiro nei canali del call center, le righe dell'ordine cliente devono essere collegate a un magazzino del punto vendita valido.</span><span class="sxs-lookup"><span data-stu-id="9772c-156">When a pickup delivery mode is selected in call center channels, the sales order lines must be linked to a valid store warehouse.</span></span> <span data-ttu-id="9772c-157">Se un magazzino non del punto vendita è definito in una riga di vendita del call center, non è possibile impostare una modalità di consegna ritiro su quella riga di vendita.</span><span class="sxs-lookup"><span data-stu-id="9772c-157">If a non-store warehouse is defined on a call center sales line, a pickup delivery mode can't be set on that sales line.</span></span>
- <span data-ttu-id="9772c-158">Gli addetti alle vendite possono utilizzare l'operazione **Richiama ordine** o **Evasione ordine** nell'applicazione POS per recuperare un elenco di ordini o righe di ordine per il ritiro.</span><span class="sxs-lookup"><span data-stu-id="9772c-158">Sales associates can use the **Order recall** or **Order fulfillment** operation in the POS application to retrieve a list of orders or order lines for pickup.</span></span> <span data-ttu-id="9772c-159">Se un addetto alle vendite utilizza un filtro di ricerca predefinito per mostrare tutti gli ordini che verranno ritirati nel negozio corrente, le query vengono modificate per garantire che i risultati della ricerca includano tutti gli ordini idonei che utilizzano qualsiasi modalità di consegna ritiro.</span><span class="sxs-lookup"><span data-stu-id="9772c-159">If a sales associate uses a predefined search filter to show all orders that will be picked up at the current store, the queries are modified to ensure that the search results include all eligible orders that use any pickup delivery mode.</span></span> <span data-ttu-id="9772c-160">Gli utenti POS possono anche utilizzare i filtri esistenti per limitare l'elenco degli ordini a una specifica modalità di consegna ritiro.</span><span class="sxs-lookup"><span data-stu-id="9772c-160">POS users can also use existing filters to narrow down the list of orders to a specific pickup delivery mode.</span></span> <span data-ttu-id="9772c-161">Ad esempio, possono mostrare solo gli ordini per il ritiro dal piano strada.</span><span class="sxs-lookup"><span data-stu-id="9772c-161">For example, they can show only orders for curbside pickup.</span></span>

    ![Filtro per modalità di consegna ritiro applicato a un elenco di ordini di richiamo](media/pickuprecallorder.png)

## <a name="considerations-for-distributed-order-management"></a><span data-ttu-id="9772c-163">Considerazioni per la gestione di ordini distribuiti</span><span class="sxs-lookup"><span data-stu-id="9772c-163">Considerations for distributed order management</span></span>

<span data-ttu-id="9772c-164">Le funzioni di [gestione ordini distribuiti (DOM)](https://docs.microsoft.com/dynamics365/commerce/dom) in Commerce ignorano le righe di vendita contrassegnate per il ritiro in negozio.</span><span class="sxs-lookup"><span data-stu-id="9772c-164">The [distributed order management (DOM)](https://docs.microsoft.com/dynamics365/commerce/dom) features in Commerce ignore any sales lines that are marked for store pickup.</span></span> <span data-ttu-id="9772c-165">Queste funzionalità sono state aggiornate per garantire che le righe di vendita collegate alle modalità di consegna ritiro configurate ignorino la logica DOM e non vengano riallocate a un nuovo magazzino di evasione ordini.</span><span class="sxs-lookup"><span data-stu-id="9772c-165">These features have been updated to ensure that sales lines that are linked to configured pickup delivery modes bypass the DOM logic and won't be reallocated to a new fulfillment warehouse.</span></span>
